var YJ=Object.defineProperty;var QJ=(t,e,n)=>e in t?YJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var de=(t,e,n)=>(QJ(t,typeof e!="symbol"?e+"":e,n),n),QI=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var f=(t,e,n)=>(QI(t,e,"read from private field"),n?n.call(t):e.get(t)),k=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},R=(t,e,n,r)=>(QI(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var Fr=(t,e,n,r)=>({set _(i){R(t,e,i,n)},get _(){return f(t,e,r)}}),j=(t,e,n)=>(QI(t,e,"access private method"),n);function JJ(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var K1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var y9={exports:{}},JP={},v9={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_=Symbol.for("react.element"),ZJ=Symbol.for("react.portal"),eZ=Symbol.for("react.fragment"),tZ=Symbol.for("react.strict_mode"),nZ=Symbol.for("react.profiler"),rZ=Symbol.for("react.provider"),iZ=Symbol.for("react.context"),sZ=Symbol.for("react.forward_ref"),oZ=Symbol.for("react.suspense"),aZ=Symbol.for("react.memo"),lZ=Symbol.for("react.lazy"),u4=Symbol.iterator;function cZ(t){return t===null||typeof t!="object"?null:(t=u4&&t[u4]||t["@@iterator"],typeof t=="function"?t:null)}var b9={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w9=Object.assign,_9={};function hy(t,e,n){this.props=t,this.context=e,this.refs=_9,this.updater=n||b9}hy.prototype.isReactComponent={};hy.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hy.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function x9(){}x9.prototype=hy.prototype;function aD(t,e,n){this.props=t,this.context=e,this.refs=_9,this.updater=n||b9}var lD=aD.prototype=new x9;lD.constructor=aD;w9(lD,hy.prototype);lD.isPureReactComponent=!0;var h4=Array.isArray,A9=Object.prototype.hasOwnProperty,cD={current:null},E9={key:!0,ref:!0,__self:!0,__source:!0};function S9(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)A9.call(e,r)&&!E9.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:K_,type:t,key:s,ref:o,props:i,_owner:cD.current}}function uZ(t,e){return{$$typeof:K_,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function uD(t){return typeof t=="object"&&t!==null&&t.$$typeof===K_}function hZ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var d4=/\/+/g;function JI(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hZ(""+t.key):e.toString(36)}function Yx(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case K_:case ZJ:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+JI(o,0):r,h4(i)?(n="",t!=null&&(n=t.replace(d4,"$&/")+"/"),Yx(i,e,n,"",function(c){return c})):i!=null&&(uD(i)&&(i=uZ(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(d4,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",h4(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+JI(s,a);o+=Yx(s,e,n,l,i)}else if(l=cZ(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+JI(s,a++),o+=Yx(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function X1(t,e,n){if(t==null)return t;var r=[],i=0;return Yx(t,r,"","",function(s){return e.call(n,s,i++)}),r}function dZ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zr={current:null},Qx={transition:null},fZ={ReactCurrentDispatcher:Zr,ReactCurrentBatchConfig:Qx,ReactCurrentOwner:cD};function T9(){throw Error("act(...) is not supported in production builds of React.")}Ge.Children={map:X1,forEach:function(t,e,n){X1(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return X1(t,function(){e++}),e},toArray:function(t){return X1(t,function(e){return e})||[]},only:function(t){if(!uD(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ge.Component=hy;Ge.Fragment=eZ;Ge.Profiler=nZ;Ge.PureComponent=aD;Ge.StrictMode=tZ;Ge.Suspense=oZ;Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fZ;Ge.act=T9;Ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=w9({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=cD.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)A9.call(e,l)&&!E9.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:K_,type:t.type,key:i,ref:s,props:r,_owner:o}};Ge.createContext=function(t){return t={$$typeof:iZ,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rZ,_context:t},t.Consumer=t};Ge.createElement=S9;Ge.createFactory=function(t){var e=S9.bind(null,t);return e.type=t,e};Ge.createRef=function(){return{current:null}};Ge.forwardRef=function(t){return{$$typeof:sZ,render:t}};Ge.isValidElement=uD;Ge.lazy=function(t){return{$$typeof:lZ,_payload:{_status:-1,_result:t},_init:dZ}};Ge.memo=function(t,e){return{$$typeof:aZ,type:t,compare:e===void 0?null:e}};Ge.startTransition=function(t){var e=Qx.transition;Qx.transition={};try{t()}finally{Qx.transition=e}};Ge.unstable_act=T9;Ge.useCallback=function(t,e){return Zr.current.useCallback(t,e)};Ge.useContext=function(t){return Zr.current.useContext(t)};Ge.useDebugValue=function(){};Ge.useDeferredValue=function(t){return Zr.current.useDeferredValue(t)};Ge.useEffect=function(t,e){return Zr.current.useEffect(t,e)};Ge.useId=function(){return Zr.current.useId()};Ge.useImperativeHandle=function(t,e,n){return Zr.current.useImperativeHandle(t,e,n)};Ge.useInsertionEffect=function(t,e){return Zr.current.useInsertionEffect(t,e)};Ge.useLayoutEffect=function(t,e){return Zr.current.useLayoutEffect(t,e)};Ge.useMemo=function(t,e){return Zr.current.useMemo(t,e)};Ge.useReducer=function(t,e,n){return Zr.current.useReducer(t,e,n)};Ge.useRef=function(t){return Zr.current.useRef(t)};Ge.useState=function(t){return Zr.current.useState(t)};Ge.useSyncExternalStore=function(t,e,n){return Zr.current.useSyncExternalStore(t,e,n)};Ge.useTransition=function(){return Zr.current.useTransition()};Ge.version="18.3.1";v9.exports=Ge;var I=v9.exports;const U=dt(I),X_=JJ({__proto__:null,default:U},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pZ=I,gZ=Symbol.for("react.element"),mZ=Symbol.for("react.fragment"),yZ=Object.prototype.hasOwnProperty,vZ=pZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bZ={key:!0,ref:!0,__self:!0,__source:!0};function P9(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)yZ.call(e,r)&&!bZ.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:gZ,type:t,key:s,ref:o,props:i,_owner:vZ.current}}JP.Fragment=mZ;JP.jsx=P9;JP.jsxs=P9;y9.exports=JP;var C=y9.exports,Nk={},C9={exports:{}},Zi={},I9={exports:{}},O9={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,X){var ee=z.length;z.push(X);e:for(;0<ee;){var ae=ee-1>>>1,Z=z[ae];if(0<i(Z,X))z[ae]=X,z[ee]=Z,ee=ae;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var X=z[0],ee=z.pop();if(ee!==X){z[0]=ee;e:for(var ae=0,Z=z.length,ne=Z>>>1;ae<ne;){var Te=2*(ae+1)-1,Pe=z[Te],je=Te+1,fe=z[je];if(0>i(Pe,ee))je<Z&&0>i(fe,Pe)?(z[ae]=fe,z[je]=ee,ae=je):(z[ae]=Pe,z[Te]=ee,ae=Te);else if(je<Z&&0>i(fe,ee))z[ae]=fe,z[je]=ee,ae=je;else break e}}return X}function i(z,X){var ee=z.sortIndex-X.sortIndex;return ee!==0?ee:z.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,p=!1,y=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(z){for(var X=n(c);X!==null;){if(X.callback===null)r(c);else if(X.startTime<=z)r(c),X.sortIndex=X.expirationTime,e(l,X);else break;X=n(c)}}function S(z){if(g=!1,_(z),!y)if(n(l)!==null)y=!0,H(x);else{var X=n(c);X!==null&&G(S,X.startTime-z)}}function x(z,X){y=!1,g&&(g=!1,b(E),E=-1),p=!0;var ee=d;try{for(_(X),h=n(l);h!==null&&(!(h.expirationTime>X)||z&&!D());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,d=h.priorityLevel;var Z=ae(h.expirationTime<=X);X=t.unstable_now(),typeof Z=="function"?h.callback=Z:h===n(l)&&r(l),_(X)}else r(l);h=n(l)}if(h!==null)var ne=!0;else{var Te=n(c);Te!==null&&G(S,Te.startTime-X),ne=!1}return ne}finally{h=null,d=ee,p=!1}}var T=!1,A=null,E=-1,O=5,M=-1;function D(){return!(t.unstable_now()-M<O)}function $(){if(A!==null){var z=t.unstable_now();M=z;var X=!0;try{X=A(!0,z)}finally{X?L():(T=!1,A=null)}}else T=!1}var L;if(typeof w=="function")L=function(){w($)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,q=W.port2;W.port1.onmessage=$,L=function(){q.postMessage(null)}}else L=function(){v($,0)};function H(z){A=z,T||(T=!0,L())}function G(z,X){E=v(function(){z(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,H(x))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(d){case 1:case 2:case 3:var X=3;break;default:X=d}var ee=d;d=X;try{return z()}finally{d=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,X){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ee=d;d=z;try{return X()}finally{d=ee}},t.unstable_scheduleCallback=function(z,X,ee){var ae=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ae+ee:ae):ee=ae,z){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ee+Z,z={id:u++,callback:X,priorityLevel:z,startTime:ee,expirationTime:Z,sortIndex:-1},ee>ae?(z.sortIndex=ee,e(c,z),n(l)===null&&z===n(c)&&(g?(b(E),E=-1):g=!0,G(S,ee-ae))):(z.sortIndex=Z,e(l,z),y||p||(y=!0,H(x))),z},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(z){var X=d;return function(){var ee=d;d=X;try{return z.apply(this,arguments)}finally{d=ee}}}})(O9);I9.exports=O9;var wZ=I9.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _Z=I,Ji=wZ;function ue(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k9=new Set,w0={};function df(t,e){_m(t,e),_m(t+"Capture",e)}function _m(t,e){for(w0[t]=e,t=0;t<e.length;t++)k9.add(e[t])}var _l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mk=Object.prototype.hasOwnProperty,xZ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f4={},p4={};function AZ(t){return Mk.call(p4,t)?!0:Mk.call(f4,t)?!1:xZ.test(t)?p4[t]=!0:(f4[t]=!0,!1)}function EZ(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function SZ(t,e,n,r){if(e===null||typeof e>"u"||EZ(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ei(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var hr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){hr[t]=new ei(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];hr[e]=new ei(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){hr[t]=new ei(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){hr[t]=new ei(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){hr[t]=new ei(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){hr[t]=new ei(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){hr[t]=new ei(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){hr[t]=new ei(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){hr[t]=new ei(t,5,!1,t.toLowerCase(),null,!1,!1)});var hD=/[\-:]([a-z])/g;function dD(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hD,dD);hr[e]=new ei(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hD,dD);hr[e]=new ei(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hD,dD);hr[e]=new ei(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){hr[t]=new ei(t,1,!1,t.toLowerCase(),null,!1,!1)});hr.xlinkHref=new ei("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){hr[t]=new ei(t,1,!1,t.toLowerCase(),null,!0,!0)});function fD(t,e,n,r){var i=hr.hasOwnProperty(e)?hr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(SZ(e,n,i,r)&&(n=null),r||i===null?AZ(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var $l=_Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y1=Symbol.for("react.element"),rp=Symbol.for("react.portal"),ip=Symbol.for("react.fragment"),pD=Symbol.for("react.strict_mode"),Dk=Symbol.for("react.profiler"),R9=Symbol.for("react.provider"),N9=Symbol.for("react.context"),gD=Symbol.for("react.forward_ref"),$k=Symbol.for("react.suspense"),Lk=Symbol.for("react.suspense_list"),mD=Symbol.for("react.memo"),Zl=Symbol.for("react.lazy"),M9=Symbol.for("react.offscreen"),g4=Symbol.iterator;function Qy(t){return t===null||typeof t!="object"?null:(t=g4&&t[g4]||t["@@iterator"],typeof t=="function"?t:null)}var qt=Object.assign,ZI;function _v(t){if(ZI===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ZI=e&&e[1]||""}return`
`+ZI+t}var eO=!1;function tO(t,e){if(!t||eO)return"";eO=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{eO=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_v(t):""}function TZ(t){switch(t.tag){case 5:return _v(t.type);case 16:return _v("Lazy");case 13:return _v("Suspense");case 19:return _v("SuspenseList");case 0:case 2:case 15:return t=tO(t.type,!1),t;case 11:return t=tO(t.type.render,!1),t;case 1:return t=tO(t.type,!0),t;default:return""}}function jk(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ip:return"Fragment";case rp:return"Portal";case Dk:return"Profiler";case pD:return"StrictMode";case $k:return"Suspense";case Lk:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N9:return(t.displayName||"Context")+".Consumer";case R9:return(t._context.displayName||"Context")+".Provider";case gD:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case mD:return e=t.displayName||null,e!==null?e:jk(t.type)||"Memo";case Zl:e=t._payload,t=t._init;try{return jk(t(e))}catch{}}return null}function PZ(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jk(e);case 8:return e===pD?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function D9(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function CZ(t){var e=D9(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Q1(t){t._valueTracker||(t._valueTracker=CZ(t))}function $9(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=D9(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function eE(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fk(t,e){var n=e.checked;return qt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function m4(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=yu(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function L9(t,e){e=e.checked,e!=null&&fD(t,"checked",e,!1)}function Vk(t,e){L9(t,e);var n=yu(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bk(t,e.type,n):e.hasOwnProperty("defaultValue")&&Bk(t,e.type,yu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function y4(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Bk(t,e,n){(e!=="number"||eE(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xv=Array.isArray;function Sp(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yu(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Uk(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ue(91));return qt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function v4(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ue(92));if(xv(n)){if(1<n.length)throw Error(ue(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:yu(n)}}function j9(t,e){var n=yu(e.value),r=yu(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function b4(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function F9(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zk(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?F9(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var J1,V9=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(J1=J1||document.createElement("div"),J1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=J1.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _0(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Qv={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},IZ=["Webkit","ms","Moz","O"];Object.keys(Qv).forEach(function(t){IZ.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Qv[e]=Qv[t]})});function B9(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Qv.hasOwnProperty(t)&&Qv[t]?(""+e).trim():e+"px"}function U9(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=B9(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var OZ=qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hk(t,e){if(e){if(OZ[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ue(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ue(62))}}function Wk(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gk=null;function yD(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qk=null,Tp=null,Pp=null;function w4(t){if(t=J_(t)){if(typeof qk!="function")throw Error(ue(280));var e=t.stateNode;e&&(e=rC(e),qk(t.stateNode,t.type,e))}}function z9(t){Tp?Pp?Pp.push(t):Pp=[t]:Tp=t}function H9(){if(Tp){var t=Tp,e=Pp;if(Pp=Tp=null,w4(t),e)for(t=0;t<e.length;t++)w4(e[t])}}function W9(t,e){return t(e)}function G9(){}var nO=!1;function q9(t,e,n){if(nO)return t(e,n);nO=!0;try{return W9(t,e,n)}finally{nO=!1,(Tp!==null||Pp!==null)&&(G9(),H9())}}function x0(t,e){var n=t.stateNode;if(n===null)return null;var r=rC(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ue(231,e,typeof n));return n}var Kk=!1;if(_l)try{var Jy={};Object.defineProperty(Jy,"passive",{get:function(){Kk=!0}}),window.addEventListener("test",Jy,Jy),window.removeEventListener("test",Jy,Jy)}catch{Kk=!1}function kZ(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Jv=!1,tE=null,nE=!1,Xk=null,RZ={onError:function(t){Jv=!0,tE=t}};function NZ(t,e,n,r,i,s,o,a,l){Jv=!1,tE=null,kZ.apply(RZ,arguments)}function MZ(t,e,n,r,i,s,o,a,l){if(NZ.apply(this,arguments),Jv){if(Jv){var c=tE;Jv=!1,tE=null}else throw Error(ue(198));nE||(nE=!0,Xk=c)}}function ff(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function K9(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _4(t){if(ff(t)!==t)throw Error(ue(188))}function DZ(t){var e=t.alternate;if(!e){if(e=ff(t),e===null)throw Error(ue(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return _4(i),t;if(s===r)return _4(i),e;s=s.sibling}throw Error(ue(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ue(189))}}if(n.alternate!==r)throw Error(ue(190))}if(n.tag!==3)throw Error(ue(188));return n.stateNode.current===n?t:e}function X9(t){return t=DZ(t),t!==null?Y9(t):null}function Y9(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Y9(t);if(e!==null)return e;t=t.sibling}return null}var Q9=Ji.unstable_scheduleCallback,x4=Ji.unstable_cancelCallback,$Z=Ji.unstable_shouldYield,LZ=Ji.unstable_requestPaint,ln=Ji.unstable_now,jZ=Ji.unstable_getCurrentPriorityLevel,vD=Ji.unstable_ImmediatePriority,J9=Ji.unstable_UserBlockingPriority,rE=Ji.unstable_NormalPriority,FZ=Ji.unstable_LowPriority,Z9=Ji.unstable_IdlePriority,ZP=null,ea=null;function VZ(t){if(ea&&typeof ea.onCommitFiberRoot=="function")try{ea.onCommitFiberRoot(ZP,t,void 0,(t.current.flags&128)===128)}catch{}}var fo=Math.clz32?Math.clz32:zZ,BZ=Math.log,UZ=Math.LN2;function zZ(t){return t>>>=0,t===0?32:31-(BZ(t)/UZ|0)|0}var Z1=64,ex=4194304;function Av(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function iE(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Av(a):(s&=o,s!==0&&(r=Av(s)))}else o=n&~i,o!==0?r=Av(o):s!==0&&(r=Av(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fo(e),i=1<<n,r|=t[n],e&=~i;return r}function HZ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WZ(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-fo(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=HZ(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Yk(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function eU(){var t=Z1;return Z1<<=1,!(Z1&4194240)&&(Z1=64),t}function rO(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Y_(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fo(e),t[e]=n}function GZ(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-fo(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function bD(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fo(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var gt=0;function tU(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nU,wD,rU,iU,sU,Qk=!1,tx=[],nu=null,ru=null,iu=null,A0=new Map,E0=new Map,nc=[],qZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function A4(t,e){switch(t){case"focusin":case"focusout":nu=null;break;case"dragenter":case"dragleave":ru=null;break;case"mouseover":case"mouseout":iu=null;break;case"pointerover":case"pointerout":A0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":E0.delete(e.pointerId)}}function Zy(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=J_(e),e!==null&&wD(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function KZ(t,e,n,r,i){switch(e){case"focusin":return nu=Zy(nu,t,e,n,r,i),!0;case"dragenter":return ru=Zy(ru,t,e,n,r,i),!0;case"mouseover":return iu=Zy(iu,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return A0.set(s,Zy(A0.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,E0.set(s,Zy(E0.get(s)||null,t,e,n,r,i)),!0}return!1}function oU(t){var e=ih(t.target);if(e!==null){var n=ff(e);if(n!==null){if(e=n.tag,e===13){if(e=K9(n),e!==null){t.blockedOn=e,sU(t.priority,function(){rU(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jx(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Jk(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Gk=r,n.target.dispatchEvent(r),Gk=null}else return e=J_(n),e!==null&&wD(e),t.blockedOn=n,!1;e.shift()}return!0}function E4(t,e,n){Jx(t)&&n.delete(e)}function XZ(){Qk=!1,nu!==null&&Jx(nu)&&(nu=null),ru!==null&&Jx(ru)&&(ru=null),iu!==null&&Jx(iu)&&(iu=null),A0.forEach(E4),E0.forEach(E4)}function ev(t,e){t.blockedOn===e&&(t.blockedOn=null,Qk||(Qk=!0,Ji.unstable_scheduleCallback(Ji.unstable_NormalPriority,XZ)))}function S0(t){function e(i){return ev(i,t)}if(0<tx.length){ev(tx[0],t);for(var n=1;n<tx.length;n++){var r=tx[n];r.blockedOn===t&&(r.blockedOn=null)}}for(nu!==null&&ev(nu,t),ru!==null&&ev(ru,t),iu!==null&&ev(iu,t),A0.forEach(e),E0.forEach(e),n=0;n<nc.length;n++)r=nc[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<nc.length&&(n=nc[0],n.blockedOn===null);)oU(n),n.blockedOn===null&&nc.shift()}var Cp=$l.ReactCurrentBatchConfig,sE=!0;function YZ(t,e,n,r){var i=gt,s=Cp.transition;Cp.transition=null;try{gt=1,_D(t,e,n,r)}finally{gt=i,Cp.transition=s}}function QZ(t,e,n,r){var i=gt,s=Cp.transition;Cp.transition=null;try{gt=4,_D(t,e,n,r)}finally{gt=i,Cp.transition=s}}function _D(t,e,n,r){if(sE){var i=Jk(t,e,n,r);if(i===null)fO(t,e,r,oE,n),A4(t,r);else if(KZ(i,t,e,n,r))r.stopPropagation();else if(A4(t,r),e&4&&-1<qZ.indexOf(t)){for(;i!==null;){var s=J_(i);if(s!==null&&nU(s),s=Jk(t,e,n,r),s===null&&fO(t,e,r,oE,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else fO(t,e,r,null,n)}}var oE=null;function Jk(t,e,n,r){if(oE=null,t=yD(r),t=ih(t),t!==null)if(e=ff(t),e===null)t=null;else if(n=e.tag,n===13){if(t=K9(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return oE=t,null}function aU(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jZ()){case vD:return 1;case J9:return 4;case rE:case FZ:return 16;case Z9:return 536870912;default:return 16}default:return 16}}var Qc=null,xD=null,Zx=null;function lU(){if(Zx)return Zx;var t,e=xD,n=e.length,r,i="value"in Qc?Qc.value:Qc.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Zx=i.slice(t,1<r?1-r:void 0)}function eA(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nx(){return!0}function S4(){return!1}function es(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?nx:S4,this.isPropagationStopped=S4,this}return qt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nx)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nx)},persist:function(){},isPersistent:nx}),e}var dy={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},AD=es(dy),Q_=qt({},dy,{view:0,detail:0}),JZ=es(Q_),iO,sO,tv,eC=qt({},Q_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ED,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==tv&&(tv&&t.type==="mousemove"?(iO=t.screenX-tv.screenX,sO=t.screenY-tv.screenY):sO=iO=0,tv=t),iO)},movementY:function(t){return"movementY"in t?t.movementY:sO}}),T4=es(eC),ZZ=qt({},eC,{dataTransfer:0}),eee=es(ZZ),tee=qt({},Q_,{relatedTarget:0}),oO=es(tee),nee=qt({},dy,{animationName:0,elapsedTime:0,pseudoElement:0}),ree=es(nee),iee=qt({},dy,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),see=es(iee),oee=qt({},dy,{data:0}),P4=es(oee),aee={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uee(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=cee[t])?!!e[t]:!1}function ED(){return uee}var hee=qt({},Q_,{key:function(t){if(t.key){var e=aee[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=eA(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lee[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ED,charCode:function(t){return t.type==="keypress"?eA(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?eA(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dee=es(hee),fee=qt({},eC,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C4=es(fee),pee=qt({},Q_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ED}),gee=es(pee),mee=qt({},dy,{propertyName:0,elapsedTime:0,pseudoElement:0}),yee=es(mee),vee=qt({},eC,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bee=es(vee),wee=[9,13,27,32],SD=_l&&"CompositionEvent"in window,Zv=null;_l&&"documentMode"in document&&(Zv=document.documentMode);var _ee=_l&&"TextEvent"in window&&!Zv,cU=_l&&(!SD||Zv&&8<Zv&&11>=Zv),I4=String.fromCharCode(32),O4=!1;function uU(t,e){switch(t){case"keyup":return wee.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hU(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sp=!1;function xee(t,e){switch(t){case"compositionend":return hU(e);case"keypress":return e.which!==32?null:(O4=!0,I4);case"textInput":return t=e.data,t===I4&&O4?null:t;default:return null}}function Aee(t,e){if(sp)return t==="compositionend"||!SD&&uU(t,e)?(t=lU(),Zx=xD=Qc=null,sp=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cU&&e.locale!=="ko"?null:e.data;default:return null}}var Eee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Eee[t.type]:e==="textarea"}function dU(t,e,n,r){z9(r),e=aE(e,"onChange"),0<e.length&&(n=new AD("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var e0=null,T0=null;function See(t){AU(t,0)}function tC(t){var e=lp(t);if($9(e))return t}function Tee(t,e){if(t==="change")return e}var fU=!1;if(_l){var aO;if(_l){var lO="oninput"in document;if(!lO){var R4=document.createElement("div");R4.setAttribute("oninput","return;"),lO=typeof R4.oninput=="function"}aO=lO}else aO=!1;fU=aO&&(!document.documentMode||9<document.documentMode)}function N4(){e0&&(e0.detachEvent("onpropertychange",pU),T0=e0=null)}function pU(t){if(t.propertyName==="value"&&tC(T0)){var e=[];dU(e,T0,t,yD(t)),q9(See,e)}}function Pee(t,e,n){t==="focusin"?(N4(),e0=e,T0=n,e0.attachEvent("onpropertychange",pU)):t==="focusout"&&N4()}function Cee(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tC(T0)}function Iee(t,e){if(t==="click")return tC(e)}function Oee(t,e){if(t==="input"||t==="change")return tC(e)}function kee(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yo=typeof Object.is=="function"?Object.is:kee;function P0(t,e){if(yo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Mk.call(e,i)||!yo(t[i],e[i]))return!1}return!0}function M4(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function D4(t,e){var n=M4(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=M4(n)}}function gU(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gU(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mU(){for(var t=window,e=eE();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=eE(t.document)}return e}function TD(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ree(t){var e=mU(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&gU(n.ownerDocument.documentElement,n)){if(r!==null&&TD(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=D4(n,s);var o=D4(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Nee=_l&&"documentMode"in document&&11>=document.documentMode,op=null,Zk=null,t0=null,e2=!1;function $4(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;e2||op==null||op!==eE(r)||(r=op,"selectionStart"in r&&TD(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),t0&&P0(t0,r)||(t0=r,r=aE(Zk,"onSelect"),0<r.length&&(e=new AD("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=op)))}function rx(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ap={animationend:rx("Animation","AnimationEnd"),animationiteration:rx("Animation","AnimationIteration"),animationstart:rx("Animation","AnimationStart"),transitionend:rx("Transition","TransitionEnd")},cO={},yU={};_l&&(yU=document.createElement("div").style,"AnimationEvent"in window||(delete ap.animationend.animation,delete ap.animationiteration.animation,delete ap.animationstart.animation),"TransitionEvent"in window||delete ap.transitionend.transition);function nC(t){if(cO[t])return cO[t];if(!ap[t])return t;var e=ap[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in yU)return cO[t]=e[n];return t}var vU=nC("animationend"),bU=nC("animationiteration"),wU=nC("animationstart"),_U=nC("transitionend"),xU=new Map,L4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Iu(t,e){xU.set(t,e),df(e,[t])}for(var uO=0;uO<L4.length;uO++){var hO=L4[uO],Mee=hO.toLowerCase(),Dee=hO[0].toUpperCase()+hO.slice(1);Iu(Mee,"on"+Dee)}Iu(vU,"onAnimationEnd");Iu(bU,"onAnimationIteration");Iu(wU,"onAnimationStart");Iu("dblclick","onDoubleClick");Iu("focusin","onFocus");Iu("focusout","onBlur");Iu(_U,"onTransitionEnd");_m("onMouseEnter",["mouseout","mouseover"]);_m("onMouseLeave",["mouseout","mouseover"]);_m("onPointerEnter",["pointerout","pointerover"]);_m("onPointerLeave",["pointerout","pointerover"]);df("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));df("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));df("onBeforeInput",["compositionend","keypress","textInput","paste"]);df("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));df("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));df("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ev="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$ee=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ev));function j4(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,MZ(r,e,void 0,t),t.currentTarget=null}function AU(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;j4(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;j4(i,a,c),s=l}}}if(nE)throw t=Xk,nE=!1,Xk=null,t}function kt(t,e){var n=e[s2];n===void 0&&(n=e[s2]=new Set);var r=t+"__bubble";n.has(r)||(EU(e,t,2,!1),n.add(r))}function dO(t,e,n){var r=0;e&&(r|=4),EU(n,t,r,e)}var ix="_reactListening"+Math.random().toString(36).slice(2);function C0(t){if(!t[ix]){t[ix]=!0,k9.forEach(function(n){n!=="selectionchange"&&($ee.has(n)||dO(n,!1,t),dO(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ix]||(e[ix]=!0,dO("selectionchange",!1,e))}}function EU(t,e,n,r){switch(aU(e)){case 1:var i=YZ;break;case 4:i=QZ;break;default:i=_D}n=i.bind(null,e,n,t),i=void 0,!Kk||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function fO(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ih(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}q9(function(){var c=s,u=yD(n),h=[];e:{var d=xU.get(t);if(d!==void 0){var p=AD,y=t;switch(t){case"keypress":if(eA(n)===0)break e;case"keydown":case"keyup":p=dee;break;case"focusin":y="focus",p=oO;break;case"focusout":y="blur",p=oO;break;case"beforeblur":case"afterblur":p=oO;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=T4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=eee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=gee;break;case vU:case bU:case wU:p=ree;break;case _U:p=yee;break;case"scroll":p=JZ;break;case"wheel":p=bee;break;case"copy":case"cut":case"paste":p=see;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=C4}var g=(e&4)!==0,v=!g&&t==="scroll",b=g?d!==null?d+"Capture":null:d;g=[];for(var w=c,_;w!==null;){_=w;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,b!==null&&(S=x0(w,b),S!=null&&g.push(I0(w,S,_)))),v)break;w=w.return}0<g.length&&(d=new p(d,y,null,n,u),h.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==Gk&&(y=n.relatedTarget||n.fromElement)&&(ih(y)||y[xl]))break e;if((p||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=c,y=y?ih(y):null,y!==null&&(v=ff(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=c),p!==y)){if(g=T4,S="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=C4,S="onPointerLeave",b="onPointerEnter",w="pointer"),v=p==null?d:lp(p),_=y==null?d:lp(y),d=new g(S,w+"leave",p,n,u),d.target=v,d.relatedTarget=_,S=null,ih(u)===c&&(g=new g(b,w+"enter",y,n,u),g.target=_,g.relatedTarget=v,S=g),v=S,p&&y)t:{for(g=p,b=y,w=0,_=g;_;_=jf(_))w++;for(_=0,S=b;S;S=jf(S))_++;for(;0<w-_;)g=jf(g),w--;for(;0<_-w;)b=jf(b),_--;for(;w--;){if(g===b||b!==null&&g===b.alternate)break t;g=jf(g),b=jf(b)}g=null}else g=null;p!==null&&F4(h,d,p,g,!1),y!==null&&v!==null&&F4(h,v,y,g,!0)}}e:{if(d=c?lp(c):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var x=Tee;else if(k4(d))if(fU)x=Oee;else{x=Cee;var T=Pee}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=Iee);if(x&&(x=x(t,c))){dU(h,x,n,u);break e}T&&T(t,d,c),t==="focusout"&&(T=d._wrapperState)&&T.controlled&&d.type==="number"&&Bk(d,"number",d.value)}switch(T=c?lp(c):window,t){case"focusin":(k4(T)||T.contentEditable==="true")&&(op=T,Zk=c,t0=null);break;case"focusout":t0=Zk=op=null;break;case"mousedown":e2=!0;break;case"contextmenu":case"mouseup":case"dragend":e2=!1,$4(h,n,u);break;case"selectionchange":if(Nee)break;case"keydown":case"keyup":$4(h,n,u)}var A;if(SD)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else sp?uU(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(cU&&n.locale!=="ko"&&(sp||E!=="onCompositionStart"?E==="onCompositionEnd"&&sp&&(A=lU()):(Qc=u,xD="value"in Qc?Qc.value:Qc.textContent,sp=!0)),T=aE(c,E),0<T.length&&(E=new P4(E,t,null,n,u),h.push({event:E,listeners:T}),A?E.data=A:(A=hU(n),A!==null&&(E.data=A)))),(A=_ee?xee(t,n):Aee(t,n))&&(c=aE(c,"onBeforeInput"),0<c.length&&(u=new P4("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=A))}AU(h,e)})}function I0(t,e,n){return{instance:t,listener:e,currentTarget:n}}function aE(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=x0(t,n),s!=null&&r.unshift(I0(t,s,i)),s=x0(t,e),s!=null&&r.push(I0(t,s,i))),t=t.return}return r}function jf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function F4(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=x0(n,s),l!=null&&o.unshift(I0(n,l,a))):i||(l=x0(n,s),l!=null&&o.push(I0(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Lee=/\r\n?/g,jee=/\u0000|\uFFFD/g;function V4(t){return(typeof t=="string"?t:""+t).replace(Lee,`
`).replace(jee,"")}function sx(t,e,n){if(e=V4(e),V4(t)!==e&&n)throw Error(ue(425))}function lE(){}var t2=null,n2=null;function r2(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var i2=typeof setTimeout=="function"?setTimeout:void 0,Fee=typeof clearTimeout=="function"?clearTimeout:void 0,B4=typeof Promise=="function"?Promise:void 0,Vee=typeof queueMicrotask=="function"?queueMicrotask:typeof B4<"u"?function(t){return B4.resolve(null).then(t).catch(Bee)}:i2;function Bee(t){setTimeout(function(){throw t})}function pO(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),S0(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);S0(e)}function su(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function U4(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fy=Math.random().toString(36).slice(2),Xo="__reactFiber$"+fy,O0="__reactProps$"+fy,xl="__reactContainer$"+fy,s2="__reactEvents$"+fy,Uee="__reactListeners$"+fy,zee="__reactHandles$"+fy;function ih(t){var e=t[Xo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xl]||n[Xo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=U4(t);t!==null;){if(n=t[Xo])return n;t=U4(t)}return e}t=n,n=t.parentNode}return null}function J_(t){return t=t[Xo]||t[xl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function lp(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ue(33))}function rC(t){return t[O0]||null}var o2=[],cp=-1;function Ou(t){return{current:t}}function Dt(t){0>cp||(t.current=o2[cp],o2[cp]=null,cp--)}function Tt(t,e){cp++,o2[cp]=t.current,t.current=e}var vu={},Dr=Ou(vu),pi=Ou(!1),Hd=vu;function xm(t,e){var n=t.type.contextTypes;if(!n)return vu;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function gi(t){return t=t.childContextTypes,t!=null}function cE(){Dt(pi),Dt(Dr)}function z4(t,e,n){if(Dr.current!==vu)throw Error(ue(168));Tt(Dr,e),Tt(pi,n)}function SU(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ue(108,PZ(t)||"Unknown",i));return qt({},n,r)}function uE(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vu,Hd=Dr.current,Tt(Dr,t),Tt(pi,pi.current),!0}function H4(t,e,n){var r=t.stateNode;if(!r)throw Error(ue(169));n?(t=SU(t,e,Hd),r.__reactInternalMemoizedMergedChildContext=t,Dt(pi),Dt(Dr),Tt(Dr,t)):Dt(pi),Tt(pi,n)}var Ia=null,iC=!1,gO=!1;function TU(t){Ia===null?Ia=[t]:Ia.push(t)}function Hee(t){iC=!0,TU(t)}function ku(){if(!gO&&Ia!==null){gO=!0;var t=0,e=gt;try{var n=Ia;for(gt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ia=null,iC=!1}catch(i){throw Ia!==null&&(Ia=Ia.slice(t+1)),Q9(vD,ku),i}finally{gt=e,gO=!1}}return null}var up=[],hp=0,hE=null,dE=0,ys=[],vs=0,Wd=null,cl=1,ul="";function Gu(t,e){up[hp++]=dE,up[hp++]=hE,hE=t,dE=e}function PU(t,e,n){ys[vs++]=cl,ys[vs++]=ul,ys[vs++]=Wd,Wd=t;var r=cl;t=ul;var i=32-fo(r)-1;r&=~(1<<i),n+=1;var s=32-fo(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,cl=1<<32-fo(e)+i|n<<i|r,ul=s+t}else cl=1<<s|n<<i|r,ul=t}function PD(t){t.return!==null&&(Gu(t,1),PU(t,1,0))}function CD(t){for(;t===hE;)hE=up[--hp],up[hp]=null,dE=up[--hp],up[hp]=null;for(;t===Wd;)Wd=ys[--vs],ys[vs]=null,ul=ys[--vs],ys[vs]=null,cl=ys[--vs],ys[vs]=null}var qi=null,Gi=null,Ft=!1,oo=null;function CU(t,e){var n=_s(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function W4(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qi=t,Gi=su(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qi=t,Gi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Wd!==null?{id:cl,overflow:ul}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=_s(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,qi=t,Gi=null,!0):!1;default:return!1}}function a2(t){return(t.mode&1)!==0&&(t.flags&128)===0}function l2(t){if(Ft){var e=Gi;if(e){var n=e;if(!W4(t,e)){if(a2(t))throw Error(ue(418));e=su(n.nextSibling);var r=qi;e&&W4(t,e)?CU(r,n):(t.flags=t.flags&-4097|2,Ft=!1,qi=t)}}else{if(a2(t))throw Error(ue(418));t.flags=t.flags&-4097|2,Ft=!1,qi=t}}}function G4(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qi=t}function ox(t){if(t!==qi)return!1;if(!Ft)return G4(t),Ft=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!r2(t.type,t.memoizedProps)),e&&(e=Gi)){if(a2(t))throw IU(),Error(ue(418));for(;e;)CU(t,e),e=su(e.nextSibling)}if(G4(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ue(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Gi=su(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Gi=null}}else Gi=qi?su(t.stateNode.nextSibling):null;return!0}function IU(){for(var t=Gi;t;)t=su(t.nextSibling)}function Am(){Gi=qi=null,Ft=!1}function ID(t){oo===null?oo=[t]:oo.push(t)}var Wee=$l.ReactCurrentBatchConfig;function nv(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ue(309));var r=n.stateNode}if(!r)throw Error(ue(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ue(284));if(!n._owner)throw Error(ue(290,t))}return t}function ax(t,e){throw t=Object.prototype.toString.call(e),Error(ue(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function q4(t){var e=t._init;return e(t._payload)}function OU(t){function e(b,w){if(t){var _=b.deletions;_===null?(b.deletions=[w],b.flags|=16):_.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function i(b,w){return b=cu(b,w),b.index=0,b.sibling=null,b}function s(b,w,_){return b.index=_,t?(_=b.alternate,_!==null?(_=_.index,_<w?(b.flags|=2,w):_):(b.flags|=2,w)):(b.flags|=1048576,w)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,w,_,S){return w===null||w.tag!==6?(w=xO(_,b.mode,S),w.return=b,w):(w=i(w,_),w.return=b,w)}function l(b,w,_,S){var x=_.type;return x===ip?u(b,w,_.props.children,S,_.key):w!==null&&(w.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Zl&&q4(x)===w.type)?(S=i(w,_.props),S.ref=nv(b,w,_),S.return=b,S):(S=aA(_.type,_.key,_.props,null,b.mode,S),S.ref=nv(b,w,_),S.return=b,S)}function c(b,w,_,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=AO(_,b.mode,S),w.return=b,w):(w=i(w,_.children||[]),w.return=b,w)}function u(b,w,_,S,x){return w===null||w.tag!==7?(w=jd(_,b.mode,S,x),w.return=b,w):(w=i(w,_),w.return=b,w)}function h(b,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=xO(""+w,b.mode,_),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Y1:return _=aA(w.type,w.key,w.props,null,b.mode,_),_.ref=nv(b,null,w),_.return=b,_;case rp:return w=AO(w,b.mode,_),w.return=b,w;case Zl:var S=w._init;return h(b,S(w._payload),_)}if(xv(w)||Qy(w))return w=jd(w,b.mode,_,null),w.return=b,w;ax(b,w)}return null}function d(b,w,_,S){var x=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return x!==null?null:a(b,w,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Y1:return _.key===x?l(b,w,_,S):null;case rp:return _.key===x?c(b,w,_,S):null;case Zl:return x=_._init,d(b,w,x(_._payload),S)}if(xv(_)||Qy(_))return x!==null?null:u(b,w,_,S,null);ax(b,_)}return null}function p(b,w,_,S,x){if(typeof S=="string"&&S!==""||typeof S=="number")return b=b.get(_)||null,a(w,b,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Y1:return b=b.get(S.key===null?_:S.key)||null,l(w,b,S,x);case rp:return b=b.get(S.key===null?_:S.key)||null,c(w,b,S,x);case Zl:var T=S._init;return p(b,w,_,T(S._payload),x)}if(xv(S)||Qy(S))return b=b.get(_)||null,u(w,b,S,x,null);ax(w,S)}return null}function y(b,w,_,S){for(var x=null,T=null,A=w,E=w=0,O=null;A!==null&&E<_.length;E++){A.index>E?(O=A,A=null):O=A.sibling;var M=d(b,A,_[E],S);if(M===null){A===null&&(A=O);break}t&&A&&M.alternate===null&&e(b,A),w=s(M,w,E),T===null?x=M:T.sibling=M,T=M,A=O}if(E===_.length)return n(b,A),Ft&&Gu(b,E),x;if(A===null){for(;E<_.length;E++)A=h(b,_[E],S),A!==null&&(w=s(A,w,E),T===null?x=A:T.sibling=A,T=A);return Ft&&Gu(b,E),x}for(A=r(b,A);E<_.length;E++)O=p(A,b,E,_[E],S),O!==null&&(t&&O.alternate!==null&&A.delete(O.key===null?E:O.key),w=s(O,w,E),T===null?x=O:T.sibling=O,T=O);return t&&A.forEach(function(D){return e(b,D)}),Ft&&Gu(b,E),x}function g(b,w,_,S){var x=Qy(_);if(typeof x!="function")throw Error(ue(150));if(_=x.call(_),_==null)throw Error(ue(151));for(var T=x=null,A=w,E=w=0,O=null,M=_.next();A!==null&&!M.done;E++,M=_.next()){A.index>E?(O=A,A=null):O=A.sibling;var D=d(b,A,M.value,S);if(D===null){A===null&&(A=O);break}t&&A&&D.alternate===null&&e(b,A),w=s(D,w,E),T===null?x=D:T.sibling=D,T=D,A=O}if(M.done)return n(b,A),Ft&&Gu(b,E),x;if(A===null){for(;!M.done;E++,M=_.next())M=h(b,M.value,S),M!==null&&(w=s(M,w,E),T===null?x=M:T.sibling=M,T=M);return Ft&&Gu(b,E),x}for(A=r(b,A);!M.done;E++,M=_.next())M=p(A,b,E,M.value,S),M!==null&&(t&&M.alternate!==null&&A.delete(M.key===null?E:M.key),w=s(M,w,E),T===null?x=M:T.sibling=M,T=M);return t&&A.forEach(function($){return e(b,$)}),Ft&&Gu(b,E),x}function v(b,w,_,S){if(typeof _=="object"&&_!==null&&_.type===ip&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Y1:e:{for(var x=_.key,T=w;T!==null;){if(T.key===x){if(x=_.type,x===ip){if(T.tag===7){n(b,T.sibling),w=i(T,_.props.children),w.return=b,b=w;break e}}else if(T.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Zl&&q4(x)===T.type){n(b,T.sibling),w=i(T,_.props),w.ref=nv(b,T,_),w.return=b,b=w;break e}n(b,T);break}else e(b,T);T=T.sibling}_.type===ip?(w=jd(_.props.children,b.mode,S,_.key),w.return=b,b=w):(S=aA(_.type,_.key,_.props,null,b.mode,S),S.ref=nv(b,w,_),S.return=b,b=S)}return o(b);case rp:e:{for(T=_.key;w!==null;){if(w.key===T)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(b,w.sibling),w=i(w,_.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else e(b,w);w=w.sibling}w=AO(_,b.mode,S),w.return=b,b=w}return o(b);case Zl:return T=_._init,v(b,w,T(_._payload),S)}if(xv(_))return y(b,w,_,S);if(Qy(_))return g(b,w,_,S);ax(b,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(b,w.sibling),w=i(w,_),w.return=b,b=w):(n(b,w),w=xO(_,b.mode,S),w.return=b,b=w),o(b)):n(b,w)}return v}var Em=OU(!0),kU=OU(!1),fE=Ou(null),pE=null,dp=null,OD=null;function kD(){OD=dp=pE=null}function RD(t){var e=fE.current;Dt(fE),t._currentValue=e}function c2(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ip(t,e){pE=t,OD=dp=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(di=!0),t.firstContext=null)}function Ss(t){var e=t._currentValue;if(OD!==t)if(t={context:t,memoizedValue:e,next:null},dp===null){if(pE===null)throw Error(ue(308));dp=t,pE.dependencies={lanes:0,firstContext:t}}else dp=dp.next=t;return e}var sh=null;function ND(t){sh===null?sh=[t]:sh.push(t)}function RU(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ND(e)):(n.next=i.next,i.next=n),e.interleaved=n,Al(t,r)}function Al(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ec=!1;function MD(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NU(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ml(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ou(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,it&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Al(t,n)}return i=r.interleaved,i===null?(e.next=e,ND(r)):(e.next=i.next,i.next=e),r.interleaved=e,Al(t,n)}function tA(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bD(t,n)}}function K4(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function gE(t,e,n,r){var i=t.updateQueue;ec=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var d=a.lane,p=a.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,g=a;switch(d=e,p=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){h=y.call(p,h,d);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,d=typeof y=="function"?y.call(p,h,d):y,d==null)break e;h=qt({},h,d);break e;case 2:ec=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);qd|=o,t.lanes=o,t.memoizedState=h}}function X4(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ue(191,i));i.call(r)}}}var Z_={},ta=Ou(Z_),k0=Ou(Z_),R0=Ou(Z_);function oh(t){if(t===Z_)throw Error(ue(174));return t}function DD(t,e){switch(Tt(R0,e),Tt(k0,t),Tt(ta,Z_),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zk(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zk(e,t)}Dt(ta),Tt(ta,e)}function Sm(){Dt(ta),Dt(k0),Dt(R0)}function MU(t){oh(R0.current);var e=oh(ta.current),n=zk(e,t.type);e!==n&&(Tt(k0,t),Tt(ta,n))}function $D(t){k0.current===t&&(Dt(ta),Dt(k0))}var Wt=Ou(0);function mE(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var mO=[];function LD(){for(var t=0;t<mO.length;t++)mO[t]._workInProgressVersionPrimary=null;mO.length=0}var nA=$l.ReactCurrentDispatcher,yO=$l.ReactCurrentBatchConfig,Gd=0,Gt=null,Cn=null,Gn=null,yE=!1,n0=!1,N0=0,Gee=0;function vr(){throw Error(ue(321))}function jD(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yo(t[n],e[n]))return!1;return!0}function FD(t,e,n,r,i,s){if(Gd=s,Gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nA.current=t===null||t.memoizedState===null?Yee:Qee,t=n(r,i),n0){s=0;do{if(n0=!1,N0=0,25<=s)throw Error(ue(301));s+=1,Gn=Cn=null,e.updateQueue=null,nA.current=Jee,t=n(r,i)}while(n0)}if(nA.current=vE,e=Cn!==null&&Cn.next!==null,Gd=0,Gn=Cn=Gt=null,yE=!1,e)throw Error(ue(300));return t}function VD(){var t=N0!==0;return N0=0,t}function Io(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gn===null?Gt.memoizedState=Gn=t:Gn=Gn.next=t,Gn}function Ts(){if(Cn===null){var t=Gt.alternate;t=t!==null?t.memoizedState:null}else t=Cn.next;var e=Gn===null?Gt.memoizedState:Gn.next;if(e!==null)Gn=e,Cn=t;else{if(t===null)throw Error(ue(310));Cn=t,t={memoizedState:Cn.memoizedState,baseState:Cn.baseState,baseQueue:Cn.baseQueue,queue:Cn.queue,next:null},Gn===null?Gt.memoizedState=Gn=t:Gn=Gn.next=t}return Gn}function M0(t,e){return typeof e=="function"?e(t):e}function vO(t){var e=Ts(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=Cn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Gd&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Gt.lanes|=u,qd|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,yo(r,e.memoizedState)||(di=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Gt.lanes|=s,qd|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function bO(t){var e=Ts(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);yo(s,e.memoizedState)||(di=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function DU(){}function $U(t,e){var n=Gt,r=Ts(),i=e(),s=!yo(r.memoizedState,i);if(s&&(r.memoizedState=i,di=!0),r=r.queue,BD(FU.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Gn!==null&&Gn.memoizedState.tag&1){if(n.flags|=2048,D0(9,jU.bind(null,n,r,i,e),void 0,null),Xn===null)throw Error(ue(349));Gd&30||LU(n,e,i)}return i}function LU(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Gt.updateQueue,e===null?(e={lastEffect:null,stores:null},Gt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function jU(t,e,n,r){e.value=n,e.getSnapshot=r,VU(e)&&BU(t)}function FU(t,e,n){return n(function(){VU(e)&&BU(t)})}function VU(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yo(t,n)}catch{return!0}}function BU(t){var e=Al(t,1);e!==null&&po(e,t,1,-1)}function Y4(t){var e=Io();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:M0,lastRenderedState:t},e.queue=t,t=t.dispatch=Xee.bind(null,Gt,t),[e.memoizedState,t]}function D0(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Gt.updateQueue,e===null?(e={lastEffect:null,stores:null},Gt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function UU(){return Ts().memoizedState}function rA(t,e,n,r){var i=Io();Gt.flags|=t,i.memoizedState=D0(1|e,n,void 0,r===void 0?null:r)}function sC(t,e,n,r){var i=Ts();r=r===void 0?null:r;var s=void 0;if(Cn!==null){var o=Cn.memoizedState;if(s=o.destroy,r!==null&&jD(r,o.deps)){i.memoizedState=D0(e,n,s,r);return}}Gt.flags|=t,i.memoizedState=D0(1|e,n,s,r)}function Q4(t,e){return rA(8390656,8,t,e)}function BD(t,e){return sC(2048,8,t,e)}function zU(t,e){return sC(4,2,t,e)}function HU(t,e){return sC(4,4,t,e)}function WU(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function GU(t,e,n){return n=n!=null?n.concat([t]):null,sC(4,4,WU.bind(null,e,t),n)}function UD(){}function qU(t,e){var n=Ts();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jD(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function KU(t,e){var n=Ts();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jD(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function XU(t,e,n){return Gd&21?(yo(n,e)||(n=eU(),Gt.lanes|=n,qd|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,di=!0),t.memoizedState=n)}function qee(t,e){var n=gt;gt=n!==0&&4>n?n:4,t(!0);var r=yO.transition;yO.transition={};try{t(!1),e()}finally{gt=n,yO.transition=r}}function YU(){return Ts().memoizedState}function Kee(t,e,n){var r=lu(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},QU(t))JU(e,n);else if(n=RU(t,e,n,r),n!==null){var i=Jr();po(n,t,r,i),ZU(n,e,r)}}function Xee(t,e,n){var r=lu(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(QU(t))JU(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,yo(a,o)){var l=e.interleaved;l===null?(i.next=i,ND(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=RU(t,e,i,r),n!==null&&(i=Jr(),po(n,t,r,i),ZU(n,e,r))}}function QU(t){var e=t.alternate;return t===Gt||e!==null&&e===Gt}function JU(t,e){n0=yE=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ZU(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bD(t,n)}}var vE={readContext:Ss,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useInsertionEffect:vr,useLayoutEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useMutableSource:vr,useSyncExternalStore:vr,useId:vr,unstable_isNewReconciler:!1},Yee={readContext:Ss,useCallback:function(t,e){return Io().memoizedState=[t,e===void 0?null:e],t},useContext:Ss,useEffect:Q4,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rA(4194308,4,WU.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rA(4194308,4,t,e)},useInsertionEffect:function(t,e){return rA(4,2,t,e)},useMemo:function(t,e){var n=Io();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Io();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Kee.bind(null,Gt,t),[r.memoizedState,t]},useRef:function(t){var e=Io();return t={current:t},e.memoizedState=t},useState:Y4,useDebugValue:UD,useDeferredValue:function(t){return Io().memoizedState=t},useTransition:function(){var t=Y4(!1),e=t[0];return t=qee.bind(null,t[1]),Io().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Gt,i=Io();if(Ft){if(n===void 0)throw Error(ue(407));n=n()}else{if(n=e(),Xn===null)throw Error(ue(349));Gd&30||LU(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Q4(FU.bind(null,r,s,t),[t]),r.flags|=2048,D0(9,jU.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Io(),e=Xn.identifierPrefix;if(Ft){var n=ul,r=cl;n=(r&~(1<<32-fo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=N0++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Gee++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Qee={readContext:Ss,useCallback:qU,useContext:Ss,useEffect:BD,useImperativeHandle:GU,useInsertionEffect:zU,useLayoutEffect:HU,useMemo:KU,useReducer:vO,useRef:UU,useState:function(){return vO(M0)},useDebugValue:UD,useDeferredValue:function(t){var e=Ts();return XU(e,Cn.memoizedState,t)},useTransition:function(){var t=vO(M0)[0],e=Ts().memoizedState;return[t,e]},useMutableSource:DU,useSyncExternalStore:$U,useId:YU,unstable_isNewReconciler:!1},Jee={readContext:Ss,useCallback:qU,useContext:Ss,useEffect:BD,useImperativeHandle:GU,useInsertionEffect:zU,useLayoutEffect:HU,useMemo:KU,useReducer:bO,useRef:UU,useState:function(){return bO(M0)},useDebugValue:UD,useDeferredValue:function(t){var e=Ts();return Cn===null?e.memoizedState=t:XU(e,Cn.memoizedState,t)},useTransition:function(){var t=bO(M0)[0],e=Ts().memoizedState;return[t,e]},useMutableSource:DU,useSyncExternalStore:$U,useId:YU,unstable_isNewReconciler:!1};function Vs(t,e){if(t&&t.defaultProps){e=qt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function u2(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:qt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var oC={isMounted:function(t){return(t=t._reactInternals)?ff(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Jr(),i=lu(t),s=ml(r,i);s.payload=e,n!=null&&(s.callback=n),e=ou(t,s,i),e!==null&&(po(e,t,i,r),tA(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Jr(),i=lu(t),s=ml(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ou(t,s,i),e!==null&&(po(e,t,i,r),tA(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jr(),r=lu(t),i=ml(n,r);i.tag=2,e!=null&&(i.callback=e),e=ou(t,i,r),e!==null&&(po(e,t,r,n),tA(e,t,r))}};function J4(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!P0(n,r)||!P0(i,s):!0}function e7(t,e,n){var r=!1,i=vu,s=e.contextType;return typeof s=="object"&&s!==null?s=Ss(s):(i=gi(e)?Hd:Dr.current,r=e.contextTypes,s=(r=r!=null)?xm(t,i):vu),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=oC,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Z4(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&oC.enqueueReplaceState(e,e.state,null)}function h2(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},MD(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ss(s):(s=gi(e)?Hd:Dr.current,i.context=xm(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(u2(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&oC.enqueueReplaceState(i,i.state,null),gE(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Tm(t,e){try{var n="",r=e;do n+=TZ(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function wO(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function d2(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Zee=typeof WeakMap=="function"?WeakMap:Map;function t7(t,e,n){n=ml(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){wE||(wE=!0,x2=r),d2(t,e)},n}function n7(t,e,n){n=ml(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){d2(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){d2(t,e),typeof r!="function"&&(au===null?au=new Set([this]):au.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function e3(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Zee;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=fte.bind(null,t,e,n),e.then(t,t))}function t3(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function n3(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ml(-1,1),e.tag=2,ou(n,e,1))),n.lanes|=1),t)}var ete=$l.ReactCurrentOwner,di=!1;function Kr(t,e,n,r){e.child=t===null?kU(e,null,n,r):Em(e,t.child,n,r)}function r3(t,e,n,r,i){n=n.render;var s=e.ref;return Ip(e,i),r=FD(t,e,n,r,s,i),n=VD(),t!==null&&!di?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,El(t,e,i)):(Ft&&n&&PD(e),e.flags|=1,Kr(t,e,r,i),e.child)}function i3(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!YD(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,r7(t,e,s,r,i)):(t=aA(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:P0,n(o,r)&&t.ref===e.ref)return El(t,e,i)}return e.flags|=1,t=cu(s,r),t.ref=e.ref,t.return=e,e.child=t}function r7(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(P0(s,r)&&t.ref===e.ref)if(di=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(di=!0);else return e.lanes=t.lanes,El(t,e,i)}return f2(t,e,n,r,i)}function i7(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(pp,Fi),Fi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Tt(pp,Fi),Fi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Tt(pp,Fi),Fi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Tt(pp,Fi),Fi|=r;return Kr(t,e,i,n),e.child}function s7(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function f2(t,e,n,r,i){var s=gi(n)?Hd:Dr.current;return s=xm(e,s),Ip(e,i),n=FD(t,e,n,r,s,i),r=VD(),t!==null&&!di?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,El(t,e,i)):(Ft&&r&&PD(e),e.flags|=1,Kr(t,e,n,i),e.child)}function s3(t,e,n,r,i){if(gi(n)){var s=!0;uE(e)}else s=!1;if(Ip(e,i),e.stateNode===null)iA(t,e),e7(e,n,r),h2(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ss(c):(c=gi(n)?Hd:Dr.current,c=xm(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Z4(e,o,r,c),ec=!1;var d=e.memoizedState;o.state=d,gE(e,r,o,i),l=e.memoizedState,a!==r||d!==l||pi.current||ec?(typeof u=="function"&&(u2(e,n,u,r),l=e.memoizedState),(a=ec||J4(e,n,a,r,d,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,NU(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Vs(e.type,a),o.props=c,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ss(l):(l=gi(n)?Hd:Dr.current,l=xm(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Z4(e,o,r,l),ec=!1,d=e.memoizedState,o.state=d,gE(e,r,o,i);var y=e.memoizedState;a!==h||d!==y||pi.current||ec?(typeof p=="function"&&(u2(e,n,p,r),y=e.memoizedState),(c=ec||J4(e,n,c,r,d,y,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return p2(t,e,n,r,s,i)}function p2(t,e,n,r,i,s){s7(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&H4(e,n,!1),El(t,e,s);r=e.stateNode,ete.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Em(e,t.child,null,s),e.child=Em(e,null,a,s)):Kr(t,e,a,s),e.memoizedState=r.state,i&&H4(e,n,!0),e.child}function o7(t){var e=t.stateNode;e.pendingContext?z4(t,e.pendingContext,e.pendingContext!==e.context):e.context&&z4(t,e.context,!1),DD(t,e.containerInfo)}function o3(t,e,n,r,i){return Am(),ID(i),e.flags|=256,Kr(t,e,n,r),e.child}var g2={dehydrated:null,treeContext:null,retryLane:0};function m2(t){return{baseLanes:t,cachePool:null,transitions:null}}function a7(t,e,n){var r=e.pendingProps,i=Wt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Tt(Wt,i&1),t===null)return l2(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=cC(o,r,0,null),t=jd(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=m2(n),e.memoizedState=g2,t):zD(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return tte(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=cu(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=cu(a,s):(s=jd(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?m2(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=g2,r}return s=t.child,t=s.sibling,r=cu(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function zD(t,e){return e=cC({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function lx(t,e,n,r){return r!==null&&ID(r),Em(e,t.child,null,n),t=zD(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tte(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=wO(Error(ue(422))),lx(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=cC({mode:"visible",children:r.children},i,0,null),s=jd(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Em(e,t.child,null,o),e.child.memoizedState=m2(o),e.memoizedState=g2,s);if(!(e.mode&1))return lx(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ue(419)),r=wO(s,r,void 0),lx(t,e,o,r)}if(a=(o&t.childLanes)!==0,di||a){if(r=Xn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Al(t,i),po(r,t,i,-1))}return XD(),r=wO(Error(ue(421))),lx(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=pte.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Gi=su(i.nextSibling),qi=e,Ft=!0,oo=null,t!==null&&(ys[vs++]=cl,ys[vs++]=ul,ys[vs++]=Wd,cl=t.id,ul=t.overflow,Wd=e),e=zD(e,r.children),e.flags|=4096,e)}function a3(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),c2(t.return,e,n)}function _O(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function l7(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Kr(t,e,r.children,n),r=Wt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&a3(t,n,e);else if(t.tag===19)a3(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Tt(Wt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&mE(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),_O(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&mE(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}_O(e,!0,n,null,s);break;case"together":_O(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function iA(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function El(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qd|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ue(153));if(e.child!==null){for(t=e.child,n=cu(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=cu(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function nte(t,e,n){switch(e.tag){case 3:o7(e),Am();break;case 5:MU(e);break;case 1:gi(e.type)&&uE(e);break;case 4:DD(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Tt(fE,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Tt(Wt,Wt.current&1),e.flags|=128,null):n&e.child.childLanes?a7(t,e,n):(Tt(Wt,Wt.current&1),t=El(t,e,n),t!==null?t.sibling:null);Tt(Wt,Wt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return l7(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Tt(Wt,Wt.current),r)break;return null;case 22:case 23:return e.lanes=0,i7(t,e,n)}return El(t,e,n)}var c7,y2,u7,h7;c7=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};y2=function(){};u7=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,oh(ta.current);var s=null;switch(n){case"input":i=Fk(t,i),r=Fk(t,r),s=[];break;case"select":i=qt({},i,{value:void 0}),r=qt({},r,{value:void 0}),s=[];break;case"textarea":i=Uk(t,i),r=Uk(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=lE)}Hk(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(w0.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(w0.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&kt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};h7=function(t,e,n,r){n!==r&&(e.flags|=4)};function rv(t,e){if(!Ft)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function br(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function rte(t,e,n){var r=e.pendingProps;switch(CD(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return br(e),null;case 1:return gi(e.type)&&cE(),br(e),null;case 3:return r=e.stateNode,Sm(),Dt(pi),Dt(Dr),LD(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ox(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,oo!==null&&(S2(oo),oo=null))),y2(t,e),br(e),null;case 5:$D(e);var i=oh(R0.current);if(n=e.type,t!==null&&e.stateNode!=null)u7(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ue(166));return br(e),null}if(t=oh(ta.current),ox(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Xo]=e,r[O0]=s,t=(e.mode&1)!==0,n){case"dialog":kt("cancel",r),kt("close",r);break;case"iframe":case"object":case"embed":kt("load",r);break;case"video":case"audio":for(i=0;i<Ev.length;i++)kt(Ev[i],r);break;case"source":kt("error",r);break;case"img":case"image":case"link":kt("error",r),kt("load",r);break;case"details":kt("toggle",r);break;case"input":m4(r,s),kt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},kt("invalid",r);break;case"textarea":v4(r,s),kt("invalid",r)}Hk(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&sx(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&sx(r.textContent,a,t),i=["children",""+a]):w0.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&kt("scroll",r)}switch(n){case"input":Q1(r),y4(r,s,!0);break;case"textarea":Q1(r),b4(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=lE)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=F9(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Xo]=e,t[O0]=r,c7(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wk(n,r),n){case"dialog":kt("cancel",t),kt("close",t),i=r;break;case"iframe":case"object":case"embed":kt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ev.length;i++)kt(Ev[i],t);i=r;break;case"source":kt("error",t),i=r;break;case"img":case"image":case"link":kt("error",t),kt("load",t),i=r;break;case"details":kt("toggle",t),i=r;break;case"input":m4(t,r),i=Fk(t,r),kt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=qt({},r,{value:void 0}),kt("invalid",t);break;case"textarea":v4(t,r),i=Uk(t,r),kt("invalid",t);break;default:i=r}Hk(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?U9(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&V9(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_0(t,l):typeof l=="number"&&_0(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(w0.hasOwnProperty(s)?l!=null&&s==="onScroll"&&kt("scroll",t):l!=null&&fD(t,s,l,o))}switch(n){case"input":Q1(t),y4(t,r,!1);break;case"textarea":Q1(t),b4(t);break;case"option":r.value!=null&&t.setAttribute("value",""+yu(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Sp(t,!!r.multiple,s,!1):r.defaultValue!=null&&Sp(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=lE)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return br(e),null;case 6:if(t&&e.stateNode!=null)h7(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ue(166));if(n=oh(R0.current),oh(ta.current),ox(e)){if(r=e.stateNode,n=e.memoizedProps,r[Xo]=e,(s=r.nodeValue!==n)&&(t=qi,t!==null))switch(t.tag){case 3:sx(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sx(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xo]=e,e.stateNode=r}return br(e),null;case 13:if(Dt(Wt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ft&&Gi!==null&&e.mode&1&&!(e.flags&128))IU(),Am(),e.flags|=98560,s=!1;else if(s=ox(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ue(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ue(317));s[Xo]=e}else Am(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;br(e),s=!1}else oo!==null&&(S2(oo),oo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Wt.current&1?kn===0&&(kn=3):XD())),e.updateQueue!==null&&(e.flags|=4),br(e),null);case 4:return Sm(),y2(t,e),t===null&&C0(e.stateNode.containerInfo),br(e),null;case 10:return RD(e.type._context),br(e),null;case 17:return gi(e.type)&&cE(),br(e),null;case 19:if(Dt(Wt),s=e.memoizedState,s===null)return br(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)rv(s,!1);else{if(kn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=mE(t),o!==null){for(e.flags|=128,rv(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Tt(Wt,Wt.current&1|2),e.child}t=t.sibling}s.tail!==null&&ln()>Pm&&(e.flags|=128,r=!0,rv(s,!1),e.lanes=4194304)}else{if(!r)if(t=mE(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),rv(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ft)return br(e),null}else 2*ln()-s.renderingStartTime>Pm&&n!==1073741824&&(e.flags|=128,r=!0,rv(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ln(),e.sibling=null,n=Wt.current,Tt(Wt,r?n&1|2:n&1),e):(br(e),null);case 22:case 23:return KD(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Fi&1073741824&&(br(e),e.subtreeFlags&6&&(e.flags|=8192)):br(e),null;case 24:return null;case 25:return null}throw Error(ue(156,e.tag))}function ite(t,e){switch(CD(e),e.tag){case 1:return gi(e.type)&&cE(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Sm(),Dt(pi),Dt(Dr),LD(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $D(e),null;case 13:if(Dt(Wt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ue(340));Am()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Dt(Wt),null;case 4:return Sm(),null;case 10:return RD(e.type._context),null;case 22:case 23:return KD(),null;case 24:return null;default:return null}}var cx=!1,Rr=!1,ste=typeof WeakSet=="function"?WeakSet:Set,we=null;function fp(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Jt(t,e,r)}else n.current=null}function v2(t,e,n){try{n()}catch(r){Jt(t,e,r)}}var l3=!1;function ote(t,e){if(t2=sE,t=mU(),TD(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,d=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===t)break t;if(d===n&&++c===i&&(a=o),d===s&&++u===r&&(l=o),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(n2={focusedElem:t,selectionRange:n},sE=!1,we=e;we!==null;)if(e=we,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,we=t;else for(;we!==null;){e=we;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,v=y.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?g:Vs(e.type,g),v);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(S){Jt(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,we=t;break}we=e.return}return y=l3,l3=!1,y}function r0(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&v2(e,n,s)}i=i.next}while(i!==r)}}function aC(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function b2(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function d7(t){var e=t.alternate;e!==null&&(t.alternate=null,d7(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xo],delete e[O0],delete e[s2],delete e[Uee],delete e[zee])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function f7(t){return t.tag===5||t.tag===3||t.tag===4}function c3(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||f7(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function w2(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=lE));else if(r!==4&&(t=t.child,t!==null))for(w2(t,e,n),t=t.sibling;t!==null;)w2(t,e,n),t=t.sibling}function _2(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(_2(t,e,n),t=t.sibling;t!==null;)_2(t,e,n),t=t.sibling}var sr=null,ro=!1;function ql(t,e,n){for(n=n.child;n!==null;)p7(t,e,n),n=n.sibling}function p7(t,e,n){if(ea&&typeof ea.onCommitFiberUnmount=="function")try{ea.onCommitFiberUnmount(ZP,n)}catch{}switch(n.tag){case 5:Rr||fp(n,e);case 6:var r=sr,i=ro;sr=null,ql(t,e,n),sr=r,ro=i,sr!==null&&(ro?(t=sr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):sr.removeChild(n.stateNode));break;case 18:sr!==null&&(ro?(t=sr,n=n.stateNode,t.nodeType===8?pO(t.parentNode,n):t.nodeType===1&&pO(t,n),S0(t)):pO(sr,n.stateNode));break;case 4:r=sr,i=ro,sr=n.stateNode.containerInfo,ro=!0,ql(t,e,n),sr=r,ro=i;break;case 0:case 11:case 14:case 15:if(!Rr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&v2(n,e,o),i=i.next}while(i!==r)}ql(t,e,n);break;case 1:if(!Rr&&(fp(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Jt(n,e,a)}ql(t,e,n);break;case 21:ql(t,e,n);break;case 22:n.mode&1?(Rr=(r=Rr)||n.memoizedState!==null,ql(t,e,n),Rr=r):ql(t,e,n);break;default:ql(t,e,n)}}function u3(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ste),e.forEach(function(r){var i=gte.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ds(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:sr=a.stateNode,ro=!1;break e;case 3:sr=a.stateNode.containerInfo,ro=!0;break e;case 4:sr=a.stateNode.containerInfo,ro=!0;break e}a=a.return}if(sr===null)throw Error(ue(160));p7(s,o,i),sr=null,ro=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Jt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)g7(e,t),e=e.sibling}function g7(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ds(e,t),Eo(t),r&4){try{r0(3,t,t.return),aC(3,t)}catch(g){Jt(t,t.return,g)}try{r0(5,t,t.return)}catch(g){Jt(t,t.return,g)}}break;case 1:Ds(e,t),Eo(t),r&512&&n!==null&&fp(n,n.return);break;case 5:if(Ds(e,t),Eo(t),r&512&&n!==null&&fp(n,n.return),t.flags&32){var i=t.stateNode;try{_0(i,"")}catch(g){Jt(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&L9(i,s),Wk(a,o);var c=Wk(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?U9(i,h):u==="dangerouslySetInnerHTML"?V9(i,h):u==="children"?_0(i,h):fD(i,u,h,c)}switch(a){case"input":Vk(i,s);break;case"textarea":j9(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Sp(i,!!s.multiple,p,!1):d!==!!s.multiple&&(s.defaultValue!=null?Sp(i,!!s.multiple,s.defaultValue,!0):Sp(i,!!s.multiple,s.multiple?[]:"",!1))}i[O0]=s}catch(g){Jt(t,t.return,g)}}break;case 6:if(Ds(e,t),Eo(t),r&4){if(t.stateNode===null)throw Error(ue(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){Jt(t,t.return,g)}}break;case 3:if(Ds(e,t),Eo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{S0(e.containerInfo)}catch(g){Jt(t,t.return,g)}break;case 4:Ds(e,t),Eo(t);break;case 13:Ds(e,t),Eo(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(GD=ln())),r&4&&u3(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Rr=(c=Rr)||u,Ds(e,t),Rr=c):Ds(e,t),Eo(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(we=t,u=t.child;u!==null;){for(h=we=u;we!==null;){switch(d=we,p=d.child,d.tag){case 0:case 11:case 14:case 15:r0(4,d,d.return);break;case 1:fp(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){Jt(r,n,g)}}break;case 5:fp(d,d.return);break;case 22:if(d.memoizedState!==null){d3(h);continue}}p!==null?(p.return=d,we=p):d3(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=B9("display",o))}catch(g){Jt(t,t.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){Jt(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ds(e,t),Eo(t),r&4&&u3(t);break;case 21:break;default:Ds(e,t),Eo(t)}}function Eo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(f7(n)){var r=n;break e}n=n.return}throw Error(ue(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_0(i,""),r.flags&=-33);var s=c3(t);_2(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=c3(t);w2(t,a,o);break;default:throw Error(ue(161))}}catch(l){Jt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ate(t,e,n){we=t,m7(t)}function m7(t,e,n){for(var r=(t.mode&1)!==0;we!==null;){var i=we,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||cx;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Rr;a=cx;var c=Rr;if(cx=o,(Rr=l)&&!c)for(we=i;we!==null;)o=we,l=o.child,o.tag===22&&o.memoizedState!==null?f3(i):l!==null?(l.return=o,we=l):f3(i);for(;s!==null;)we=s,m7(s),s=s.sibling;we=i,cx=a,Rr=c}h3(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,we=s):h3(t)}}function h3(t){for(;we!==null;){var e=we;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Rr||aC(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Rr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Vs(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&X4(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}X4(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&S0(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}Rr||e.flags&512&&b2(e)}catch(d){Jt(e,e.return,d)}}if(e===t){we=null;break}if(n=e.sibling,n!==null){n.return=e.return,we=n;break}we=e.return}}function d3(t){for(;we!==null;){var e=we;if(e===t){we=null;break}var n=e.sibling;if(n!==null){n.return=e.return,we=n;break}we=e.return}}function f3(t){for(;we!==null;){var e=we;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{aC(4,e)}catch(l){Jt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Jt(e,i,l)}}var s=e.return;try{b2(e)}catch(l){Jt(e,s,l)}break;case 5:var o=e.return;try{b2(e)}catch(l){Jt(e,o,l)}}}catch(l){Jt(e,e.return,l)}if(e===t){we=null;break}var a=e.sibling;if(a!==null){a.return=e.return,we=a;break}we=e.return}}var lte=Math.ceil,bE=$l.ReactCurrentDispatcher,HD=$l.ReactCurrentOwner,As=$l.ReactCurrentBatchConfig,it=0,Xn=null,bn=null,cr=0,Fi=0,pp=Ou(0),kn=0,$0=null,qd=0,lC=0,WD=0,i0=null,hi=null,GD=0,Pm=1/0,Ea=null,wE=!1,x2=null,au=null,ux=!1,Jc=null,_E=0,s0=0,A2=null,sA=-1,oA=0;function Jr(){return it&6?ln():sA!==-1?sA:sA=ln()}function lu(t){return t.mode&1?it&2&&cr!==0?cr&-cr:Wee.transition!==null?(oA===0&&(oA=eU()),oA):(t=gt,t!==0||(t=window.event,t=t===void 0?16:aU(t.type)),t):1}function po(t,e,n,r){if(50<s0)throw s0=0,A2=null,Error(ue(185));Y_(t,n,r),(!(it&2)||t!==Xn)&&(t===Xn&&(!(it&2)&&(lC|=n),kn===4&&rc(t,cr)),mi(t,r),n===1&&it===0&&!(e.mode&1)&&(Pm=ln()+500,iC&&ku()))}function mi(t,e){var n=t.callbackNode;WZ(t,e);var r=iE(t,t===Xn?cr:0);if(r===0)n!==null&&x4(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&x4(n),e===1)t.tag===0?Hee(p3.bind(null,t)):TU(p3.bind(null,t)),Vee(function(){!(it&6)&&ku()}),n=null;else{switch(tU(r)){case 1:n=vD;break;case 4:n=J9;break;case 16:n=rE;break;case 536870912:n=Z9;break;default:n=rE}n=E7(n,y7.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function y7(t,e){if(sA=-1,oA=0,it&6)throw Error(ue(327));var n=t.callbackNode;if(Op()&&t.callbackNode!==n)return null;var r=iE(t,t===Xn?cr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=xE(t,r);else{e=r;var i=it;it|=2;var s=b7();(Xn!==t||cr!==e)&&(Ea=null,Pm=ln()+500,Ld(t,e));do try{hte();break}catch(a){v7(t,a)}while(1);kD(),bE.current=s,it=i,bn!==null?e=0:(Xn=null,cr=0,e=kn)}if(e!==0){if(e===2&&(i=Yk(t),i!==0&&(r=i,e=E2(t,i))),e===1)throw n=$0,Ld(t,0),rc(t,r),mi(t,ln()),n;if(e===6)rc(t,r);else{if(i=t.current.alternate,!(r&30)&&!cte(i)&&(e=xE(t,r),e===2&&(s=Yk(t),s!==0&&(r=s,e=E2(t,s))),e===1))throw n=$0,Ld(t,0),rc(t,r),mi(t,ln()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ue(345));case 2:qu(t,hi,Ea);break;case 3:if(rc(t,r),(r&130023424)===r&&(e=GD+500-ln(),10<e)){if(iE(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Jr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=i2(qu.bind(null,t,hi,Ea),e);break}qu(t,hi,Ea);break;case 4:if(rc(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-fo(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ln()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lte(r/1960))-r,10<r){t.timeoutHandle=i2(qu.bind(null,t,hi,Ea),r);break}qu(t,hi,Ea);break;case 5:qu(t,hi,Ea);break;default:throw Error(ue(329))}}}return mi(t,ln()),t.callbackNode===n?y7.bind(null,t):null}function E2(t,e){var n=i0;return t.current.memoizedState.isDehydrated&&(Ld(t,e).flags|=256),t=xE(t,e),t!==2&&(e=hi,hi=n,e!==null&&S2(e)),t}function S2(t){hi===null?hi=t:hi.push.apply(hi,t)}function cte(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!yo(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function rc(t,e){for(e&=~WD,e&=~lC,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fo(e),r=1<<n;t[n]=-1,e&=~r}}function p3(t){if(it&6)throw Error(ue(327));Op();var e=iE(t,0);if(!(e&1))return mi(t,ln()),null;var n=xE(t,e);if(t.tag!==0&&n===2){var r=Yk(t);r!==0&&(e=r,n=E2(t,r))}if(n===1)throw n=$0,Ld(t,0),rc(t,e),mi(t,ln()),n;if(n===6)throw Error(ue(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qu(t,hi,Ea),mi(t,ln()),null}function qD(t,e){var n=it;it|=1;try{return t(e)}finally{it=n,it===0&&(Pm=ln()+500,iC&&ku())}}function Kd(t){Jc!==null&&Jc.tag===0&&!(it&6)&&Op();var e=it;it|=1;var n=As.transition,r=gt;try{if(As.transition=null,gt=1,t)return t()}finally{gt=r,As.transition=n,it=e,!(it&6)&&ku()}}function KD(){Fi=pp.current,Dt(pp)}function Ld(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Fee(n)),bn!==null)for(n=bn.return;n!==null;){var r=n;switch(CD(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cE();break;case 3:Sm(),Dt(pi),Dt(Dr),LD();break;case 5:$D(r);break;case 4:Sm();break;case 13:Dt(Wt);break;case 19:Dt(Wt);break;case 10:RD(r.type._context);break;case 22:case 23:KD()}n=n.return}if(Xn=t,bn=t=cu(t.current,null),cr=Fi=e,kn=0,$0=null,WD=lC=qd=0,hi=i0=null,sh!==null){for(e=0;e<sh.length;e++)if(n=sh[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}sh=null}return t}function v7(t,e){do{var n=bn;try{if(kD(),nA.current=vE,yE){for(var r=Gt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}yE=!1}if(Gd=0,Gn=Cn=Gt=null,n0=!1,N0=0,HD.current=null,n===null||n.return===null){kn=1,$0=e,bn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=cr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=t3(o);if(p!==null){p.flags&=-257,n3(p,o,a,s,e),p.mode&1&&e3(s,c,e),e=p,l=c;var y=e.updateQueue;if(y===null){var g=new Set;g.add(l),e.updateQueue=g}else y.add(l);break e}else{if(!(e&1)){e3(s,c,e),XD();break e}l=Error(ue(426))}}else if(Ft&&a.mode&1){var v=t3(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),n3(v,o,a,s,e),ID(Tm(l,a));break e}}s=l=Tm(l,a),kn!==4&&(kn=2),i0===null?i0=[s]:i0.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=t7(s,l,e);K4(s,b);break e;case 1:a=l;var w=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(au===null||!au.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=n7(s,a,e);K4(s,S);break e}}s=s.return}while(s!==null)}_7(n)}catch(x){e=x,bn===n&&n!==null&&(bn=n=n.return);continue}break}while(1)}function b7(){var t=bE.current;return bE.current=vE,t===null?vE:t}function XD(){(kn===0||kn===3||kn===2)&&(kn=4),Xn===null||!(qd&268435455)&&!(lC&268435455)||rc(Xn,cr)}function xE(t,e){var n=it;it|=2;var r=b7();(Xn!==t||cr!==e)&&(Ea=null,Ld(t,e));do try{ute();break}catch(i){v7(t,i)}while(1);if(kD(),it=n,bE.current=r,bn!==null)throw Error(ue(261));return Xn=null,cr=0,kn}function ute(){for(;bn!==null;)w7(bn)}function hte(){for(;bn!==null&&!$Z();)w7(bn)}function w7(t){var e=A7(t.alternate,t,Fi);t.memoizedProps=t.pendingProps,e===null?_7(t):bn=e,HD.current=null}function _7(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ite(n,e),n!==null){n.flags&=32767,bn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kn=6,bn=null;return}}else if(n=rte(n,e,Fi),n!==null){bn=n;return}if(e=e.sibling,e!==null){bn=e;return}bn=e=t}while(e!==null);kn===0&&(kn=5)}function qu(t,e,n){var r=gt,i=As.transition;try{As.transition=null,gt=1,dte(t,e,n,r)}finally{As.transition=i,gt=r}return null}function dte(t,e,n,r){do Op();while(Jc!==null);if(it&6)throw Error(ue(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ue(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(GZ(t,s),t===Xn&&(bn=Xn=null,cr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ux||(ux=!0,E7(rE,function(){return Op(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=As.transition,As.transition=null;var o=gt;gt=1;var a=it;it|=4,HD.current=null,ote(t,n),g7(n,t),Ree(n2),sE=!!t2,n2=t2=null,t.current=n,ate(n),LZ(),it=a,gt=o,As.transition=s}else t.current=n;if(ux&&(ux=!1,Jc=t,_E=i),s=t.pendingLanes,s===0&&(au=null),VZ(n.stateNode),mi(t,ln()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(wE)throw wE=!1,t=x2,x2=null,t;return _E&1&&t.tag!==0&&Op(),s=t.pendingLanes,s&1?t===A2?s0++:(s0=0,A2=t):s0=0,ku(),null}function Op(){if(Jc!==null){var t=tU(_E),e=As.transition,n=gt;try{if(As.transition=null,gt=16>t?16:t,Jc===null)var r=!1;else{if(t=Jc,Jc=null,_E=0,it&6)throw Error(ue(331));var i=it;for(it|=4,we=t.current;we!==null;){var s=we,o=s.child;if(we.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(we=c;we!==null;){var u=we;switch(u.tag){case 0:case 11:case 15:r0(8,u,s)}var h=u.child;if(h!==null)h.return=u,we=h;else for(;we!==null;){u=we;var d=u.sibling,p=u.return;if(d7(u),u===c){we=null;break}if(d!==null){d.return=p,we=d;break}we=p}}}var y=s.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}we=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,we=o;else e:for(;we!==null;){if(s=we,s.flags&2048)switch(s.tag){case 0:case 11:case 15:r0(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,we=b;break e}we=s.return}}var w=t.current;for(we=w;we!==null;){o=we;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,we=_;else e:for(o=w;we!==null;){if(a=we,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:aC(9,a)}}catch(x){Jt(a,a.return,x)}if(a===o){we=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,we=S;break e}we=a.return}}if(it=i,ku(),ea&&typeof ea.onPostCommitFiberRoot=="function")try{ea.onPostCommitFiberRoot(ZP,t)}catch{}r=!0}return r}finally{gt=n,As.transition=e}}return!1}function g3(t,e,n){e=Tm(n,e),e=t7(t,e,1),t=ou(t,e,1),e=Jr(),t!==null&&(Y_(t,1,e),mi(t,e))}function Jt(t,e,n){if(t.tag===3)g3(t,t,n);else for(;e!==null;){if(e.tag===3){g3(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(au===null||!au.has(r))){t=Tm(n,t),t=n7(e,t,1),e=ou(e,t,1),t=Jr(),e!==null&&(Y_(e,1,t),mi(e,t));break}}e=e.return}}function fte(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Jr(),t.pingedLanes|=t.suspendedLanes&n,Xn===t&&(cr&n)===n&&(kn===4||kn===3&&(cr&130023424)===cr&&500>ln()-GD?Ld(t,0):WD|=n),mi(t,e)}function x7(t,e){e===0&&(t.mode&1?(e=ex,ex<<=1,!(ex&130023424)&&(ex=4194304)):e=1);var n=Jr();t=Al(t,e),t!==null&&(Y_(t,e,n),mi(t,n))}function pte(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),x7(t,n)}function gte(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ue(314))}r!==null&&r.delete(e),x7(t,n)}var A7;A7=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pi.current)di=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return di=!1,nte(t,e,n);di=!!(t.flags&131072)}else di=!1,Ft&&e.flags&1048576&&PU(e,dE,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;iA(t,e),t=e.pendingProps;var i=xm(e,Dr.current);Ip(e,n),i=FD(null,e,r,t,i,n);var s=VD();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gi(r)?(s=!0,uE(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,MD(e),i.updater=oC,e.stateNode=i,i._reactInternals=e,h2(e,r,t,n),e=p2(null,e,r,!0,s,n)):(e.tag=0,Ft&&s&&PD(e),Kr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(iA(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=yte(r),t=Vs(r,t),i){case 0:e=f2(null,e,r,t,n);break e;case 1:e=s3(null,e,r,t,n);break e;case 11:e=r3(null,e,r,t,n);break e;case 14:e=i3(null,e,r,Vs(r.type,t),n);break e}throw Error(ue(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vs(r,i),f2(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vs(r,i),s3(t,e,r,i,n);case 3:e:{if(o7(e),t===null)throw Error(ue(387));r=e.pendingProps,s=e.memoizedState,i=s.element,NU(t,e),gE(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Tm(Error(ue(423)),e),e=o3(t,e,r,n,i);break e}else if(r!==i){i=Tm(Error(ue(424)),e),e=o3(t,e,r,n,i);break e}else for(Gi=su(e.stateNode.containerInfo.firstChild),qi=e,Ft=!0,oo=null,n=kU(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Am(),r===i){e=El(t,e,n);break e}Kr(t,e,r,n)}e=e.child}return e;case 5:return MU(e),t===null&&l2(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,r2(r,i)?o=null:s!==null&&r2(r,s)&&(e.flags|=32),s7(t,e),Kr(t,e,o,n),e.child;case 6:return t===null&&l2(e),null;case 13:return a7(t,e,n);case 4:return DD(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Em(e,null,r,n):Kr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vs(r,i),r3(t,e,r,i,n);case 7:return Kr(t,e,e.pendingProps,n),e.child;case 8:return Kr(t,e,e.pendingProps.children,n),e.child;case 12:return Kr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Tt(fE,r._currentValue),r._currentValue=o,s!==null)if(yo(s.value,o)){if(s.children===i.children&&!pi.current){e=El(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ml(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),c2(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ue(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),c2(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Kr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ip(e,n),i=Ss(i),r=r(i),e.flags|=1,Kr(t,e,r,n),e.child;case 14:return r=e.type,i=Vs(r,e.pendingProps),i=Vs(r.type,i),i3(t,e,r,i,n);case 15:return r7(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vs(r,i),iA(t,e),e.tag=1,gi(r)?(t=!0,uE(e)):t=!1,Ip(e,n),e7(e,r,i),h2(e,r,i,n),p2(null,e,r,!0,t,n);case 19:return l7(t,e,n);case 22:return i7(t,e,n)}throw Error(ue(156,e.tag))};function E7(t,e){return Q9(t,e)}function mte(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _s(t,e,n,r){return new mte(t,e,n,r)}function YD(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yte(t){if(typeof t=="function")return YD(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gD)return 11;if(t===mD)return 14}return 2}function cu(t,e){var n=t.alternate;return n===null?(n=_s(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function aA(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")YD(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ip:return jd(n.children,i,s,e);case pD:o=8,i|=8;break;case Dk:return t=_s(12,n,e,i|2),t.elementType=Dk,t.lanes=s,t;case $k:return t=_s(13,n,e,i),t.elementType=$k,t.lanes=s,t;case Lk:return t=_s(19,n,e,i),t.elementType=Lk,t.lanes=s,t;case M9:return cC(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case R9:o=10;break e;case N9:o=9;break e;case gD:o=11;break e;case mD:o=14;break e;case Zl:o=16,r=null;break e}throw Error(ue(130,t==null?t:typeof t,""))}return e=_s(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function jd(t,e,n,r){return t=_s(7,t,r,e),t.lanes=n,t}function cC(t,e,n,r){return t=_s(22,t,r,e),t.elementType=M9,t.lanes=n,t.stateNode={isHidden:!1},t}function xO(t,e,n){return t=_s(6,t,null,e),t.lanes=n,t}function AO(t,e,n){return e=_s(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vte(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rO(0),this.expirationTimes=rO(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rO(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function QD(t,e,n,r,i,s,o,a,l){return t=new vte(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=_s(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},MD(s),t}function bte(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rp,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function S7(t){if(!t)return vu;t=t._reactInternals;e:{if(ff(t)!==t||t.tag!==1)throw Error(ue(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ue(171))}if(t.tag===1){var n=t.type;if(gi(n))return SU(t,n,e)}return e}function T7(t,e,n,r,i,s,o,a,l){return t=QD(n,r,!0,t,i,s,o,a,l),t.context=S7(null),n=t.current,r=Jr(),i=lu(n),s=ml(r,i),s.callback=e??null,ou(n,s,i),t.current.lanes=i,Y_(t,i,r),mi(t,r),t}function uC(t,e,n,r){var i=e.current,s=Jr(),o=lu(i);return n=S7(n),e.context===null?e.context=n:e.pendingContext=n,e=ml(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ou(i,e,o),t!==null&&(po(t,i,o,s),tA(t,i,o)),o}function AE(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function m3(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function JD(t,e){m3(t,e),(t=t.alternate)&&m3(t,e)}function wte(){return null}var P7=typeof reportError=="function"?reportError:function(t){console.error(t)};function ZD(t){this._internalRoot=t}hC.prototype.render=ZD.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ue(409));uC(t,e,null,null)};hC.prototype.unmount=ZD.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Kd(function(){uC(null,t,null,null)}),e[xl]=null}};function hC(t){this._internalRoot=t}hC.prototype.unstable_scheduleHydration=function(t){if(t){var e=iU();t={blockedOn:null,target:t,priority:e};for(var n=0;n<nc.length&&e!==0&&e<nc[n].priority;n++);nc.splice(n,0,t),n===0&&oU(t)}};function e$(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function dC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function y3(){}function _te(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=AE(o);s.call(c)}}var o=T7(e,r,t,0,null,!1,!1,"",y3);return t._reactRootContainer=o,t[xl]=o.current,C0(t.nodeType===8?t.parentNode:t),Kd(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=AE(l);a.call(c)}}var l=QD(t,0,!1,null,null,!1,!1,"",y3);return t._reactRootContainer=l,t[xl]=l.current,C0(t.nodeType===8?t.parentNode:t),Kd(function(){uC(e,l,n,r)}),l}function fC(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=AE(o);a.call(l)}}uC(e,o,t,i)}else o=_te(n,e,t,i,r);return AE(o)}nU=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Av(e.pendingLanes);n!==0&&(bD(e,n|1),mi(e,ln()),!(it&6)&&(Pm=ln()+500,ku()))}break;case 13:Kd(function(){var r=Al(t,1);if(r!==null){var i=Jr();po(r,t,1,i)}}),JD(t,1)}};wD=function(t){if(t.tag===13){var e=Al(t,134217728);if(e!==null){var n=Jr();po(e,t,134217728,n)}JD(t,134217728)}};rU=function(t){if(t.tag===13){var e=lu(t),n=Al(t,e);if(n!==null){var r=Jr();po(n,t,e,r)}JD(t,e)}};iU=function(){return gt};sU=function(t,e){var n=gt;try{return gt=t,e()}finally{gt=n}};qk=function(t,e,n){switch(e){case"input":if(Vk(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=rC(r);if(!i)throw Error(ue(90));$9(r),Vk(r,i)}}}break;case"textarea":j9(t,n);break;case"select":e=n.value,e!=null&&Sp(t,!!n.multiple,e,!1)}};W9=qD;G9=Kd;var xte={usingClientEntryPoint:!1,Events:[J_,lp,rC,z9,H9,qD]},iv={findFiberByHostInstance:ih,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ate={bundleType:iv.bundleType,version:iv.version,rendererPackageName:iv.rendererPackageName,rendererConfig:iv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$l.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=X9(t),t===null?null:t.stateNode},findFiberByHostInstance:iv.findFiberByHostInstance||wte,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hx.isDisabled&&hx.supportsFiber)try{ZP=hx.inject(Ate),ea=hx}catch{}}Zi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xte;Zi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e$(e))throw Error(ue(200));return bte(t,e,null,n)};Zi.createRoot=function(t,e){if(!e$(t))throw Error(ue(299));var n=!1,r="",i=P7;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=QD(t,1,!1,null,null,n,!1,r,i),t[xl]=e.current,C0(t.nodeType===8?t.parentNode:t),new ZD(e)};Zi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ue(188)):(t=Object.keys(t).join(","),Error(ue(268,t)));return t=X9(e),t=t===null?null:t.stateNode,t};Zi.flushSync=function(t){return Kd(t)};Zi.hydrate=function(t,e,n){if(!dC(e))throw Error(ue(200));return fC(null,t,e,!0,n)};Zi.hydrateRoot=function(t,e,n){if(!e$(t))throw Error(ue(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=P7;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=T7(e,null,t,1,n??null,i,!1,s,o),t[xl]=e.current,C0(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new hC(e)};Zi.render=function(t,e,n){if(!dC(e))throw Error(ue(200));return fC(null,t,e,!1,n)};Zi.unmountComponentAtNode=function(t){if(!dC(t))throw Error(ue(40));return t._reactRootContainer?(Kd(function(){fC(null,null,t,!1,function(){t._reactRootContainer=null,t[xl]=null})}),!0):!1};Zi.unstable_batchedUpdates=qD;Zi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!dC(n))throw Error(ue(200));if(t==null||t._reactInternals===void 0)throw Error(ue(38));return fC(t,e,n,!1,r)};Zi.version="18.3.1-next-f1338f8080-20240426";function C7(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(C7)}catch(t){console.error(t)}}C7(),C9.exports=Zi;var py=C9.exports;const Ete=dt(py);var v3=py;Nk.createRoot=v3.createRoot,Nk.hydrateRoot=v3.hydrateRoot;const Ste=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Tte=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},O7={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(d=64)),r.push(n[u],n[h],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(I7(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Tte(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new Pte;const d=s<<2|a>>4;if(r.push(d),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const y=c<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Pte extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cte=function(t){const e=I7(t);return O7.encodeByteArray(e,!0)},EE=function(t){return Cte(t).replace(/\./g,"")},k7=function(t){try{return O7.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ite(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ote=()=>Ite().__FIREBASE_DEFAULTS__,kte=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Rte=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&k7(t[1]);return e&&JSON.parse(e)},pC=()=>{try{return Ste()||Ote()||kte()||Rte()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},R7=t=>{var e,n;return(n=(e=pC())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Nte=t=>{const e=R7(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},N7=()=>{var t;return(t=pC())===null||t===void 0?void 0:t.config},M7=t=>{var e;return(e=pC())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mte{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(t){return t.endsWith(".cloudworkstations.dev")}async function D7(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dte(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[EE(JSON.stringify(n)),EE(JSON.stringify(o)),a].join(".")}const o0={};function $te(){const t={prod:[],emulator:[]};for(const e of Object.keys(o0))o0[e]?t.emulator.push(e):t.prod.push(e);return t}function Lte(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let b3=!1;function $7(t,e){if(typeof window>"u"||typeof document>"u"||!gy(window.location.host)||o0[t]===e||o0[t]||b3)return;o0[t]=e;function n(d){return`__firebase__banner__${d}`}const r="__firebase__banner",s=$te().prod.length>0;function o(){const d=document.getElementById(r);d&&d.remove()}function a(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,p){d.setAttribute("width","24"),d.setAttribute("id",p),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function c(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{b3=!0,o()},d}function u(d,p){d.setAttribute("id",p),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function h(){const d=Lte(r),p=n("text"),y=document.getElementById(p)||document.createElement("span"),g=n("learnmore"),v=document.getElementById(g)||document.createElement("a"),b=n("preprendIcon"),w=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const _=d.element;a(_),u(v,g);const S=c();l(w,b),_.append(w,y,v,S),document.body.appendChild(_)}s?(y.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jte(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($r())}function Fte(){var t;const e=(t=pC())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Vte(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Bte(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ute(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zte(){const t=$r();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Hte(){return!Fte()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wte(){try{return typeof indexedDB=="object"}catch{return!1}}function Gte(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qte="FirebaseError";class Ll extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qte,Object.setPrototypeOf(this,Ll.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,e1.prototype.create)}}class e1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Kte(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ll(i,a,r)}}function Kte(t,e){return t.replace(Xte,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Xte=/\{\$([^}]+)}/g;function Yte(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(w3(s)&&w3(o)){if(!Xd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function w3(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qte(t,e){const n=new Jte(t,e);return n.subscribe.bind(n)}class Jte{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Zte(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=EO),i.error===void 0&&(i.error=EO),i.complete===void 0&&(i.complete=EO);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zte(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function EO(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(t){return t&&t._delegate?t._delegate:t}class Yd{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ene{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Mte;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nne(e))try{this.getOrInitializeService({instanceIdentifier:Ku})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ku){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ku){return this.instances.has(e)}getOptions(e=Ku){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tne(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ku){return this.component?this.component.multipleInstances?e:Ku:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tne(t){return t===Ku?void 0:t}function nne(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rne{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ene(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Qe||(Qe={}));const ine={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},sne=Qe.INFO,one={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},ane=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=one[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class t${constructor(e){this.name=e,this._logLevel=sne,this._logHandler=ane,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ine[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const lne=(t,e)=>e.some(n=>t instanceof n);let _3,x3;function cne(){return _3||(_3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function une(){return x3||(x3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L7=new WeakMap,T2=new WeakMap,j7=new WeakMap,SO=new WeakMap,n$=new WeakMap;function hne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(uu(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&L7.set(n,t)}).catch(()=>{}),n$.set(e,t),e}function dne(t){if(T2.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});T2.set(t,e)}let P2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return T2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||j7.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return uu(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fne(t){P2=t(P2)}function pne(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(TO(this),e,...n);return j7.set(r,e.sort?e.sort():[e]),uu(r)}:une().includes(t)?function(...e){return t.apply(TO(this),e),uu(L7.get(this))}:function(...e){return uu(t.apply(TO(this),e))}}function gne(t){return typeof t=="function"?pne(t):(t instanceof IDBTransaction&&dne(t),lne(t,cne())?new Proxy(t,P2):t)}function uu(t){if(t instanceof IDBRequest)return hne(t);if(SO.has(t))return SO.get(t);const e=gne(t);return e!==t&&(SO.set(t,e),n$.set(e,t)),e}const TO=t=>n$.get(t);function mne(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=uu(o);return r&&o.addEventListener("upgradeneeded",l=>{r(uu(o.result),l.oldVersion,l.newVersion,uu(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const yne=["get","getKey","getAll","getAllKeys","count"],vne=["put","add","delete","clear"],PO=new Map;function A3(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(PO.get(e))return PO.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=vne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||yne.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return PO.set(e,s),s}fne(t=>({...t,get:(e,n,r)=>A3(e,n)||t.get(e,n,r),has:(e,n)=>!!A3(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wne(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function wne(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const C2="@firebase/app",E3="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl=new t$("@firebase/app"),_ne="@firebase/app-compat",xne="@firebase/analytics-compat",Ane="@firebase/analytics",Ene="@firebase/app-check-compat",Sne="@firebase/app-check",Tne="@firebase/auth",Pne="@firebase/auth-compat",Cne="@firebase/database",Ine="@firebase/data-connect",One="@firebase/database-compat",kne="@firebase/functions",Rne="@firebase/functions-compat",Nne="@firebase/installations",Mne="@firebase/installations-compat",Dne="@firebase/messaging",$ne="@firebase/messaging-compat",Lne="@firebase/performance",jne="@firebase/performance-compat",Fne="@firebase/remote-config",Vne="@firebase/remote-config-compat",Bne="@firebase/storage",Une="@firebase/storage-compat",zne="@firebase/firestore",Hne="@firebase/ai",Wne="@firebase/firestore-compat",Gne="firebase",qne="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="[DEFAULT]",Kne={[C2]:"fire-core",[_ne]:"fire-core-compat",[Ane]:"fire-analytics",[xne]:"fire-analytics-compat",[Sne]:"fire-app-check",[Ene]:"fire-app-check-compat",[Tne]:"fire-auth",[Pne]:"fire-auth-compat",[Cne]:"fire-rtdb",[Ine]:"fire-data-connect",[One]:"fire-rtdb-compat",[kne]:"fire-fn",[Rne]:"fire-fn-compat",[Nne]:"fire-iid",[Mne]:"fire-iid-compat",[Dne]:"fire-fcm",[$ne]:"fire-fcm-compat",[Lne]:"fire-perf",[jne]:"fire-perf-compat",[Fne]:"fire-rc",[Vne]:"fire-rc-compat",[Bne]:"fire-gcs",[Une]:"fire-gcs-compat",[zne]:"fire-fst",[Wne]:"fire-fst-compat",[Hne]:"fire-vertex","fire-js":"fire-js",[Gne]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=new Map,Xne=new Map,O2=new Map;function S3(t,e){try{t.container.addComponent(e)}catch(n){Sl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cm(t){const e=t.name;if(O2.has(e))return Sl.debug(`There were multiple attempts to register component ${e}.`),!1;O2.set(e,t);for(const n of SE.values())S3(n,t);for(const n of Xne.values())S3(n,t);return!0}function r$(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function lo(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yne={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hu=new e1("app","Firebase",Yne);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qne{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy=qne;function F7(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:I2,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw hu.create("bad-app-name",{appName:String(i)});if(n||(n=N7()),!n)throw hu.create("no-options");const s=SE.get(i);if(s){if(Xd(n,s.options)&&Xd(r,s.config))return s;throw hu.create("duplicate-app",{appName:i})}const o=new rne(i);for(const l of O2.values())o.addComponent(l);const a=new Qne(n,r,o);return SE.set(i,a),a}function V7(t=I2){const e=SE.get(t);if(!e&&t===I2&&N7())return F7();if(!e)throw hu.create("no-app",{appName:t});return e}function du(t,e,n){var r;let i=(r=Kne[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sl.warn(a.join(" "));return}Cm(new Yd(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jne="firebase-heartbeat-database",Zne=1,L0="firebase-heartbeat-store";let CO=null;function B7(){return CO||(CO=mne(Jne,Zne,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(L0)}catch(n){console.warn(n)}}}}).catch(t=>{throw hu.create("idb-open",{originalErrorMessage:t.message})})),CO}async function ere(t){try{const n=(await B7()).transaction(L0),r=await n.objectStore(L0).get(U7(t));return await n.done,r}catch(e){if(e instanceof Ll)Sl.warn(e.message);else{const n=hu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Sl.warn(n.message)}}}async function T3(t,e){try{const r=(await B7()).transaction(L0,"readwrite");await r.objectStore(L0).put(e,U7(t)),await r.done}catch(n){if(n instanceof Ll)Sl.warn(n.message);else{const r=hu.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Sl.warn(r.message)}}}function U7(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tre=1024,nre=30;class rre{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sre(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=P3();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>nre){const o=ore(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Sl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=P3(),{heartbeatsToSend:r,unsentEntries:i}=ire(this._heartbeatsCache.heartbeats),s=EE(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Sl.warn(n),""}}}function P3(){return new Date().toISOString().substring(0,10)}function ire(t,e=tre){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),C3(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),C3(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class sre{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wte()?Gte().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ere(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return T3(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return T3(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function C3(t){return EE(JSON.stringify({version:2,heartbeats:t})).length}function ore(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function are(t){Cm(new Yd("platform-logger",e=>new bne(e),"PRIVATE")),Cm(new Yd("heartbeat",e=>new rre(e),"PRIVATE")),du(C2,E3,t),du(C2,E3,"esm2017"),du("fire-js","")}are("");var lre="firebase",cre="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */du(lre,cre,"app");var Yo=function(){return Yo=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Yo.apply(this,arguments)};function t1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ure(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function z7(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hre=z7,H7=new e1("auth","Firebase",z7());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=new t$("@firebase/auth");function dre(t,...e){TE.logLevel<=Qe.WARN&&TE.warn(`Auth (${yy}): ${t}`,...e)}function lA(t,...e){TE.logLevel<=Qe.ERROR&&TE.error(`Auth (${yy}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(t,...e){throw s$(t,...e)}function yi(t,...e){return s$(t,...e)}function i$(t,e,n){const r=Object.assign(Object.assign({},hre()),{[e]:n});return new e1("auth","Firebase",r).create(e,{appName:t.name})}function Fd(t){return i$(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fre(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&la(t,"argument-error"),i$(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function s$(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return H7.create(t,...e)}function Ee(t,e,...n){if(!t)throw s$(e,...n)}function hl(t){const e="INTERNAL ASSERTION FAILED: "+t;throw lA(e),new Error(e)}function Tl(t,e){t||hl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function W7(){return I3()==="http:"||I3()==="https:"}function I3(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pre(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(W7()||Bte()||"connection"in navigator)?navigator.onLine:!0}function gre(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n){this.shortDelay=e,this.longDelay=n,Tl(n>e,"Short delay should be less than long delay!"),this.isMobile=jte()||Ute()}get(){return pre()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o$(t,e){Tl(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mre={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yre=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vre=new n1(3e4,6e4);function a$(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function pf(t,e,n,r,i={}){return q7(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=my(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return Vte()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&gy(t.emulatorConfig.host)&&(c.credentials="include"),G7.fetch()(await K7(t,t.config.apiHost,n,a),c)})}async function q7(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},mre),e);try{const i=new wre(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw dx(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw dx(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw dx(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw dx(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw i$(t,u,c);la(t,u)}}catch(i){if(i instanceof Ll)throw i;la(t,"network-request-failed",{message:String(i)})}}async function bre(t,e,n,r,i={}){const s=await pf(t,e,n,r,i);return"mfaPendingCredential"in s&&la(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function K7(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?o$(t.config,i):`${t.config.apiScheme}://${i}`;return yre.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class wre{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(yi(this.auth,"network-request-failed")),vre.get())})}}function dx(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=yi(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(t){return t!==void 0&&t.getResponse!==void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _re(t){return(await pf(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xre(t,e){return pf(t,"POST","/v1/accounts:delete",e)}async function PE(t,e){return pf(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Are(t,e=!1){const n=vi(t),r=await n.getIdToken(e),i=l$(r);Ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:a0(IO(i.auth_time)),issuedAtTime:a0(IO(i.iat)),expirationTime:a0(IO(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function IO(t){return Number(t)*1e3}function l$(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return lA("JWT malformed, contained fewer than 3 sections"),null;try{const i=k7(n);return i?JSON.parse(i):(lA("Failed to decode base64 JWT payload"),null)}catch(i){return lA("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function k3(t){const e=l$(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j0(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ll&&Ere(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Ere({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sre{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=a0(this.lastLoginAt),this.creationTime=a0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CE(t){var e;const n=t.auth,r=await t.getIdToken(),i=await j0(t,PE(n,{idToken:r}));Ee(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?X7(s.providerUserInfo):[],a=Pre(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new R2(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function Tre(t){const e=vi(t);await CE(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Pre(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function X7(t){return t.map(e=>{var{providerId:n}=e,r=t1(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cre(t,e){const n=await q7(t,{},async()=>{const r=my({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await K7(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&gy(t.emulatorConfig.host)&&(l.credentials="include"),G7.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ire(t,e){return pf(t,"POST","/v2/accounts:revokeToken",a$(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):k3(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=k3(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Cre(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new kp;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kp,this.toJSON())}_performRefresh(){return hl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class uo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=t1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Sre(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new R2(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await j0(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Are(this,e)}reload(){return Tre(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new uo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await CE(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(lo(this.auth.app))return Promise.reject(Fd(this.auth));const e=await this.getIdToken();return await j0(this,xre(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:S,isAnonymous:x,providerData:T,stsTokenManager:A}=n;Ee(_&&A,e,"internal-error");const E=kp.fromJSON(this.name,A);Ee(typeof _=="string",e,"internal-error"),Kl(h,e.name),Kl(d,e.name),Ee(typeof S=="boolean",e,"internal-error"),Ee(typeof x=="boolean",e,"internal-error"),Kl(p,e.name),Kl(y,e.name),Kl(g,e.name),Kl(v,e.name),Kl(b,e.name),Kl(w,e.name);const O=new uo({uid:_,auth:e,email:d,emailVerified:S,displayName:h,isAnonymous:x,photoURL:y,phoneNumber:p,tenantId:g,stsTokenManager:E,createdAt:b,lastLoginAt:w});return T&&Array.isArray(T)&&(O.providerData=T.map(M=>Object.assign({},M))),v&&(O._redirectEventId=v),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new kp;i.updateFromServerResponse(n);const s=new uo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await CE(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?X7(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new kp;a.updateFromIdToken(r);const l=new uo({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new R2(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=new Map;function dl(t){Tl(t instanceof Function,"Expected a class definition");let e=R3.get(t);return e?(Tl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,R3.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Y7.type="NONE";const N3=Y7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(t,e,n){return`firebase:${t}:${e}:${n}`}class Rp{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=cA(this.userKey,i.apiKey,s),this.fullPersistenceKey=cA("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await PE(this.auth,{idToken:e}).catch(()=>{});return n?uo._fromGetAccountInfoResponse(this.auth,n,e):null}return uo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Rp(dl(N3),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||dl(N3);const o=cA(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){let h;if(typeof u=="string"){const d=await PE(e,{idToken:u}).catch(()=>{});if(!d)break;h=await uo._fromGetAccountInfoResponse(e,d,u)}else h=uo._fromJSON(e,u);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Rp(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Rp(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M3(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ez(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Q7(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nz(e))return"Blackberry";if(rz(e))return"Webos";if(J7(e))return"Safari";if((e.includes("chrome/")||Z7(e))&&!e.includes("edge/"))return"Chrome";if(tz(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Q7(t=$r()){return/firefox\//i.test(t)}function J7(t=$r()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Z7(t=$r()){return/crios\//i.test(t)}function ez(t=$r()){return/iemobile/i.test(t)}function tz(t=$r()){return/android/i.test(t)}function nz(t=$r()){return/blackberry/i.test(t)}function rz(t=$r()){return/webos/i.test(t)}function c$(t=$r()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ore(t=$r()){var e;return c$(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kre(){return zte()&&document.documentMode===10}function iz(t=$r()){return c$(t)||tz(t)||rz(t)||nz(t)||/windows phone/i.test(t)||ez(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sz(t,e=[]){let n;switch(t){case"Browser":n=M3($r());break;case"Worker":n=`${M3($r())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yy}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rre{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nre(t,e={}){return pf(t,"GET","/v2/passwordPolicy",a$(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mre=6;class Dre{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Mre,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $re{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new D3(this),this.idTokenSubscription=new D3(this),this.beforeStateQueue=new Rre(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=H7,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=dl(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Rp.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await PE(this,{idToken:e}),r=await uo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(lo(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await CE(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gre()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(lo(this.app))return Promise.reject(Fd(this));const n=e?vi(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return lo(this.app)?Promise.reject(Fd(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return lo(this.app)?Promise.reject(Fd(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(dl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Nre(this),n=new Dre(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new e1("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Ire(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&dl(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Rp.create(this,[dl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sz(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(lo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&dre(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function r1(t){return vi(t)}class D3{constructor(e){this.auth=e,this.observer=null,this.addObserver=Qte(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gC={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Lre(t){gC=t}function oz(t){return gC.loadJS(t)}function jre(){return gC.recaptchaV2Script}function Fre(){return gC.gapiScript}function az(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vre=500,Bre=6e4,fx=1e12;class Ure{constructor(e){this.auth=e,this.counter=fx,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new zre(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||fx;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||fx;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||fx;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class zre{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;Ee(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Hre(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},Bre)},Vre))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function Hre(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wre(t,e){const n=r$(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Xd(s,e??{}))return i;la(i,"already-initialized")}return n.initialize({options:e})}function Gre(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(dl);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function qre(t,e,n){const r=r1(t);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=lz(e),{host:o,port:a}=Kre(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(Xd(c,r.config.emulator)&&Xd(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,gy(o)?(D7(`${s}//${o}${l}`),$7("Auth",!0)):i||Xre()}function lz(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Kre(t){const e=lz(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:$3(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:$3(o)}}}function $3(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Xre(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hl("not implemented")}_getIdTokenResponse(e){return hl("not implemented")}_linkToIdToken(e,n){return hl("not implemented")}_getReauthenticationResolver(e){return hl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Np(t,e){return bre(t,"POST","/v1/accounts:signInWithIdp",a$(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yre="http://localhost";class Qd extends cz{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qd(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):la("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=t1(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Qd(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Np(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Np(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Np(e,n)}buildRequest(){const e={requestUri:Yre,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=my(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1 extends u${constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic extends i1{constructor(){super("facebook.com")}static credential(e){return Qd._fromParams({providerId:ic.PROVIDER_ID,signInMethod:ic.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ic.credentialFromTaggedObject(e)}static credentialFromError(e){return ic.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ic.credential(e.oauthAccessToken)}catch{return null}}}ic.FACEBOOK_SIGN_IN_METHOD="facebook.com";ic.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends i1{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qd._fromParams({providerId:ll.PROVIDER_ID,signInMethod:ll.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ll.credentialFromTaggedObject(e)}static credentialFromError(e){return ll.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ll.credential(n,r)}catch{return null}}}ll.GOOGLE_SIGN_IN_METHOD="google.com";ll.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends i1{constructor(){super("github.com")}static credential(e){return Qd._fromParams({providerId:sc.PROVIDER_ID,signInMethod:sc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sc.credentialFromTaggedObject(e)}static credentialFromError(e){return sc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sc.credential(e.oauthAccessToken)}catch{return null}}}sc.GITHUB_SIGN_IN_METHOD="github.com";sc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends i1{constructor(){super("twitter.com")}static credential(e,n){return Qd._fromParams({providerId:oc.PROVIDER_ID,signInMethod:oc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return oc.credentialFromTaggedObject(e)}static credentialFromError(e){return oc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return oc.credential(n,r)}catch{return null}}}oc.TWITTER_SIGN_IN_METHOD="twitter.com";oc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await uo._fromIdTokenResponse(e,r,i),o=L3(r);return new Im({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=L3(r);return new Im({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function L3(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE extends Ll{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,IE.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new IE(e,n,r,i)}}function uz(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?IE._fromErrorAndOperation(t,s,e,r):s})}async function Qre(t,e,n=!1){const r=await j0(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Im._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jre(t,e,n=!1){const{auth:r}=t;if(lo(r.app))return Promise.reject(Fd(r));const i="reauthenticate";try{const s=await j0(t,uz(r,i,e,t),n);Ee(s.idToken,r,"internal-error");const o=l$(s.idToken);Ee(o,r,"internal-error");const{sub:a}=o;return Ee(t.uid===a,r,"user-mismatch"),Im._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&la(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zre(t,e,n=!1){if(lo(t.app))return Promise.reject(Fd(t));const r="signIn",i=await uz(t,r,e),s=await Im._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function eie(t,e,n,r){return vi(t).onIdTokenChanged(e,n,r)}function tie(t,e,n){return vi(t).beforeAuthStateChanged(e,n)}function nie(t,e,n,r){return vi(t).onAuthStateChanged(e,n,r)}function rie(t){return vi(t).signOut()}const OE="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(OE,"1"),this.storage.removeItem(OE),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iie=1e3,sie=10;class dz extends hz{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iz(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);kre()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,sie):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},iie)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dz.type="LOCAL";const oie=dz;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz extends hz{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fz.type="SESSION";const pz=fz;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aie(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new mC(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await aie(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mC.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lie{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=h$("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return window}function cie(t){yn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d$(){return typeof yn().WorkerGlobalScope<"u"&&typeof yn().importScripts=="function"}async function uie(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hie(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function die(){return d$()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gz="firebaseLocalStorageDb",fie=1,kE="firebaseLocalStorage",mz="fbase_key";class s1{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yC(t,e){return t.transaction([kE],e?"readwrite":"readonly").objectStore(kE)}function pie(){const t=indexedDB.deleteDatabase(gz);return new s1(t).toPromise()}function N2(){const t=indexedDB.open(gz,fie);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(kE,{keyPath:mz})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(kE)?e(r):(r.close(),await pie(),e(await N2()))})})}async function j3(t,e,n){const r=yC(t,!0).put({[mz]:e,value:n});return new s1(r).toPromise()}async function gie(t,e){const n=yC(t,!1).get(e),r=await new s1(n).toPromise();return r===void 0?null:r.value}function F3(t,e){const n=yC(t,!0).delete(e);return new s1(n).toPromise()}const mie=800,yie=3;class yz{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await N2(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>yie)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return d$()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mC._getInstance(die()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await uie(),!this.activeServiceWorker)return;this.sender=new lie(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hie()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await N2();return await j3(e,OE,"1"),await F3(e,OE),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>j3(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>gie(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>F3(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=yC(i,!1).getAll();return new s1(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mie)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yz.type="LOCAL";const vie=yz;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=az("rcb"),bie=new n1(3e4,6e4);class wie{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=yn().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return Ee(_ie(n),e,"argument-error"),this.shouldResolveImmediately(n)&&O3(yn().grecaptcha)?Promise.resolve(yn().grecaptcha):new Promise((r,i)=>{const s=yn().setTimeout(()=>{i(yi(e,"network-request-failed"))},bie.get());yn()[OO]=()=>{yn().clearTimeout(s),delete yn()[OO];const a=yn().grecaptcha;if(!a||!O3(a)){i(yi(e,"internal-error"));return}const l=a.render;a.render=(c,u)=>{const h=l(c,u);return this.counter++,h},this.hostLanguage=n,r(a)};const o=`${jre()}?${my({onload:OO,render:"explicit",hl:n})}`;oz(o).catch(()=>{clearTimeout(s),i(yi(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=yn().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function _ie(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class xie{async load(e){return new Ure(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aie="recaptcha",Eie={theme:"light",type:"image"};class Sie{constructor(e,n,r=Object.assign({},Eie)){this.parameters=r,this.type=Aie,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=r1(e),this.isInvisible=this.parameters.size==="invisible",Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;Ee(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xie:new wie,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Ee(!this.parameters.sitekey,this.auth,"argument-error"),Ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=yn()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){Ee(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Ee(W7()&&!d$(),this.auth,"internal-error"),await Tie(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await _re(this.auth);Ee(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function Tie(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vz(t,e){return e?dl(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f$ extends cz{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Np(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Np(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Np(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Pie(t){return Zre(t.auth,new f$(t),t.bypassAuthState)}function Cie(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),Jre(n,new f$(t),t.bypassAuthState)}async function Iie(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),Qre(n,new f$(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Pie;case"linkViaPopup":case"linkViaRedirect":return Iie;case"reauthViaPopup":case"reauthViaRedirect":return Cie;default:la(this.auth,"internal-error")}}resolve(e){Tl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oie=new n1(2e3,1e4);async function kie(t,e,n){if(lo(t.app))return Promise.reject(yi(t,"operation-not-supported-in-this-environment"));const r=r1(t);fre(t,e,u$);const i=vz(r,n);return new ah(r,"signInViaPopup",e,i).executeNotNull()}class ah extends bz{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ah.currentPopupAction&&ah.currentPopupAction.cancel(),ah.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Tl(this.filter.length===1,"Popup operations only handle one event");const e=h$();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ah.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Oie.get())};e()}}ah.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rie="pendingRedirect",uA=new Map;class Nie extends bz{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=uA.get(this.auth._key());if(!e){try{const r=await Mie(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}uA.set(this.auth._key(),e)}return this.bypassAuthState||uA.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Mie(t,e){const n=Lie(e),r=$ie(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Die(t,e){uA.set(t._key(),e)}function $ie(t){return dl(t._redirectPersistence)}function Lie(t){return cA(Rie,t.config.apiKey,t.name)}async function jie(t,e,n=!1){if(lo(t.app))return Promise.reject(Fd(t));const r=r1(t),i=vz(r,e),o=await new Nie(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fie=10*60*1e3;class Vie{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Bie(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!wz(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(yi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Fie&&this.cachedEventUids.clear(),this.cachedEventUids.has(V3(e))}saveEventToCache(e){this.cachedEventUids.add(V3(e)),this.lastProcessedEventTime=Date.now()}}function V3(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wz({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Bie(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wz(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uie(t,e={}){return pf(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zie=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hie=/^https?/;async function Wie(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Uie(t);for(const n of e)try{if(Gie(n))return}catch{}la(t,"unauthorized-domain")}function Gie(t){const e=k2(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Hie.test(n))return!1;if(zie.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qie=new n1(3e4,6e4);function B3(){const t=yn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Kie(t){return new Promise((e,n)=>{var r,i,s;function o(){B3(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{B3(),n(yi(t,"network-request-failed"))},timeout:qie.get()})}if(!((i=(r=yn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=yn().gapi)===null||s===void 0)&&s.load)o();else{const a=az("iframefcb");return yn()[a]=()=>{gapi.load?o():n(yi(t,"network-request-failed"))},oz(`${Fre()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw hA=null,e})}let hA=null;function Xie(t){return hA=hA||Kie(t),hA}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yie=new n1(5e3,15e3),Qie="__/auth/iframe",Jie="emulator/auth/iframe",Zie={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ese=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tse(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?o$(e,Jie):`https://${t.config.authDomain}/${Qie}`,r={apiKey:e.apiKey,appName:t.name,v:yy},i=ese.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${my(r).slice(1)}`}async function nse(t){const e=await Xie(t),n=yn().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:tse(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zie,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=yi(t,"network-request-failed"),a=yn().setTimeout(()=>{s(o)},Yie.get());function l(){yn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rse={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ise=500,sse=600,ose="_blank",ase="http://localhost";class U3{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lse(t,e,n,r=ise,i=sse){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},rse),{width:r.toString(),height:i.toString(),top:s,left:o}),c=$r().toLowerCase();n&&(a=Z7(c)?ose:n),Q7(c)&&(e=e||ase,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[p,y])=>`${d}${p}=${y},`,"");if(Ore(c)&&a!=="_self")return cse(e||"",a),new U3(null);const h=window.open(e||"",a,u);Ee(h,t,"popup-blocked");try{h.focus()}catch{}return new U3(h)}function cse(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const use="__/auth/handler",hse="emulator/auth/handler",dse=encodeURIComponent("fac");async function z3(t,e,n,r,i,s){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:yy,eventId:i};if(e instanceof u$){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Yte(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(s||{}))o[u]=h}if(e instanceof i1){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${dse}=${encodeURIComponent(l)}`:"";return`${fse(t)}?${my(a).slice(1)}${c}`}function fse({config:t}){return t.emulator?o$(t,hse):`https://${t.authDomain}/${use}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO="webStorageSupport";class pse{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pz,this._completeRedirectFn=jie,this._overrideRedirectResult=Die}async _openPopup(e,n,r,i){var s;Tl((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await z3(e,n,r,k2(),i);return lse(e,o,h$())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await z3(e,n,r,k2(),i);return cie(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Tl(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await nse(e),r=new Vie(e);return n.register("authEvent",i=>(Ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kO,{type:kO},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[kO];o!==void 0&&n(!!o),la(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Wie(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iz()||J7()||c$()}}const gse=pse;var H3="@firebase/auth",W3="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mse{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yse(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vse(t){Cm(new Yd("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sz(t)},c=new $re(r,i,s,l);return Gre(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Cm(new Yd("auth-internal",e=>{const n=r1(e.getProvider("auth").getImmediate());return(r=>new mse(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),du(H3,W3,yse(t)),du(H3,W3,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bse=5*60,wse=M7("authIdTokenMaxAge")||bse;let G3=null;const _se=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>wse)return;const i=n==null?void 0:n.token;G3!==i&&(G3=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function _z(t=V7()){const e=r$(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Wre(t,{popupRedirectResolver:gse,persistence:[vie,oie,pz]}),r=M7("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=_se(s.toString());tie(n,o,()=>o(n.currentUser)),eie(n,a=>o(a))}}const i=R7("auth");return i&&qre(n,`http://${i}`),n}function xse(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Lre({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=yi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",xse().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vse("Browser");var q3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fu,xz;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,E){function O(){}O.prototype=E.prototype,A.D=E.prototype,A.prototype=new O,A.prototype.constructor=A,A.C=function(M,D,$){for(var L=Array(arguments.length-2),W=2;W<arguments.length;W++)L[W-2]=arguments[W];return E.prototype[D].apply(M,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,E,O){O||(O=0);var M=Array(16);if(typeof E=="string")for(var D=0;16>D;++D)M[D]=E.charCodeAt(O++)|E.charCodeAt(O++)<<8|E.charCodeAt(O++)<<16|E.charCodeAt(O++)<<24;else for(D=0;16>D;++D)M[D]=E[O++]|E[O++]<<8|E[O++]<<16|E[O++]<<24;E=A.g[0],O=A.g[1],D=A.g[2];var $=A.g[3],L=E+($^O&(D^$))+M[0]+3614090360&4294967295;E=O+(L<<7&4294967295|L>>>25),L=$+(D^E&(O^D))+M[1]+3905402710&4294967295,$=E+(L<<12&4294967295|L>>>20),L=D+(O^$&(E^O))+M[2]+606105819&4294967295,D=$+(L<<17&4294967295|L>>>15),L=O+(E^D&($^E))+M[3]+3250441966&4294967295,O=D+(L<<22&4294967295|L>>>10),L=E+($^O&(D^$))+M[4]+4118548399&4294967295,E=O+(L<<7&4294967295|L>>>25),L=$+(D^E&(O^D))+M[5]+1200080426&4294967295,$=E+(L<<12&4294967295|L>>>20),L=D+(O^$&(E^O))+M[6]+2821735955&4294967295,D=$+(L<<17&4294967295|L>>>15),L=O+(E^D&($^E))+M[7]+4249261313&4294967295,O=D+(L<<22&4294967295|L>>>10),L=E+($^O&(D^$))+M[8]+1770035416&4294967295,E=O+(L<<7&4294967295|L>>>25),L=$+(D^E&(O^D))+M[9]+2336552879&4294967295,$=E+(L<<12&4294967295|L>>>20),L=D+(O^$&(E^O))+M[10]+4294925233&4294967295,D=$+(L<<17&4294967295|L>>>15),L=O+(E^D&($^E))+M[11]+2304563134&4294967295,O=D+(L<<22&4294967295|L>>>10),L=E+($^O&(D^$))+M[12]+1804603682&4294967295,E=O+(L<<7&4294967295|L>>>25),L=$+(D^E&(O^D))+M[13]+4254626195&4294967295,$=E+(L<<12&4294967295|L>>>20),L=D+(O^$&(E^O))+M[14]+2792965006&4294967295,D=$+(L<<17&4294967295|L>>>15),L=O+(E^D&($^E))+M[15]+1236535329&4294967295,O=D+(L<<22&4294967295|L>>>10),L=E+(D^$&(O^D))+M[1]+4129170786&4294967295,E=O+(L<<5&4294967295|L>>>27),L=$+(O^D&(E^O))+M[6]+3225465664&4294967295,$=E+(L<<9&4294967295|L>>>23),L=D+(E^O&($^E))+M[11]+643717713&4294967295,D=$+(L<<14&4294967295|L>>>18),L=O+($^E&(D^$))+M[0]+3921069994&4294967295,O=D+(L<<20&4294967295|L>>>12),L=E+(D^$&(O^D))+M[5]+3593408605&4294967295,E=O+(L<<5&4294967295|L>>>27),L=$+(O^D&(E^O))+M[10]+38016083&4294967295,$=E+(L<<9&4294967295|L>>>23),L=D+(E^O&($^E))+M[15]+3634488961&4294967295,D=$+(L<<14&4294967295|L>>>18),L=O+($^E&(D^$))+M[4]+3889429448&4294967295,O=D+(L<<20&4294967295|L>>>12),L=E+(D^$&(O^D))+M[9]+568446438&4294967295,E=O+(L<<5&4294967295|L>>>27),L=$+(O^D&(E^O))+M[14]+3275163606&4294967295,$=E+(L<<9&4294967295|L>>>23),L=D+(E^O&($^E))+M[3]+4107603335&4294967295,D=$+(L<<14&4294967295|L>>>18),L=O+($^E&(D^$))+M[8]+1163531501&4294967295,O=D+(L<<20&4294967295|L>>>12),L=E+(D^$&(O^D))+M[13]+2850285829&4294967295,E=O+(L<<5&4294967295|L>>>27),L=$+(O^D&(E^O))+M[2]+4243563512&4294967295,$=E+(L<<9&4294967295|L>>>23),L=D+(E^O&($^E))+M[7]+1735328473&4294967295,D=$+(L<<14&4294967295|L>>>18),L=O+($^E&(D^$))+M[12]+2368359562&4294967295,O=D+(L<<20&4294967295|L>>>12),L=E+(O^D^$)+M[5]+4294588738&4294967295,E=O+(L<<4&4294967295|L>>>28),L=$+(E^O^D)+M[8]+2272392833&4294967295,$=E+(L<<11&4294967295|L>>>21),L=D+($^E^O)+M[11]+1839030562&4294967295,D=$+(L<<16&4294967295|L>>>16),L=O+(D^$^E)+M[14]+4259657740&4294967295,O=D+(L<<23&4294967295|L>>>9),L=E+(O^D^$)+M[1]+2763975236&4294967295,E=O+(L<<4&4294967295|L>>>28),L=$+(E^O^D)+M[4]+1272893353&4294967295,$=E+(L<<11&4294967295|L>>>21),L=D+($^E^O)+M[7]+4139469664&4294967295,D=$+(L<<16&4294967295|L>>>16),L=O+(D^$^E)+M[10]+3200236656&4294967295,O=D+(L<<23&4294967295|L>>>9),L=E+(O^D^$)+M[13]+681279174&4294967295,E=O+(L<<4&4294967295|L>>>28),L=$+(E^O^D)+M[0]+3936430074&4294967295,$=E+(L<<11&4294967295|L>>>21),L=D+($^E^O)+M[3]+3572445317&4294967295,D=$+(L<<16&4294967295|L>>>16),L=O+(D^$^E)+M[6]+76029189&4294967295,O=D+(L<<23&4294967295|L>>>9),L=E+(O^D^$)+M[9]+3654602809&4294967295,E=O+(L<<4&4294967295|L>>>28),L=$+(E^O^D)+M[12]+3873151461&4294967295,$=E+(L<<11&4294967295|L>>>21),L=D+($^E^O)+M[15]+530742520&4294967295,D=$+(L<<16&4294967295|L>>>16),L=O+(D^$^E)+M[2]+3299628645&4294967295,O=D+(L<<23&4294967295|L>>>9),L=E+(D^(O|~$))+M[0]+4096336452&4294967295,E=O+(L<<6&4294967295|L>>>26),L=$+(O^(E|~D))+M[7]+1126891415&4294967295,$=E+(L<<10&4294967295|L>>>22),L=D+(E^($|~O))+M[14]+2878612391&4294967295,D=$+(L<<15&4294967295|L>>>17),L=O+($^(D|~E))+M[5]+4237533241&4294967295,O=D+(L<<21&4294967295|L>>>11),L=E+(D^(O|~$))+M[12]+1700485571&4294967295,E=O+(L<<6&4294967295|L>>>26),L=$+(O^(E|~D))+M[3]+2399980690&4294967295,$=E+(L<<10&4294967295|L>>>22),L=D+(E^($|~O))+M[10]+4293915773&4294967295,D=$+(L<<15&4294967295|L>>>17),L=O+($^(D|~E))+M[1]+2240044497&4294967295,O=D+(L<<21&4294967295|L>>>11),L=E+(D^(O|~$))+M[8]+1873313359&4294967295,E=O+(L<<6&4294967295|L>>>26),L=$+(O^(E|~D))+M[15]+4264355552&4294967295,$=E+(L<<10&4294967295|L>>>22),L=D+(E^($|~O))+M[6]+2734768916&4294967295,D=$+(L<<15&4294967295|L>>>17),L=O+($^(D|~E))+M[13]+1309151649&4294967295,O=D+(L<<21&4294967295|L>>>11),L=E+(D^(O|~$))+M[4]+4149444226&4294967295,E=O+(L<<6&4294967295|L>>>26),L=$+(O^(E|~D))+M[11]+3174756917&4294967295,$=E+(L<<10&4294967295|L>>>22),L=D+(E^($|~O))+M[2]+718787259&4294967295,D=$+(L<<15&4294967295|L>>>17),L=O+($^(D|~E))+M[9]+3951481745&4294967295,A.g[0]=A.g[0]+E&4294967295,A.g[1]=A.g[1]+(D+(L<<21&4294967295|L>>>11))&4294967295,A.g[2]=A.g[2]+D&4294967295,A.g[3]=A.g[3]+$&4294967295}r.prototype.u=function(A,E){E===void 0&&(E=A.length);for(var O=E-this.blockSize,M=this.B,D=this.h,$=0;$<E;){if(D==0)for(;$<=O;)i(this,A,$),$+=this.blockSize;if(typeof A=="string"){for(;$<E;)if(M[D++]=A.charCodeAt($++),D==this.blockSize){i(this,M),D=0;break}}else for(;$<E;)if(M[D++]=A[$++],D==this.blockSize){i(this,M),D=0;break}}this.h=D,this.o+=E},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var E=1;E<A.length-8;++E)A[E]=0;var O=8*this.o;for(E=A.length-8;E<A.length;++E)A[E]=O&255,O/=256;for(this.u(A),A=Array(16),E=O=0;4>E;++E)for(var M=0;32>M;M+=8)A[O++]=this.g[E]>>>M&255;return A};function s(A,E){var O=a;return Object.prototype.hasOwnProperty.call(O,A)?O[A]:O[A]=E(A)}function o(A,E){this.h=E;for(var O=[],M=!0,D=A.length-1;0<=D;D--){var $=A[D]|0;M&&$==E||(O[D]=$,M=!1)}this.g=O}var a={};function l(A){return-128<=A&&128>A?s(A,function(E){return new o([E|0],0>E?-1:0)}):new o([A|0],0>A?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return h;if(0>A)return v(c(-A));for(var E=[],O=1,M=0;A>=O;M++)E[M]=A/O|0,O*=4294967296;return new o(E,0)}function u(A,E){if(A.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A.charAt(0)=="-")return v(u(A.substring(1),E));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=c(Math.pow(E,8)),M=h,D=0;D<A.length;D+=8){var $=Math.min(8,A.length-D),L=parseInt(A.substring(D,D+$),E);8>$?($=c(Math.pow(E,$)),M=M.j($).add(c(L))):(M=M.j(O),M=M.add(c(L)))}return M}var h=l(0),d=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-v(this).m();for(var A=0,E=1,O=0;O<this.g.length;O++){var M=this.i(O);A+=(0<=M?M:4294967296+M)*E,E*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(y(this))return"0";if(g(this))return"-"+v(this).toString(A);for(var E=c(Math.pow(A,6)),O=this,M="";;){var D=S(O,E).g;O=b(O,D.j(E));var $=((0<O.g.length?O.g[0]:O.h)>>>0).toString(A);if(O=D,y(O))return $+M;for(;6>$.length;)$="0"+$;M=$+M}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function y(A){if(A.h!=0)return!1;for(var E=0;E<A.g.length;E++)if(A.g[E]!=0)return!1;return!0}function g(A){return A.h==-1}t.l=function(A){return A=b(this,A),g(A)?-1:y(A)?0:1};function v(A){for(var E=A.g.length,O=[],M=0;M<E;M++)O[M]=~A.g[M];return new o(O,~A.h).add(d)}t.abs=function(){return g(this)?v(this):this},t.add=function(A){for(var E=Math.max(this.g.length,A.g.length),O=[],M=0,D=0;D<=E;D++){var $=M+(this.i(D)&65535)+(A.i(D)&65535),L=($>>>16)+(this.i(D)>>>16)+(A.i(D)>>>16);M=L>>>16,$&=65535,L&=65535,O[D]=L<<16|$}return new o(O,O[O.length-1]&-2147483648?-1:0)};function b(A,E){return A.add(v(E))}t.j=function(A){if(y(this)||y(A))return h;if(g(this))return g(A)?v(this).j(v(A)):v(v(this).j(A));if(g(A))return v(this.j(v(A)));if(0>this.l(p)&&0>A.l(p))return c(this.m()*A.m());for(var E=this.g.length+A.g.length,O=[],M=0;M<2*E;M++)O[M]=0;for(M=0;M<this.g.length;M++)for(var D=0;D<A.g.length;D++){var $=this.i(M)>>>16,L=this.i(M)&65535,W=A.i(D)>>>16,q=A.i(D)&65535;O[2*M+2*D]+=L*q,w(O,2*M+2*D),O[2*M+2*D+1]+=$*q,w(O,2*M+2*D+1),O[2*M+2*D+1]+=L*W,w(O,2*M+2*D+1),O[2*M+2*D+2]+=$*W,w(O,2*M+2*D+2)}for(M=0;M<E;M++)O[M]=O[2*M+1]<<16|O[2*M];for(M=E;M<2*E;M++)O[M]=0;return new o(O,0)};function w(A,E){for(;(A[E]&65535)!=A[E];)A[E+1]+=A[E]>>>16,A[E]&=65535,E++}function _(A,E){this.g=A,this.h=E}function S(A,E){if(y(E))throw Error("division by zero");if(y(A))return new _(h,h);if(g(A))return E=S(v(A),E),new _(v(E.g),v(E.h));if(g(E))return E=S(A,v(E)),new _(v(E.g),E.h);if(30<A.g.length){if(g(A)||g(E))throw Error("slowDivide_ only works with positive integers.");for(var O=d,M=E;0>=M.l(A);)O=x(O),M=x(M);var D=T(O,1),$=T(M,1);for(M=T(M,2),O=T(O,2);!y(M);){var L=$.add(M);0>=L.l(A)&&(D=D.add(O),$=L),M=T(M,1),O=T(O,1)}return E=b(A,D.j(E)),new _(D,E)}for(D=h;0<=A.l(E);){for(O=Math.max(1,Math.floor(A.m()/E.m())),M=Math.ceil(Math.log(O)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),$=c(O),L=$.j(E);g(L)||0<L.l(A);)O-=M,$=c(O),L=$.j(E);y($)&&($=d),D=D.add($),A=b(A,L)}return new _(D,A)}t.A=function(A){return S(this,A).h},t.and=function(A){for(var E=Math.max(this.g.length,A.g.length),O=[],M=0;M<E;M++)O[M]=this.i(M)&A.i(M);return new o(O,this.h&A.h)},t.or=function(A){for(var E=Math.max(this.g.length,A.g.length),O=[],M=0;M<E;M++)O[M]=this.i(M)|A.i(M);return new o(O,this.h|A.h)},t.xor=function(A){for(var E=Math.max(this.g.length,A.g.length),O=[],M=0;M<E;M++)O[M]=this.i(M)^A.i(M);return new o(O,this.h^A.h)};function x(A){for(var E=A.g.length+1,O=[],M=0;M<E;M++)O[M]=A.i(M)<<1|A.i(M-1)>>>31;return new o(O,A.h)}function T(A,E){var O=E>>5;E%=32;for(var M=A.g.length-O,D=[],$=0;$<M;$++)D[$]=0<E?A.i($+O)>>>E|A.i($+O+1)<<32-E:A.i($+O);return new o(D,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,xz=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,fu=o}).apply(typeof q3<"u"?q3:typeof self<"u"?self:typeof window<"u"?window:{});var px=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Az,Sv,Ez,dA,M2,Sz,Tz,Pz;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,P,N){return m==Array.prototype||m==Object.prototype||(m[P]=N.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof px=="object"&&px];for(var P=0;P<m.length;++P){var N=m[P];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(m,P){if(P)e:{var N=r;m=m.split(".");for(var V=0;V<m.length-1;V++){var K=m[V];if(!(K in N))break e;N=N[K]}m=m[m.length-1],V=N[m],P=P(V),P!=V&&P!=null&&e(N,m,{configurable:!0,writable:!0,value:P})}}function s(m,P){m instanceof String&&(m+="");var N=0,V=!1,K={next:function(){if(!V&&N<m.length){var J=N++;return{value:P(J,m[J]),done:!1}}return V=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}i("Array.prototype.values",function(m){return m||function(){return s(this,function(P,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(m){var P=typeof m;return P=P!="object"?P:m?Array.isArray(m)?"array":P:"null",P=="array"||P=="object"&&typeof m.length=="number"}function c(m){var P=typeof m;return P=="object"&&m!=null||P=="function"}function u(m,P,N){return m.call.apply(m.bind,arguments)}function h(m,P,N){if(!m)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,V),m.apply(P,K)}}return function(){return m.apply(P,arguments)}}function d(m,P,N){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,d.apply(null,arguments)}function p(m,P){var N=Array.prototype.slice.call(arguments,1);return function(){var V=N.slice();return V.push.apply(V,arguments),m.apply(this,V)}}function y(m,P){function N(){}N.prototype=P.prototype,m.aa=P.prototype,m.prototype=new N,m.prototype.constructor=m,m.Qb=function(V,K,J){for(var ye=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)ye[_t-2]=arguments[_t];return P.prototype[K].apply(V,ye)}}function g(m){const P=m.length;if(0<P){const N=Array(P);for(let V=0;V<P;V++)N[V]=m[V];return N}return[]}function v(m,P){for(let N=1;N<arguments.length;N++){const V=arguments[N];if(l(V)){const K=m.length||0,J=V.length||0;m.length=K+J;for(let ye=0;ye<J;ye++)m[K+ye]=V[ye]}else m.push(V)}}class b{constructor(P,N){this.i=P,this.j=N,this.h=0,this.g=null}get(){let P;return 0<this.h?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}function w(m){return/^[\s\xa0]*$/.test(m)}function _(){var m=a.navigator;return m&&(m=m.userAgent)?m:""}function S(m){return S[" "](m),m}S[" "]=function(){};var x=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function T(m,P,N){for(const V in m)P.call(N,m[V],V,m)}function A(m,P){for(const N in m)P.call(void 0,m[N],N,m)}function E(m){const P={};for(const N in m)P[N]=m[N];return P}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(m,P){let N,V;for(let K=1;K<arguments.length;K++){V=arguments[K];for(N in V)m[N]=V[N];for(let J=0;J<O.length;J++)N=O[J],Object.prototype.hasOwnProperty.call(V,N)&&(m[N]=V[N])}}function D(m){var P=1;m=m.split(":");const N=[];for(;0<P&&m.length;)N.push(m.shift()),P--;return m.length&&N.push(m.join(":")),N}function $(m){a.setTimeout(()=>{throw m},0)}function L(){var m=X;let P=null;return m.g&&(P=m.g,m.g=m.g.next,m.g||(m.h=null),P.next=null),P}class W{constructor(){this.h=this.g=null}add(P,N){const V=q.get();V.set(P,N),this.h?this.h.next=V:this.g=V,this.h=V}}var q=new b(()=>new H,m=>m.reset());class H{constructor(){this.next=this.g=this.h=null}set(P,N){this.h=P,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let G,z=!1,X=new W,ee=()=>{const m=a.Promise.resolve(void 0);G=()=>{m.then(ae)}};var ae=()=>{for(var m;m=L();){try{m.h.call(m.g)}catch(N){$(N)}var P=q;P.j(m),100>P.h&&(P.h++,m.next=P.g,P.g=m)}z=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(m,P){this.type=m,this.g=this.target=P,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var m=!1,P=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const N=()=>{};a.addEventListener("test",N,P),a.removeEventListener("test",N,P)}catch{}return m}();function Pe(m,P){if(ne.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var N=this.type=m.type,V=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=P,P=m.relatedTarget){if(x){e:{try{S(P.nodeName);var K=!0;break e}catch{}K=!1}K||(P=null)}}else N=="mouseover"?P=m.fromElement:N=="mouseout"&&(P=m.toElement);this.relatedTarget=P,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:je[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Pe.aa.h.call(this)}}y(Pe,ne);var je={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function ie(m,P,N,V,K){this.listener=m,this.proxy=null,this.src=P,this.type=N,this.capture=!!V,this.ha=K,this.key=++Ie,this.da=this.fa=!1}function me(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function pe(m){this.src=m,this.g={},this.h=0}pe.prototype.add=function(m,P,N,V,K){var J=m.toString();m=this.g[J],m||(m=this.g[J]=[],this.h++);var ye=Me(m,P,V,K);return-1<ye?(P=m[ye],N||(P.fa=!1)):(P=new ie(P,this.src,J,!!V,K),P.fa=N,m.push(P)),P};function Y(m,P){var N=P.type;if(N in m.g){var V=m.g[N],K=Array.prototype.indexOf.call(V,P,void 0),J;(J=0<=K)&&Array.prototype.splice.call(V,K,1),J&&(me(P),m.g[N].length==0&&(delete m.g[N],m.h--))}}function Me(m,P,N,V){for(var K=0;K<m.length;++K){var J=m[K];if(!J.da&&J.listener==P&&J.capture==!!N&&J.ha==V)return K}return-1}var ce="closure_lm_"+(1e6*Math.random()|0),ct={};function ft(m,P,N,V,K){if(V&&V.once)return ti(m,P,N,V,K);if(Array.isArray(P)){for(var J=0;J<P.length;J++)ft(m,P[J],N,V,K);return null}return N=$u(N),m&&m[fe]?m.K(P,N,c(V)?!!V.capture:!!V,K):wt(m,P,N,!1,V,K)}function wt(m,P,N,V,K,J){if(!P)throw Error("Invalid event type");var ye=c(K)?!!K.capture:!!K,_t=xo(m);if(_t||(m[ce]=_t=new pe(m)),N=_t.add(P,N,V,ye,J),N.proxy)return N;if(V=jr(),N.proxy=V,V.src=m,V.listener=N,m.addEventListener)Te||(K=ye),K===void 0&&(K=!1),m.addEventListener(P.toString(),V,K);else if(m.attachEvent)m.attachEvent(ts(P.toString()),V);else if(m.addListener&&m.removeListener)m.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return N}function jr(){function m(N){return P.call(m.src,m.listener,N)}const P=st;return m}function ti(m,P,N,V,K){if(Array.isArray(P)){for(var J=0;J<P.length;J++)ti(m,P[J],N,V,K);return null}return N=$u(N),m&&m[fe]?m.L(P,N,c(V)?!!V.capture:!!V,K):wt(m,P,N,!0,V,K)}function pr(m,P,N,V,K){if(Array.isArray(P))for(var J=0;J<P.length;J++)pr(m,P[J],N,V,K);else V=c(V)?!!V.capture:!!V,N=$u(N),m&&m[fe]?(m=m.i,P=String(P).toString(),P in m.g&&(J=m.g[P],N=Me(J,N,V,K),-1<N&&(me(J[N]),Array.prototype.splice.call(J,N,1),J.length==0&&(delete m.g[P],m.h--)))):m&&(m=xo(m))&&(P=m.g[P.toString()],m=-1,P&&(m=Me(P,N,V,K)),(N=-1<m?P[m]:null)&&wi(N))}function wi(m){if(typeof m!="number"&&m&&!m.da){var P=m.src;if(P&&P[fe])Y(P.i,m);else{var N=m.type,V=m.proxy;P.removeEventListener?P.removeEventListener(N,V,m.capture):P.detachEvent?P.detachEvent(ts(N),V):P.addListener&&P.removeListener&&P.removeListener(V),(N=xo(P))?(Y(N,m),N.h==0&&(N.src=null,P[ce]=null)):me(m)}}}function ts(m){return m in ct?ct[m]:ct[m]="on"+m}function st(m,P){if(m.da)m=!0;else{P=new Pe(P,this);var N=m.listener,V=m.ha||m.src;m.fa&&wi(m),m=N.call(V,P)}return m}function xo(m){return m=m[ce],m instanceof pe?m:null}var Bl="__closure_events_fn_"+(1e9*Math.random()>>>0);function $u(m){return typeof m=="function"?m:(m[Bl]||(m[Bl]=function(P){return m.handleEvent(P)}),m[Bl])}function $t(){Z.call(this),this.i=new pe(this),this.M=this,this.F=null}y($t,Z),$t.prototype[fe]=!0,$t.prototype.removeEventListener=function(m,P,N,V){pr(this,m,P,N,V)};function Ut(m,P){var N,V=m.F;if(V)for(N=[];V;V=V.F)N.push(V);if(m=m.M,V=P.type||P,typeof P=="string")P=new ne(P,m);else if(P instanceof ne)P.target=P.target||m;else{var K=P;P=new ne(V,m),M(P,K)}if(K=!0,N)for(var J=N.length-1;0<=J;J--){var ye=P.g=N[J];K=ns(ye,V,!0,P)&&K}if(ye=P.g=m,K=ns(ye,V,!0,P)&&K,K=ns(ye,V,!1,P)&&K,N)for(J=0;J<N.length;J++)ye=P.g=N[J],K=ns(ye,V,!1,P)&&K}$t.prototype.N=function(){if($t.aa.N.call(this),this.i){var m=this.i,P;for(P in m.g){for(var N=m.g[P],V=0;V<N.length;V++)me(N[V]);delete m.g[P],m.h--}}this.F=null},$t.prototype.K=function(m,P,N,V){return this.i.add(String(m),P,!1,N,V)},$t.prototype.L=function(m,P,N,V){return this.i.add(String(m),P,!0,N,V)};function ns(m,P,N,V){if(P=m.i.g[String(P)],!P)return!0;P=P.concat();for(var K=!0,J=0;J<P.length;++J){var ye=P[J];if(ye&&!ye.da&&ye.capture==N){var _t=ye.listener,Qn=ye.ha||ye.src;ye.fa&&Y(m.i,ye),K=_t.call(Qn,V)!==!1&&K}}return K&&!V.defaultPrevented}function Ao(m,P,N){if(typeof m=="function")N&&(m=d(m,N));else if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(P)?-1:a.setTimeout(m,P||0)}function k1(m){m.g=Ao(()=>{m.g=null,m.i&&(m.i=!1,k1(m))},m.l);const P=m.h;m.h=null,m.m.apply(null,P)}class R1 extends Z{constructor(P,N){super(),this.m=P,this.l=N,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:k1(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lu(m){Z.call(this),this.h=m,this.g={}}y(Lu,Z);var Cf=[];function N1(m){T(m.g,function(P,N){this.g.hasOwnProperty(N)&&wi(P)},m),m.g={}}Lu.prototype.N=function(){Lu.aa.N.call(this),N1(this)},Lu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var If=a.JSON.stringify,VI=a.JSON.parse,BI=class{stringify(m){return a.JSON.stringify(m,void 0)}parse(m){return a.JSON.parse(m,void 0)}};function Fy(){}Fy.prototype.h=null;function M1(m){return m.h||(m.h=m.i())}function Vy(){}var ju={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function By(){ne.call(this,"d")}y(By,ne);function Of(){ne.call(this,"c")}y(Of,ne);var ya={},qe=null;function kf(){return qe=qe||new $t}ya.La="serverreachability";function D1(m){ne.call(this,ya.La,m)}y(D1,ne);function Fu(m){const P=kf();Ut(P,new D1(P))}ya.STAT_EVENT="statevent";function $1(m,P){ne.call(this,ya.STAT_EVENT,m),this.stat=P}y($1,ne);function $n(m){const P=kf();Ut(P,new $1(P,m))}ya.Ma="timingevent";function rs(m,P){ne.call(this,ya.Ma,m),this.size=P}y(rs,ne);function gr(m,P){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){m()},P)}function Ul(){this.g=!0}Ul.prototype.xa=function(){this.g=!1};function Vu(m,P,N,V,K,J){m.info(function(){if(m.g)if(J)for(var ye="",_t=J.split("&"),Qn=0;Qn<_t.length;Qn++){var ot=_t[Qn].split("=");if(1<ot.length){var mr=ot[0];ot=ot[1];var yr=mr.split("_");ye=2<=yr.length&&yr[1]=="type"?ye+(mr+"="+ot+"&"):ye+(mr+"=redacted&")}}else ye=null;else ye=J;return"XMLHTTP REQ ("+V+") [attempt "+K+"]: "+P+`
`+N+`
`+ye})}function UI(m,P,N,V,K,J,ye){m.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+K+"]: "+P+`
`+N+`
`+J+" "+ye})}function ni(m,P,N,V){m.info(function(){return"XMLHTTP TEXT ("+P+"): "+Rf(m,N)+(V?" "+V:"")})}function Uy(m,P){m.info(function(){return"TIMEOUT: "+P})}Ul.prototype.info=function(){};function Rf(m,P){if(!m.g)return P;if(!P)return null;try{var N=JSON.parse(P);if(N){for(m=0;m<N.length;m++)if(Array.isArray(N[m])){var V=N[m];if(!(2>V.length)){var K=V[1];if(Array.isArray(K)&&!(1>K.length)){var J=K[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ye=1;ye<K.length;ye++)K[ye]=""}}}}return If(N)}catch{return P}}var Nf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mf;function F(){}y(F,Fy),F.prototype.g=function(){return new XMLHttpRequest},F.prototype.i=function(){return{}},Mf=new F;function B(m,P,N,V){this.j=m,this.i=P,this.l=N,this.R=V||1,this.U=new Lu(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Q}function Q(){this.i=null,this.g="",this.h=!1}var he={},oe={};function se(m,P,N){m.L=1,m.v=F1(va(P)),m.m=N,m.P=!0,Ke(m,null)}function Ke(m,P){m.F=Date.now(),ri(m),m.A=va(m.v);var N=m.A,V=m.R;Array.isArray(V)||(V=[String(V)]),Uj(N.i,"t",V),m.C=0,N=m.j.J,m.h=new Q,m.g=o4(m.j,N?P:null,!m.m),0<m.O&&(m.M=new R1(d(m.Y,m,m.g),m.O)),P=m.U,N=m.g,V=m.ca;var K="readystatechange";Array.isArray(K)||(K&&(Cf[0]=K.toString()),K=Cf);for(var J=0;J<K.length;J++){var ye=ft(N,K[J],V||P.handleEvent,!1,P.h||P);if(!ye)break;P.g[ye.key]=ye}P=m.H?E(m.H):{},m.m?(m.u||(m.u="POST"),P["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,P)):(m.u="GET",m.g.ea(m.A,m.u,null,P)),Fu(),Vu(m.i,m.u,m.A,m.l,m.R,m.m)}B.prototype.ca=function(m){m=m.target;const P=this.M;P&&ba(m)==3?P.j():this.Y(m)},B.prototype.Y=function(m){try{if(m==this.g)e:{const yr=ba(this.g);var P=this.g.Ba();const Lf=this.g.Z();if(!(3>yr)&&(yr!=3||this.g&&(this.h.h||this.g.oa()||Xj(this.g)))){this.J||yr!=4||P==7||(P==8||0>=Lf?Fu(3):Fu(2)),Hl(this);var N=this.g.Z();this.X=N;t:if(Xe(this)){var V=Xj(this.g);m="";var K=V.length,J=ba(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ns(this),Rs(this);var ye="";break t}this.h.i=new a.TextDecoder}for(P=0;P<K;P++)this.h.h=!0,m+=this.h.i.decode(V[P],{stream:!(J&&P==K-1)});V.length=0,this.h.g+=m,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=N==200,UI(this.i,this.u,this.A,this.l,this.R,yr,N),this.o){if(this.T&&!this.K){t:{if(this.g){var _t,Qn=this.g;if((_t=Qn.g?Qn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(_t)){var ot=_t;break t}}ot=null}if(N=ot)ni(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zI(this,N);else{this.o=!1,this.s=3,$n(12),Ns(this),Rs(this);break e}}if(this.P){N=!0;let Ms;for(;!this.J&&this.C<ye.length;)if(Ms=zl(this,ye),Ms==oe){yr==4&&(this.s=4,$n(14),N=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(Ms==he){this.s=4,$n(15),ni(this.i,this.l,ye,"[Invalid Chunk]"),N=!1;break}else ni(this.i,this.l,Ms,null),zI(this,Ms);if(Xe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yr!=4||ye.length!=0||this.h.h||(this.s=1,$n(16),N=!1),this.o=this.o&&N,!N)ni(this.i,this.l,ye,"[Invalid Chunked Response]"),Ns(this),Rs(this);else if(0<ye.length&&!this.W){this.W=!0;var mr=this.j;mr.g==this&&mr.ba&&!mr.M&&(mr.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),XI(mr),mr.M=!0,$n(11))}}else ni(this.i,this.l,ye,null),zI(this,ye);yr==4&&Ns(this),this.o&&!this.J&&(yr==4?n4(this.j,this):(this.o=!1,ri(this)))}else KJ(this.g),N==400&&0<ye.indexOf("Unknown SID")?(this.s=3,$n(12)):(this.s=0,$n(13)),Ns(this),Rs(this)}}}catch{}finally{}};function Xe(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function zl(m,P){var N=m.C,V=P.indexOf(`
`,N);return V==-1?oe:(N=Number(P.substring(N,V)),isNaN(N)?he:(V+=1,V+N>P.length?oe:(P=P.slice(V,V+N),m.C=V+N,P)))}B.prototype.cancel=function(){this.J=!0,Ns(this)};function ri(m){m.S=Date.now()+m.I,ks(m,m.I)}function ks(m,P){if(m.B!=null)throw Error("WatchDog timer not null");m.B=gr(d(m.ba,m),P)}function Hl(m){m.B&&(a.clearTimeout(m.B),m.B=null)}B.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Uy(this.i,this.A),this.L!=2&&(Fu(),$n(17)),Ns(this),this.s=2,Rs(this)):ks(this,this.S-m)};function Rs(m){m.j.G==0||m.J||n4(m.j,m)}function Ns(m){Hl(m);var P=m.M;P&&typeof P.ma=="function"&&P.ma(),m.M=null,N1(m.U),m.g&&(P=m.g,m.g=null,P.abort(),P.ma())}function zI(m,P){try{var N=m.j;if(N.G!=0&&(N.g==m||HI(N.h,m))){if(!m.K&&HI(N.h,m)&&N.G==3){try{var V=N.Da.g.parse(P)}catch{V=null}if(Array.isArray(V)&&V.length==3){var K=V;if(K[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<m.F)W1(N),z1(N);else break e;KI(N),$n(18)}}else N.za=K[1],0<N.za-N.T&&37500>K[2]&&N.F&&N.v==0&&!N.C&&(N.C=gr(d(N.Za,N),6e3));if(1>=Nj(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else Uu(N,11)}else if((m.K||N.g==m)&&W1(N),!w(P))for(K=N.Da.g.parse(P),P=0;P<K.length;P++){let ot=K[P];if(N.T=ot[0],ot=ot[1],N.G==2)if(ot[0]=="c"){N.K=ot[1],N.ia=ot[2];const mr=ot[3];mr!=null&&(N.la=mr,N.j.info("VER="+N.la));const yr=ot[4];yr!=null&&(N.Aa=yr,N.j.info("SVER="+N.Aa));const Lf=ot[5];Lf!=null&&typeof Lf=="number"&&0<Lf&&(V=1.5*Lf,N.L=V,N.j.info("backChannelRequestTimeoutMs_="+V)),V=N;const Ms=m.g;if(Ms){const q1=Ms.g?Ms.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(q1){var J=V.h;J.g||q1.indexOf("spdy")==-1&&q1.indexOf("quic")==-1&&q1.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(WI(J,J.h),J.h=null))}if(V.D){const YI=Ms.g?Ms.g.getResponseHeader("X-HTTP-Session-Id"):null;YI&&(V.ya=YI,It(V.I,V.D,YI))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-m.F,N.j.info("Handshake RTT: "+N.R+"ms")),V=N;var ye=m;if(V.qa=s4(V,V.J?V.ia:null,V.W),ye.K){Mj(V.h,ye);var _t=ye,Qn=V.L;Qn&&(_t.I=Qn),_t.B&&(Hl(_t),ri(_t)),V.g=ye}else e4(V);0<N.i.length&&H1(N)}else ot[0]!="stop"&&ot[0]!="close"||Uu(N,7);else N.G==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?Uu(N,7):qI(N):ot[0]!="noop"&&N.l&&N.l.ta(ot),N.v=0)}}Fu(4)}catch{}}var RJ=class{constructor(m,P){this.g=m,this.map=P}};function kj(m){this.l=m||10,a.PerformanceNavigationTiming?(m=a.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rj(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Nj(m){return m.h?1:m.g?m.g.size:0}function HI(m,P){return m.h?m.h==P:m.g?m.g.has(P):!1}function WI(m,P){m.g?m.g.add(P):m.h=P}function Mj(m,P){m.h&&m.h==P?m.h=null:m.g&&m.g.has(P)&&m.g.delete(P)}kj.prototype.cancel=function(){if(this.i=Dj(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Dj(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let P=m.i;for(const N of m.g.values())P=P.concat(N.D);return P}return g(m.i)}function NJ(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(l(m)){for(var P=[],N=m.length,V=0;V<N;V++)P.push(m[V]);return P}P=[],N=0;for(V in m)P[N++]=m[V];return P}function MJ(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(l(m)||typeof m=="string"){var P=[];m=m.length;for(var N=0;N<m;N++)P.push(N);return P}P=[],N=0;for(const V in m)P[N++]=V;return P}}}function $j(m,P){if(m.forEach&&typeof m.forEach=="function")m.forEach(P,void 0);else if(l(m)||typeof m=="string")Array.prototype.forEach.call(m,P,void 0);else for(var N=MJ(m),V=NJ(m),K=V.length,J=0;J<K;J++)P.call(void 0,V[J],N&&N[J],m)}var Lj=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function DJ(m,P){if(m){m=m.split("&");for(var N=0;N<m.length;N++){var V=m[N].indexOf("="),K=null;if(0<=V){var J=m[N].substring(0,V);K=m[N].substring(V+1)}else J=m[N];P(J,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Bu(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Bu){this.h=m.h,L1(this,m.j),this.o=m.o,this.g=m.g,j1(this,m.s),this.l=m.l;var P=m.i,N=new Gy;N.i=P.i,P.g&&(N.g=new Map(P.g),N.h=P.h),jj(this,N),this.m=m.m}else m&&(P=String(m).match(Lj))?(this.h=!1,L1(this,P[1]||"",!0),this.o=Hy(P[2]||""),this.g=Hy(P[3]||"",!0),j1(this,P[4]),this.l=Hy(P[5]||"",!0),jj(this,P[6]||"",!0),this.m=Hy(P[7]||"")):(this.h=!1,this.i=new Gy(null,this.h))}Bu.prototype.toString=function(){var m=[],P=this.j;P&&m.push(Wy(P,Fj,!0),":");var N=this.g;return(N||P=="file")&&(m.push("//"),(P=this.o)&&m.push(Wy(P,Fj,!0),"@"),m.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&m.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&m.push("/"),m.push(Wy(N,N.charAt(0)=="/"?jJ:LJ,!0))),(N=this.i.toString())&&m.push("?",N),(N=this.m)&&m.push("#",Wy(N,VJ)),m.join("")};function va(m){return new Bu(m)}function L1(m,P,N){m.j=N?Hy(P,!0):P,m.j&&(m.j=m.j.replace(/:$/,""))}function j1(m,P){if(P){if(P=Number(P),isNaN(P)||0>P)throw Error("Bad port number "+P);m.s=P}else m.s=null}function jj(m,P,N){P instanceof Gy?(m.i=P,BJ(m.i,m.h)):(N||(P=Wy(P,FJ)),m.i=new Gy(P,m.h))}function It(m,P,N){m.i.set(P,N)}function F1(m){return It(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Hy(m,P){return m?P?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Wy(m,P,N){return typeof m=="string"?(m=encodeURI(m).replace(P,$J),N&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function $J(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Fj=/[#\/\?@]/g,LJ=/[#\?:]/g,jJ=/[#\?]/g,FJ=/[#\?@]/g,VJ=/#/g;function Gy(m,P){this.h=this.g=null,this.i=m||null,this.j=!!P}function Wl(m){m.g||(m.g=new Map,m.h=0,m.i&&DJ(m.i,function(P,N){m.add(decodeURIComponent(P.replace(/\+/g," ")),N)}))}t=Gy.prototype,t.add=function(m,P){Wl(this),this.i=null,m=Df(this,m);var N=this.g.get(m);return N||this.g.set(m,N=[]),N.push(P),this.h+=1,this};function Vj(m,P){Wl(m),P=Df(m,P),m.g.has(P)&&(m.i=null,m.h-=m.g.get(P).length,m.g.delete(P))}function Bj(m,P){return Wl(m),P=Df(m,P),m.g.has(P)}t.forEach=function(m,P){Wl(this),this.g.forEach(function(N,V){N.forEach(function(K){m.call(P,K,V,this)},this)},this)},t.na=function(){Wl(this);const m=Array.from(this.g.values()),P=Array.from(this.g.keys()),N=[];for(let V=0;V<P.length;V++){const K=m[V];for(let J=0;J<K.length;J++)N.push(P[V])}return N},t.V=function(m){Wl(this);let P=[];if(typeof m=="string")Bj(this,m)&&(P=P.concat(this.g.get(Df(this,m))));else{m=Array.from(this.g.values());for(let N=0;N<m.length;N++)P=P.concat(m[N])}return P},t.set=function(m,P){return Wl(this),this.i=null,m=Df(this,m),Bj(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[P]),this.h+=1,this},t.get=function(m,P){return m?(m=this.V(m),0<m.length?String(m[0]):P):P};function Uj(m,P,N){Vj(m,P),0<N.length&&(m.i=null,m.g.set(Df(m,P),g(N)),m.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],P=Array.from(this.g.keys());for(var N=0;N<P.length;N++){var V=P[N];const J=encodeURIComponent(String(V)),ye=this.V(V);for(V=0;V<ye.length;V++){var K=J;ye[V]!==""&&(K+="="+encodeURIComponent(String(ye[V]))),m.push(K)}}return this.i=m.join("&")};function Df(m,P){return P=String(P),m.j&&(P=P.toLowerCase()),P}function BJ(m,P){P&&!m.j&&(Wl(m),m.i=null,m.g.forEach(function(N,V){var K=V.toLowerCase();V!=K&&(Vj(this,V),Uj(this,K,N))},m)),m.j=P}function UJ(m,P){const N=new Ul;if(a.Image){const V=new Image;V.onload=p(Gl,N,"TestLoadImage: loaded",!0,P,V),V.onerror=p(Gl,N,"TestLoadImage: error",!1,P,V),V.onabort=p(Gl,N,"TestLoadImage: abort",!1,P,V),V.ontimeout=p(Gl,N,"TestLoadImage: timeout",!1,P,V),a.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=m}else P(!1)}function zJ(m,P){const N=new Ul,V=new AbortController,K=setTimeout(()=>{V.abort(),Gl(N,"TestPingServer: timeout",!1,P)},1e4);fetch(m,{signal:V.signal}).then(J=>{clearTimeout(K),J.ok?Gl(N,"TestPingServer: ok",!0,P):Gl(N,"TestPingServer: server error",!1,P)}).catch(()=>{clearTimeout(K),Gl(N,"TestPingServer: error",!1,P)})}function Gl(m,P,N,V,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),V(N)}catch{}}function HJ(){this.g=new BI}function WJ(m,P,N){const V=N||"";try{$j(m,function(K,J){let ye=K;c(K)&&(ye=If(K)),P.push(V+J+"="+encodeURIComponent(ye))})}catch(K){throw P.push(V+"type="+encodeURIComponent("_badmap")),K}}function V1(m){this.l=m.Ub||null,this.j=m.eb||!1}y(V1,Fy),V1.prototype.g=function(){return new B1(this.l,this.j)},V1.prototype.i=function(m){return function(){return m}}({});function B1(m,P){$t.call(this),this.D=m,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(B1,$t),t=B1.prototype,t.open=function(m,P){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=P,this.readyState=1,Ky(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const P={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(P.body=m),(this.D||a).fetch(new Request(this.A,P)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qy(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ky(this)),this.g&&(this.readyState=3,Ky(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zj(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function zj(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var P=m.value?m.value:new Uint8Array(0);(P=this.v.decode(P,{stream:!m.done}))&&(this.response=this.responseText+=P)}m.done?qy(this):Ky(this),this.readyState==3&&zj(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,qy(this))},t.Qa=function(m){this.g&&(this.response=m,qy(this))},t.ga=function(){this.g&&qy(this)};function qy(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Ky(m)}t.setRequestHeader=function(m,P){this.u.append(m,P)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],P=this.h.entries();for(var N=P.next();!N.done;)N=N.value,m.push(N[0]+": "+N[1]),N=P.next();return m.join(`\r
`)};function Ky(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(B1.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Hj(m){let P="";return T(m,function(N,V){P+=V,P+=":",P+=N,P+=`\r
`}),P}function GI(m,P,N){e:{for(V in N){var V=!1;break e}V=!0}V||(N=Hj(N),typeof m=="string"?N!=null&&encodeURIComponent(String(N)):It(m,P,N))}function Xt(m){$t.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Xt,$t);var GJ=/^https?$/i,qJ=["POST","PUT"];t=Xt.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,P,N,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);P=P?P.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mf.g(),this.v=this.o?M1(this.o):M1(Mf),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(P,String(m),!0),this.B=!1}catch(J){Wj(this,J);return}if(m=N||"",N=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var K in V)N.set(K,V[K]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const J of V.keys())N.set(J,V.get(J));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(N.keys()).find(J=>J.toLowerCase()=="content-type"),K=a.FormData&&m instanceof a.FormData,!(0<=Array.prototype.indexOf.call(qJ,P,void 0))||V||K||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ye]of N)this.g.setRequestHeader(J,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Kj(this),this.u=!0,this.g.send(m),this.u=!1}catch(J){Wj(this,J)}};function Wj(m,P){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=P,m.m=5,Gj(m),U1(m)}function Gj(m){m.A||(m.A=!0,Ut(m,"complete"),Ut(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Ut(this,"complete"),Ut(this,"abort"),U1(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),U1(this,!0)),Xt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?qj(this):this.bb())},t.bb=function(){qj(this)};function qj(m){if(m.h&&typeof o<"u"&&(!m.v[1]||ba(m)!=4||m.Z()!=2)){if(m.u&&ba(m)==4)Ao(m.Ea,0,m);else if(Ut(m,"readystatechange"),ba(m)==4){m.h=!1;try{const ye=m.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var N;if(!(N=P)){var V;if(V=ye===0){var K=String(m.D).match(Lj)[1]||null;!K&&a.self&&a.self.location&&(K=a.self.location.protocol.slice(0,-1)),V=!GJ.test(K?K.toLowerCase():"")}N=V}if(N)Ut(m,"complete"),Ut(m,"success");else{m.m=6;try{var J=2<ba(m)?m.g.statusText:""}catch{J=""}m.l=J+" ["+m.Z()+"]",Gj(m)}}finally{U1(m)}}}}function U1(m,P){if(m.g){Kj(m);const N=m.g,V=m.v[0]?()=>{}:null;m.g=null,m.v=null,P||Ut(m,"ready");try{N.onreadystatechange=V}catch{}}}function Kj(m){m.I&&(a.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function ba(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<ba(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var P=this.g.responseText;return m&&P.indexOf(m)==0&&(P=P.substring(m.length)),VI(P)}};function Xj(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function KJ(m){const P={};m=(m.g&&2<=ba(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<m.length;V++){if(w(m[V]))continue;var N=D(m[V]);const K=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const J=P[K]||[];P[K]=J,J.push(N)}A(P,function(V){return V.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xy(m,P,N){return N&&N.internalChannelParams&&N.internalChannelParams[m]||P}function Yj(m){this.Aa=0,this.i=[],this.j=new Ul,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xy("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xy("baseRetryDelayMs",5e3,m),this.cb=Xy("retryDelaySeedMs",1e4,m),this.Wa=Xy("forwardChannelMaxRetries",2,m),this.wa=Xy("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new kj(m&&m.concurrentRequestLimit),this.Da=new HJ,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Yj.prototype,t.la=8,t.G=1,t.connect=function(m,P,N,V){$n(0),this.W=m,this.H=P||{},N&&V!==void 0&&(this.H.OSID=N,this.H.OAID=V),this.F=this.X,this.I=s4(this,null,this.W),H1(this)};function qI(m){if(Qj(m),m.G==3){var P=m.U++,N=va(m.I);if(It(N,"SID",m.K),It(N,"RID",P),It(N,"TYPE","terminate"),Yy(m,N),P=new B(m,m.j,P),P.L=2,P.v=F1(va(N)),N=!1,a.navigator&&a.navigator.sendBeacon)try{N=a.navigator.sendBeacon(P.v.toString(),"")}catch{}!N&&a.Image&&(new Image().src=P.v,N=!0),N||(P.g=o4(P.j,null),P.g.ea(P.v)),P.F=Date.now(),ri(P)}i4(m)}function z1(m){m.g&&(XI(m),m.g.cancel(),m.g=null)}function Qj(m){z1(m),m.u&&(a.clearTimeout(m.u),m.u=null),W1(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&a.clearTimeout(m.s),m.s=null)}function H1(m){if(!Rj(m.h)&&!m.s){m.s=!0;var P=m.Ga;G||ee(),z||(G(),z=!0),X.add(P,m),m.B=0}}function XJ(m,P){return Nj(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=P.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=gr(d(m.Ga,m,P),r4(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const K=new B(this,this.j,m);let J=this.o;if(this.S&&(J?(J=E(J),M(J,this.S)):J=this.S),this.m!==null||this.O||(K.H=J,J=null),this.P)e:{for(var P=0,N=0;N<this.i.length;N++){t:{var V=this.i[N];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(P+=V,4096<P){P=N;break e}if(P===4096||N===this.i.length-1){P=N+1;break e}}P=1e3}else P=1e3;P=Zj(this,K,P),N=va(this.I),It(N,"RID",m),It(N,"CVER",22),this.D&&It(N,"X-HTTP-Session-Id",this.D),Yy(this,N),J&&(this.O?P="headers="+encodeURIComponent(String(Hj(J)))+"&"+P:this.m&&GI(N,this.m,J)),WI(this.h,K),this.Ua&&It(N,"TYPE","init"),this.P?(It(N,"$req",P),It(N,"SID","null"),K.T=!0,se(K,N,null)):se(K,N,P),this.G=2}}else this.G==3&&(m?Jj(this,m):this.i.length==0||Rj(this.h)||Jj(this))};function Jj(m,P){var N;P?N=P.l:N=m.U++;const V=va(m.I);It(V,"SID",m.K),It(V,"RID",N),It(V,"AID",m.T),Yy(m,V),m.m&&m.o&&GI(V,m.m,m.o),N=new B(m,m.j,N,m.B+1),m.m===null&&(N.H=m.o),P&&(m.i=P.D.concat(m.i)),P=Zj(m,N,1e3),N.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),WI(m.h,N),se(N,V,P)}function Yy(m,P){m.H&&T(m.H,function(N,V){It(P,V,N)}),m.l&&$j({},function(N,V){It(P,V,N)})}function Zj(m,P,N){N=Math.min(m.i.length,N);var V=m.l?d(m.l.Na,m.l,m):null;e:{var K=m.i;let J=-1;for(;;){const ye=["count="+N];J==-1?0<N?(J=K[0].g,ye.push("ofs="+J)):J=0:ye.push("ofs="+J);let _t=!0;for(let Qn=0;Qn<N;Qn++){let ot=K[Qn].g;const mr=K[Qn].map;if(ot-=J,0>ot)J=Math.max(0,K[Qn].g-100),_t=!1;else try{WJ(mr,ye,"req"+ot+"_")}catch{V&&V(mr)}}if(_t){V=ye.join("&");break e}}}return m=m.i.splice(0,N),P.D=m,V}function e4(m){if(!m.g&&!m.u){m.Y=1;var P=m.Fa;G||ee(),z||(G(),z=!0),X.add(P,m),m.v=0}}function KI(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=gr(d(m.Fa,m),r4(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,t4(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=gr(d(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$n(10),z1(this),t4(this))};function XI(m){m.A!=null&&(a.clearTimeout(m.A),m.A=null)}function t4(m){m.g=new B(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var P=va(m.qa);It(P,"RID","rpc"),It(P,"SID",m.K),It(P,"AID",m.T),It(P,"CI",m.F?"0":"1"),!m.F&&m.ja&&It(P,"TO",m.ja),It(P,"TYPE","xmlhttp"),Yy(m,P),m.m&&m.o&&GI(P,m.m,m.o),m.L&&(m.g.I=m.L);var N=m.g;m=m.ia,N.L=1,N.v=F1(va(P)),N.m=null,N.P=!0,Ke(N,m)}t.Za=function(){this.C!=null&&(this.C=null,z1(this),KI(this),$n(19))};function W1(m){m.C!=null&&(a.clearTimeout(m.C),m.C=null)}function n4(m,P){var N=null;if(m.g==P){W1(m),XI(m),m.g=null;var V=2}else if(HI(m.h,P))N=P.D,Mj(m.h,P),V=1;else return;if(m.G!=0){if(P.o)if(V==1){N=P.m?P.m.length:0,P=Date.now()-P.F;var K=m.B;V=kf(),Ut(V,new rs(V,N)),H1(m)}else e4(m);else if(K=P.s,K==3||K==0&&0<P.X||!(V==1&&XJ(m,P)||V==2&&KI(m)))switch(N&&0<N.length&&(P=m.h,P.i=P.i.concat(N)),K){case 1:Uu(m,5);break;case 4:Uu(m,10);break;case 3:Uu(m,6);break;default:Uu(m,2)}}}function r4(m,P){let N=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(N*=2),N*P}function Uu(m,P){if(m.j.info("Error code "+P),P==2){var N=d(m.fb,m),V=m.Xa;const K=!V;V=new Bu(V||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||L1(V,"https"),F1(V),K?UJ(V.toString(),N):zJ(V.toString(),N)}else $n(2);m.G=0,m.l&&m.l.sa(P),i4(m),Qj(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),$n(2)):(this.j.info("Failed to ping google.com"),$n(1))};function i4(m){if(m.G=0,m.ka=[],m.l){const P=Dj(m.h);(P.length!=0||m.i.length!=0)&&(v(m.ka,P),v(m.ka,m.i),m.h.i.length=0,g(m.i),m.i.length=0),m.l.ra()}}function s4(m,P,N){var V=N instanceof Bu?va(N):new Bu(N);if(V.g!="")P&&(V.g=P+"."+V.g),j1(V,V.s);else{var K=a.location;V=K.protocol,P=P?P+"."+K.hostname:K.hostname,K=+K.port;var J=new Bu(null);V&&L1(J,V),P&&(J.g=P),K&&j1(J,K),N&&(J.l=N),V=J}return N=m.D,P=m.ya,N&&P&&It(V,N,P),It(V,"VER",m.la),Yy(m,V),V}function o4(m,P,N){if(P&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return P=m.Ca&&!m.pa?new Xt(new V1({eb:N})):new Xt(m.pa),P.Ha(m.J),P}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function a4(){}t=a4.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function G1(){}G1.prototype.g=function(m,P){return new _i(m,P)};function _i(m,P){$t.call(this),this.g=new Yj(P),this.l=m,this.h=P&&P.messageUrlParams||null,m=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(m?m["X-WebChannel-Content-Type"]=P.messageContentType:m={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.va&&(m?m["X-WebChannel-Client-Profile"]=P.va:m={"X-WebChannel-Client-Profile":P.va}),this.g.S=m,(m=P&&P.Sb)&&!w(m)&&(this.g.m=m),this.v=P&&P.supportsCrossDomainXhr||!1,this.u=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!w(P)&&(this.g.D=P,m=this.h,m!==null&&P in m&&(m=this.h,P in m&&delete m[P])),this.j=new $f(this)}y(_i,$t),_i.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_i.prototype.close=function(){qI(this.g)},_i.prototype.o=function(m){var P=this.g;if(typeof m=="string"){var N={};N.__data__=m,m=N}else this.u&&(N={},N.__data__=If(m),m=N);P.i.push(new RJ(P.Ya++,m)),P.G==3&&H1(P)},_i.prototype.N=function(){this.g.l=null,delete this.j,qI(this.g),delete this.g,_i.aa.N.call(this)};function l4(m){By.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var P=m.__sm__;if(P){e:{for(const N in P){m=N;break e}m=void 0}(this.i=m)&&(m=this.i,P=P!==null&&m in P?P[m]:void 0),this.data=P}else this.data=m}y(l4,By);function c4(){Of.call(this),this.status=1}y(c4,Of);function $f(m){this.g=m}y($f,a4),$f.prototype.ua=function(){Ut(this.g,"a")},$f.prototype.ta=function(m){Ut(this.g,new l4(m))},$f.prototype.sa=function(m){Ut(this.g,new c4)},$f.prototype.ra=function(){Ut(this.g,"b")},G1.prototype.createWebChannel=G1.prototype.g,_i.prototype.send=_i.prototype.o,_i.prototype.open=_i.prototype.m,_i.prototype.close=_i.prototype.close,Pz=function(){return new G1},Tz=function(){return kf()},Sz=ya,M2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nf.NO_ERROR=0,Nf.TIMEOUT=8,Nf.HTTP_ERROR=6,dA=Nf,zy.COMPLETE="complete",Ez=zy,Vy.EventType=ju,ju.OPEN="a",ju.CLOSE="b",ju.ERROR="c",ju.MESSAGE="d",$t.prototype.listen=$t.prototype.K,Sv=Vy,Xt.prototype.listenOnce=Xt.prototype.L,Xt.prototype.getLastError=Xt.prototype.Ka,Xt.prototype.getLastErrorCode=Xt.prototype.Ba,Xt.prototype.getStatus=Xt.prototype.Z,Xt.prototype.getResponseJson=Xt.prototype.Oa,Xt.prototype.getResponseText=Xt.prototype.oa,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Ha,Az=Xt}).apply(typeof px<"u"?px:typeof self<"u"?self:typeof window<"u"?window:{});const K3="@firebase/firestore",X3="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Or.UNAUTHENTICATED=new Or(null),Or.GOOGLE_CREDENTIALS=new Or("google-credentials-uid"),Or.FIRST_PARTY=new Or("first-party-uid"),Or.MOCK_USER=new Or("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vy="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=new t$("@firebase/firestore");function Gf(){return Jd.logLevel}function ve(t,...e){if(Jd.logLevel<=Qe.DEBUG){const n=e.map(p$);Jd.debug(`Firestore (${vy}): ${t}`,...n)}}function Pl(t,...e){if(Jd.logLevel<=Qe.ERROR){const n=e.map(p$);Jd.error(`Firestore (${vy}): ${t}`,...n)}}function Om(t,...e){if(Jd.logLevel<=Qe.WARN){const n=e.map(p$);Jd.warn(`Firestore (${vy}): ${t}`,...n)}}function p$(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Cz(t,r,n)}function Cz(t,e,n){let r=`FIRESTORE (${vy}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Pl(r),new Error(r)}function ht(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Cz(e,i,r)}function $e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends Ll{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ase{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Or.UNAUTHENTICATED))}shutdown(){}}class Ese{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Sse{constructor(e){this.t=e,this.currentUser=Or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ht(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new pu;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new pu,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new pu)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ht(typeof r.accessToken=="string",31837,{l:r}),new Iz(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new Or(e)}}class Tse{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Or.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Pse{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Tse(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Y3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cse{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lo(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ht(this.o===void 0,3512);const r=s=>{s.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,ve("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Y3(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Y3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ise(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oz(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Ise(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function He(t,e){return t<e?-1:t>e?1:0}function D2(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return He(r,i);{const s=Oz(),o=Ose(s.encode(Q3(t,n)),s.encode(Q3(e,n)));return o!==0?o:He(r,i)}}n+=r>65535?2:1}return He(t.length,e.length)}function Q3(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Ose(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return He(t[n],e[n]);return He(t.length,e.length)}function km(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3=-62135596800,Z3=1e6;class Nn{static now(){return Nn.fromMillis(Date.now())}static fromDate(e){return Nn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Z3);return new Nn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ce(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ce(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<J3)throw new Ce(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z3}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-J3;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new Nn(0,0))}static max(){return new Le(new Nn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF="__name__";class Oo{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Oo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Oo.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return He(e.length,n.length)}static compareSegments(e,n){const r=Oo.isNumericId(e),i=Oo.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Oo.extractNumericId(e).compare(Oo.extractNumericId(n)):D2(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fu.fromString(e.substring(4,e.length-2))}}class Vt extends Oo{construct(e,n,r){return new Vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ce(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Vt(n)}static emptyPath(){return new Vt([])}}const kse=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lr extends Oo{construct(e,n,r){return new lr(e,n,r)}static isValidIdentifier(e){return kse.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eF}static keyField(){return new lr([eF])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ce(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ce(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ce(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ce(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lr(n)}static emptyPath(){return new lr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(Vt.fromString(e))}static fromName(e){return new ke(Vt.fromString(e).popFirst(5))}static empty(){return new ke(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new Vt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=-1;function Rse(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Le.fromTimestamp(r===1e9?new Nn(n+1,0):new Nn(n,r));return new bu(i,ke.empty(),e)}function Nse(t){return new bu(t.readTime,t.key,F0)}class bu{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new bu(Le.min(),ke.empty(),F0)}static max(){return new bu(Le.max(),ke.empty(),F0)}}function Mse(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dse="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $se{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function by(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==Dse)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,r)=>{n(e)})}static reject(e){return new re((n,r)=>{r(e)})}static waitFor(e){return new re((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next(i=>i?re.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new re((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new re((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Lse(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wy(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}vC.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g$=-1;function bC(t){return t==null}function RE(t){return t===0&&1/t==-1/0}function jse(t){return typeof t=="number"&&Number.isInteger(t)&&!RE(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rz="";function Fse(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=tF(e)),e=Vse(t.get(n),e);return tF(e)}function Vse(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case Rz:n+="";break;default:n+=s}}return n}function tF(t){return t+Rz+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function gf(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Nz(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,n){this.comparator=e,this.root=n||or.EMPTY}insert(e,n){return new Kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,or.BLACK,null,null))}remove(e){return new Kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,or.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gx(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gx(this.root,e,this.comparator,!1)}getReverseIterator(){return new gx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gx(this.root,e,this.comparator,!0)}}class gx{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class or{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??or.RED,this.left=i??or.EMPTY,this.right=s??or.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new or(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return or.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return or.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,or.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,or.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}or.EMPTY=null,or.RED=!0,or.BLACK=!1;or.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new or(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.comparator=e,this.data=new Kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rF(this.data.getIterator())}getIteratorFrom(e){return new rF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Mn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mn(this.comparator);return n.data=e,n}}class rF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.fields=e,e.sort(lr.comparator)}static empty(){return new ho([])}unionWith(e){let n=new Mn(lr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ho(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return km(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Mz("Invalid base64 string: "+s):s}}(e);return new dr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new dr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dr.EMPTY_BYTE_STRING=new dr("");const Bse=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wu(t){if(ht(!!t,39018),typeof t=="string"){let e=0;const n=Bse.exec(t);if(ht(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:an(t.seconds),nanos:an(t.nanos)}}function an(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _u(t){return typeof t=="string"?dr.fromBase64String(t):dr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz="server_timestamp",$z="__type__",Lz="__previous_value__",jz="__local_write_time__";function m$(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[$z])===null||n===void 0?void 0:n.stringValue)===Dz}function wC(t){const e=t.mapValue.fields[Lz];return m$(e)?wC(e):e}function V0(t){const e=wu(t.mapValue.fields[jz].timestampValue);return new Nn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Use{constructor(e,n,r,i,s,o,a,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const NE="(default)";class B0{constructor(e,n){this.projectId=e,this.database=n||NE}static empty(){return new B0("","")}get isDefaultDatabase(){return this.database===NE}isEqual(e){return e instanceof B0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz="__type__",Vz="__max__",mx={mapValue:{fields:{__type__:{stringValue:Vz}}}},Bz="__vector__",ME="value";function xu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?m$(t)?4:Hse(t)?9007199254740991:zse(t)?10:11:Ne(28295,{value:t})}function ca(t,e){if(t===e)return!0;const n=xu(t);if(n!==xu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return V0(t).isEqual(V0(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=wu(i.timestampValue),a=wu(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return _u(i.bytesValue).isEqual(_u(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return an(i.geoPointValue.latitude)===an(s.geoPointValue.latitude)&&an(i.geoPointValue.longitude)===an(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return an(i.integerValue)===an(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=an(i.doubleValue),a=an(s.doubleValue);return o===a?RE(o)===RE(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return km(t.arrayValue.values||[],e.arrayValue.values||[],ca);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(nF(o)!==nF(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ca(o[l],a[l])))return!1;return!0}(t,e);default:return Ne(52216,{left:t})}}function U0(t,e){return(t.values||[]).find(n=>ca(n,e))!==void 0}function Rm(t,e){if(t===e)return 0;const n=xu(t),r=xu(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=an(s.integerValue||s.doubleValue),l=an(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return iF(t.timestampValue,e.timestampValue);case 4:return iF(V0(t),V0(e));case 5:return D2(t.stringValue,e.stringValue);case 6:return function(s,o){const a=_u(s),l=_u(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=He(a[c],l[c]);if(u!==0)return u}return He(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=He(an(s.latitude),an(o.latitude));return a!==0?a:He(an(s.longitude),an(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return sF(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,u;const h=s.fields||{},d=o.fields||{},p=(a=h[ME])===null||a===void 0?void 0:a.arrayValue,y=(l=d[ME])===null||l===void 0?void 0:l.arrayValue,g=He(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0);return g!==0?g:sF(p,y)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===mx.mapValue&&o===mx.mapValue)return 0;if(s===mx.mapValue)return 1;if(o===mx.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const d=D2(l[h],u[h]);if(d!==0)return d;const p=Rm(a[l[h]],c[u[h]]);if(p!==0)return p}return He(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Ne(23264,{Pe:n})}}function iF(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=wu(t),r=wu(e),i=He(n.seconds,r.seconds);return i!==0?i:He(n.nanos,r.nanos)}function sF(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Rm(n[i],r[i]);if(s)return s}return He(n.length,r.length)}function Nm(t){return $2(t)}function $2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=wu(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return _u(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ke.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=$2(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${$2(n.fields[o])}`;return i+"}"}(t.mapValue):Ne(61005,{value:t})}function fA(t){switch(xu(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wC(t);return e?16+fA(e):16;case 5:return 2*t.stringValue.length;case 6:return _u(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+fA(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return gf(r.fields,(s,o)=>{i+=s.length+fA(o)}),i}(t.mapValue);default:throw Ne(13486,{value:t})}}function L2(t){return!!t&&"integerValue"in t}function y$(t){return!!t&&"arrayValue"in t}function oF(t){return!!t&&"nullValue"in t}function aF(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pA(t){return!!t&&"mapValue"in t}function zse(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Fz])===null||n===void 0?void 0:n.stringValue)===Bz}function l0(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return gf(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=l0(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=l0(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Hse(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Vz}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.value=e}static empty(){return new bs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pA(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=l0(n)}setAll(e){let n=lr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=l0(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());pA(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ca(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];pA(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){gf(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new bs(l0(this.value))}}function Uz(t){const e=[];return gf(t.fields,(n,r)=>{const i=new lr([n]);if(pA(r)){const s=Uz(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ho(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Nr(e,0,Le.min(),Le.min(),Le.min(),bs.empty(),0)}static newFoundDocument(e,n,r,i){return new Nr(e,1,n,Le.min(),r,i,0)}static newNoDocument(e,n){return new Nr(e,2,n,Le.min(),Le.min(),bs.empty(),0)}static newUnknownDocument(e,n){return new Nr(e,3,n,Le.min(),Le.min(),bs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,n){this.position=e,this.inclusive=n}}function lF(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ke.comparator(ke.fromName(o.referenceValue),n.key):r=Rm(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function cF(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ca(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n="asc"){this.field=e,this.dir=n}}function Wse(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{}class In extends zz{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new qse(e,n,r):n==="array-contains"?new Yse(e,r):n==="in"?new Qse(e,r):n==="not-in"?new Jse(e,r):n==="array-contains-any"?new Zse(e,r):new In(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Kse(e,r):new Xse(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Rm(n,this.value)):n!==null&&xu(this.value)===xu(n)&&this.matchesComparison(Rm(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ua extends zz{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new ua(e,n)}matches(e){return Hz(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Hz(t){return t.op==="and"}function Wz(t){return Gse(t)&&Hz(t)}function Gse(t){for(const e of t.filters)if(e instanceof ua)return!1;return!0}function j2(t){if(t instanceof In)return t.field.canonicalString()+t.op.toString()+Nm(t.value);if(Wz(t))return t.filters.map(e=>j2(e)).join(",");{const e=t.filters.map(n=>j2(n)).join(",");return`${t.op}(${e})`}}function Gz(t,e){return t instanceof In?function(r,i){return i instanceof In&&r.op===i.op&&r.field.isEqual(i.field)&&ca(r.value,i.value)}(t,e):t instanceof ua?function(r,i){return i instanceof ua&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Gz(o,i.filters[a]),!0):!1}(t,e):void Ne(19439)}function qz(t){return t instanceof In?function(n){return`${n.field.canonicalString()} ${n.op} ${Nm(n.value)}`}(t):t instanceof ua?function(n){return n.op.toString()+" {"+n.getFilters().map(qz).join(" ,")+"}"}(t):"Filter"}class qse extends In{constructor(e,n,r){super(e,n,r),this.key=ke.fromName(r.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class Kse extends In{constructor(e,n){super(e,"in",n),this.keys=Kz("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Xse extends In{constructor(e,n){super(e,"not-in",n),this.keys=Kz("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Kz(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ke.fromName(r.referenceValue))}class Yse extends In{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return y$(n)&&U0(n.arrayValue,this.value)}}class Qse extends In{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&U0(this.value.arrayValue,n)}}class Jse extends In{constructor(e,n){super(e,"not-in",n)}matches(e){if(U0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!U0(this.value.arrayValue,n)}}class Zse extends In{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!y$(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>U0(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eoe{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}}function uF(t,e=null,n=[],r=[],i=null,s=null,o=null){return new eoe(t,e,n,r,i,s,o)}function v$(t){const e=$e(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>j2(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),bC(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Nm(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Nm(r)).join(",")),e.Ie=n}return e.Ie}function b$(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Wse(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Gz(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cF(t.startAt,e.startAt)&&cF(t.endAt,e.endAt)}function F2(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function toe(t,e,n,r,i,s,o,a){return new _C(t,e,n,r,i,s,o,a)}function w$(t){return new _C(t)}function hF(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function noe(t){return t.collectionGroup!==null}function c0(t){const e=$e(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Mn(lr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new $E(s,r))}),n.has(lr.keyField().canonicalString())||e.Ee.push(new $E(lr.keyField(),r))}return e.Ee}function na(t){const e=$e(t);return e.de||(e.de=roe(e,c0(t))),e.de}function roe(t,e){if(t.limitType==="F")return uF(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new $E(i.field,s)});const n=t.endAt?new DE(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new DE(t.startAt.position,t.startAt.inclusive):null;return uF(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function V2(t,e,n){return new _C(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xC(t,e){return b$(na(t),na(e))&&t.limitType===e.limitType}function Xz(t){return`${v$(na(t))}|lt:${t.limitType}`}function qf(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>qz(i)).join(", ")}]`),bC(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Nm(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Nm(i)).join(",")),`Target(${r})`}(na(t))}; limitType=${t.limitType})`}function AC(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ke.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of c0(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=lF(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,c0(r),i)||r.endAt&&!function(o,a,l){const c=lF(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,c0(r),i))}(t,e)}function ioe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Yz(t){return(e,n)=>{let r=!1;for(const i of c0(t)){const s=soe(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function soe(t,e,n){const r=t.field.isKeyField()?ke.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Rm(l,c):Ne(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){gf(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Nz(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ooe=new Kt(ke.comparator);function Cl(){return ooe}const Qz=new Kt(ke.comparator);function Tv(...t){let e=Qz;for(const n of t)e=e.insert(n.key,n);return e}function Jz(t){let e=Qz;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function lh(){return u0()}function Zz(){return u0()}function u0(){return new mf(t=>t.toString(),(t,e)=>t.isEqual(e))}const aoe=new Kt(ke.comparator),loe=new Mn(ke.comparator);function Je(...t){let e=loe;for(const n of t)e=e.add(n);return e}const coe=new Mn(He);function uoe(){return coe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _$(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:RE(e)?"-0":e}}function eH(t){return{integerValue:""+t}}function hoe(t,e){return jse(e)?eH(e):_$(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this._=void 0}}function doe(t,e,n){return t instanceof LE?function(i,s){const o={fields:{[$z]:{stringValue:Dz},[jz]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&m$(s)&&(s=wC(s)),s&&(o.fields[Lz]=s),{mapValue:o}}(n,e):t instanceof z0?nH(t,e):t instanceof H0?rH(t,e):function(i,s){const o=tH(i,s),a=dF(o)+dF(i.Re);return L2(o)&&L2(i.Re)?eH(a):_$(i.serializer,a)}(t,e)}function foe(t,e,n){return t instanceof z0?nH(t,e):t instanceof H0?rH(t,e):n}function tH(t,e){return t instanceof jE?function(r){return L2(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class LE extends EC{}class z0 extends EC{constructor(e){super(),this.elements=e}}function nH(t,e){const n=iH(e);for(const r of t.elements)n.some(i=>ca(i,r))||n.push(r);return{arrayValue:{values:n}}}class H0 extends EC{constructor(e){super(),this.elements=e}}function rH(t,e){let n=iH(e);for(const r of t.elements)n=n.filter(i=>!ca(i,r));return{arrayValue:{values:n}}}class jE extends EC{constructor(e,n){super(),this.serializer=e,this.Re=n}}function dF(t){return an(t.integerValue||t.doubleValue)}function iH(t){return y$(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function poe(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof z0&&i instanceof z0||r instanceof H0&&i instanceof H0?km(r.elements,i.elements,ca):r instanceof jE&&i instanceof jE?ca(r.Re,i.Re):r instanceof LE&&i instanceof LE}(t.transform,e.transform)}class goe{constructor(e,n){this.version=e,this.transformResults=n}}class go{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new go}static exists(e){return new go(void 0,e)}static updateTime(e){return new go(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gA(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class SC{}function sH(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new x$(t.key,go.none()):new o1(t.key,t.data,go.none());{const n=t.data,r=bs.empty();let i=new Mn(lr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new yf(t.key,r,new ho(i.toArray()),go.none())}}function moe(t,e,n){t instanceof o1?function(i,s,o){const a=i.value.clone(),l=pF(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof yf?function(i,s,o){if(!gA(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=pF(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(oH(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function h0(t,e,n,r){return t instanceof o1?function(s,o,a,l){if(!gA(s.precondition,o))return a;const c=s.value.clone(),u=gF(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof yf?function(s,o,a,l){if(!gA(s.precondition,o))return a;const c=gF(s.fieldTransforms,l,o),u=o.data;return u.setAll(oH(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return gA(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function yoe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=tH(r.transform,i||null);s!=null&&(n===null&&(n=bs.empty()),n.set(r.field,s))}return n||null}function fF(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&km(r,i,(s,o)=>poe(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class o1 extends SC{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class yf extends SC{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function oH(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function pF(t,e,n){const r=new Map;ht(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,foe(o,a,n[i]))}return r}function gF(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,doe(s,o,e))}return r}class x$ extends SC{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class voe extends SC{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class boe{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&moe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=h0(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=h0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Zz();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=sH(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Je())}isEqual(e){return this.batchId===e.batchId&&km(this.mutations,e.mutations,(n,r)=>fF(n,r))&&km(this.baseMutations,e.baseMutations,(n,r)=>fF(n,r))}}class A${constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ht(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return aoe}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new A$(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class woe{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _oe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn,tt;function xoe(t){switch(t){case le.OK:return Ne(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Ne(15467,{code:t})}}function aH(t){if(t===void 0)return Pl("GRPC error has no .code"),le.UNKNOWN;switch(t){case fn.OK:return le.OK;case fn.CANCELLED:return le.CANCELLED;case fn.UNKNOWN:return le.UNKNOWN;case fn.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case fn.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case fn.INTERNAL:return le.INTERNAL;case fn.UNAVAILABLE:return le.UNAVAILABLE;case fn.UNAUTHENTICATED:return le.UNAUTHENTICATED;case fn.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case fn.NOT_FOUND:return le.NOT_FOUND;case fn.ALREADY_EXISTS:return le.ALREADY_EXISTS;case fn.PERMISSION_DENIED:return le.PERMISSION_DENIED;case fn.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case fn.ABORTED:return le.ABORTED;case fn.OUT_OF_RANGE:return le.OUT_OF_RANGE;case fn.UNIMPLEMENTED:return le.UNIMPLEMENTED;case fn.DATA_LOSS:return le.DATA_LOSS;default:return Ne(39323,{code:t})}}(tt=fn||(fn={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aoe=new fu([4294967295,4294967295],0);function mF(t){const e=Oz().encode(t),n=new xz;return n.update(e),new Uint8Array(n.digest())}function yF(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new fu([n,r],0),new fu([i,s],0)]}class E${constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Pv(`Invalid padding: ${n}`);if(r<0)throw new Pv(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pv(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Pv(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=fu.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(fu.fromNumber(r)));return i.compare(Aoe)===1&&(i=new fu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=mF(e),[r,i]=yF(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);if(!this.be(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new E$(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=mF(e),[r,i]=yF(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Pv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,a1.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new TC(Le.min(),i,new Kt(He),Cl(),Je())}}class a1{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new a1(r,n,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class lH{constructor(e,n){this.targetId=e,this.Ce=n}}class cH{constructor(e,n,r=dr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class vF{constructor(){this.Fe=0,this.Me=bF(),this.xe=dr.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Je(),n=Je(),r=Je();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ne(38017,{changeType:s})}}),new a1(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=bF()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ht(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Eoe{constructor(e){this.ze=e,this.je=new Map,this.He=Cl(),this.Je=yx(),this.Ye=yx(),this.Ze=new Kt(He)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Ne(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const s=i.target;if(F2(s))if(r===0){const o=new ke(s.path);this.tt(n,o,Nr.newNoDocument(o,Le.min()))}else ht(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=_u(r).toUint8Array()}catch(l){if(l instanceof Mz)return Om("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new E$(o,i,s)}catch(l){return Om(l instanceof Pv?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,s,null),i++)}),i}It(e){const n=new Map;this.je.forEach((s,o)=>{const a=this._t(o);if(a){if(s.current&&F2(a.target)){const l=new ke(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,Nr.newNoDocument(l,e))}s.Le&&(n.set(o,s.qe()),s.Qe())}});let r=Je();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const i=new TC(e,n,this.Ze,this.He,r);return this.He=Cl(),this.Je=yx(),this.Ye=yx(),this.Ze=new Kt(He),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new vF,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Mn(He),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Mn(He),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new vF),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function yx(){return new Kt(ke.comparator)}function bF(){return new Kt(ke.comparator)}const Soe=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Toe=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Poe=(()=>({and:"AND",or:"OR"}))();class Coe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function B2(t,e){return t.useProto3Json||bC(e)?e:{value:e}}function FE(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uH(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ioe(t,e){return FE(t,e.toTimestamp())}function ra(t){return ht(!!t,49232),Le.fromTimestamp(function(n){const r=wu(n);return new Nn(r.seconds,r.nanos)}(t))}function S$(t,e){return U2(t,e).canonicalString()}function U2(t,e){const n=function(i){return new Vt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function hH(t){const e=Vt.fromString(t);return ht(mH(e),10190,{key:e.toString()}),e}function z2(t,e){return S$(t.databaseId,e.path)}function RO(t,e){const n=hH(e);if(n.get(1)!==t.databaseId.projectId)throw new Ce(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ce(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ke(fH(n))}function dH(t,e){return S$(t.databaseId,e)}function Ooe(t){const e=hH(t);return e.length===4?Vt.emptyPath():fH(e)}function H2(t){return new Vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fH(t){return ht(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function wF(t,e,n){return{name:z2(t,e),fields:n.value.mapValue.fields}}function koe(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ne(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(ht(u===void 0||typeof u=="string",58123),dr.fromBase64String(u||"")):(ht(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),dr.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?le.UNKNOWN:aH(c.code);return new Ce(u,c.message||"")}(o);n=new cH(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=RO(t,r.document.name),s=ra(r.document.updateTime),o=r.document.createTime?ra(r.document.createTime):Le.min(),a=new bs({mapValue:{fields:r.document.fields}}),l=Nr.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new mA(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=RO(t,r.document),s=r.readTime?ra(r.readTime):Le.min(),o=Nr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new mA([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=RO(t,r.document),s=r.removedTargetIds||[];n=new mA([],s,i,null)}else{if(!("filter"in e))return Ne(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new _oe(i,s),a=r.targetId;n=new lH(a,o)}}return n}function Roe(t,e){let n;if(e instanceof o1)n={update:wF(t,e.key,e.value)};else if(e instanceof x$)n={delete:z2(t,e.key)};else if(e instanceof yf)n={update:wF(t,e.key,e.data),updateMask:Boe(e.fieldMask)};else{if(!(e instanceof voe))return Ne(16599,{ft:e.type});n={verify:z2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof LE)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof z0)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof H0)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof jE)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw Ne(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Ioe(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ne(27497)}(t,e.precondition)),n}function Noe(t,e){return t&&t.length>0?(ht(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?ra(i.updateTime):ra(s);return o.isEqual(Le.min())&&(o=ra(s)),new goe(o,i.transformResults||[])}(n,e))):[]}function Moe(t,e){return{documents:[dH(t,e.path)]}}function Doe(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=dH(t,i);const s=function(c){if(c.length!==0)return gH(ua.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:Kf(d.field),direction:joe(d.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=B2(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:i}}function $oe(t){let e=Ooe(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ht(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(h){const d=pH(h);return d instanceof ua&&Wz(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(d=>function(y){return new $E(Xf(y.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,bC(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,p=h.values||[];return new DE(p,d)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const d=!h.before,p=h.values||[];return new DE(p,d)}(n.endAt)),toe(e,i,o,s,a,"F",l,c)}function Loe(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pH(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xf(n.unaryFilter.field);return In.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Xf(n.unaryFilter.field);return In.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Xf(n.unaryFilter.field);return In.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Xf(n.unaryFilter.field);return In.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}}(t):t.fieldFilter!==void 0?function(n){return In.create(Xf(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ua.create(n.compositeFilter.filters.map(r=>pH(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}}(n.compositeFilter.op))}(t):Ne(30097,{filter:t})}function joe(t){return Soe[t]}function Foe(t){return Toe[t]}function Voe(t){return Poe[t]}function Kf(t){return{fieldPath:t.canonicalString()}}function Xf(t){return lr.fromServerFormat(t.fieldPath)}function gH(t){return t instanceof In?function(n){if(n.op==="=="){if(aF(n.value))return{unaryFilter:{field:Kf(n.field),op:"IS_NAN"}};if(oF(n.value))return{unaryFilter:{field:Kf(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(aF(n.value))return{unaryFilter:{field:Kf(n.field),op:"IS_NOT_NAN"}};if(oF(n.value))return{unaryFilter:{field:Kf(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kf(n.field),op:Foe(n.op),value:n.value}}}(t):t instanceof ua?function(n){const r=n.getFilters().map(i=>gH(i));return r.length===1?r[0]:{compositeFilter:{op:Voe(n.op),filters:r}}}(t):Ne(54877,{filter:t})}function Boe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mH(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n,r,i,s=Le.min(),o=Le.min(),a=dr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Zc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uoe{constructor(e){this.wt=e}}function zoe(t){const e=$oe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?V2(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hoe{constructor(){this.Cn=new Woe}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(bu.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(bu.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class Woe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Mn(Vt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mn(Vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yH=41943040;class ui{static withCacheSize(e){return new ui(e,ui.DEFAULT_COLLECTION_PERCENTILE,ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ui.DEFAULT_COLLECTION_PERCENTILE=10,ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ui.DEFAULT=new ui(yH,ui.DEFAULT_COLLECTION_PERCENTILE,ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ui.DISABLED=new ui(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Mm(0)}static lr(){return new Mm(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF="LruGarbageCollector",Goe=1048576;function AF([t,e],[n,r]){const i=He(t,n);return i===0?He(e,r):i}class qoe{constructor(e){this.Er=e,this.buffer=new Mn(AF),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();AF(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Koe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ve(xF,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wy(n)?ve(xF,"Ignoring IndexedDB error during garbage collection: ",n):await by(n)}await this.mr(3e5)})}}class Xoe{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return re.resolve(vC.le);const r=new qoe(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(_F)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_F):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Gf()<=Qe.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function Yoe(t,e){return new Xoe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qoe{constructor(){this.changes=new mf(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Joe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zoe{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&h0(r.mutation,i,ho.empty(),Nn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Je()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Je()){const i=lh();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Tv();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=lh();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Je()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Cl();const o=u0(),a=function(){return u0()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof yf)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),h0(u.mutation,c,u.mutation.getFieldMask(),Nn.now())):o.set(c.key,ho.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new Joe(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=u0();let i=new Kt((o,a)=>o-a),s=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||ho.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(i.get(a.batchId)||Je()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=Zz();u.forEach(d=>{if(!s.has(d)){const p=sH(n.get(d),r.get(d));p!==null&&h.set(d,p),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return re.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ke.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):noe(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):re.resolve(lh());let a=F0,l=s;return o.next(c=>re.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?re.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Je())).next(u=>({batchId:a,changes:Jz(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next(r=>{let i=Tv();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Tv();return this.indexManager.getCollectionParents(e,s).next(a=>re.forEach(a,l=>{const c=function(h,d){return new _C(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((h,d)=>{o=o.insert(h,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Nr.newInvalidDocument(u)))});let a=Tv();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&h0(u.mutation,c,ho.empty(),Nn.now()),AC(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eae{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return re.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ra(i.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:zoe(i.bundledQuery),readTime:ra(i.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tae{constructor(){this.overlays=new Kt(ke.comparator),this.Qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=lh();return re.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),re.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const i=lh(),s=n.length+1,o=new ke(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return re.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Kt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=lh(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=lh(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return re.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new woe(n,r));let s=this.Qr.get(n);s===void 0&&(s=Je(),this.Qr.set(n,s)),this.Qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nae{constructor(){this.sessionToken=dr.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${constructor(){this.$r=new Mn(Hn.Ur),this.Kr=new Mn(Hn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Hn(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Hn(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new ke(new Vt([])),r=new Hn(n,e),i=new Hn(n,e+1),s=[];return this.Kr.forEachInRange([r,i],o=>{this.zr(o),s.push(o.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ke(new Vt([])),r=new Hn(n,e),i=new Hn(n,e+1);let s=Je();return this.Kr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Hn(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Hn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ke.comparator(e.key,n.key)||He(e.Zr,n.Zr)}static Wr(e,n){return He(e.Zr,n.Zr)||ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rae{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Mn(Hn.Ur)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new boe(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Xr=this.Xr.add(new Hn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return re.resolve(o)}lookupMutationBatch(e,n){return re.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),s=i<0?0:i;return re.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?g$:this.nr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Hn(n,0),i=new Hn(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([r,i],o=>{const a=this.ei(o.Zr);s.push(a)}),re.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mn(He);return n.forEach(i=>{const s=new Hn(i,0),o=new Hn(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,o],a=>{r=r.add(a.Zr)})}),re.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ke.isDocumentKey(s)||(s=s.child(""));const o=new Hn(new ke(s),0);let a=new Mn(He);return this.Xr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Zr)),!0)},o),re.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ht(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return re.forEach(n.mutations,i=>{const s=new Hn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Hn(n,0),i=this.Xr.firstAfterOrEqual(r);return re.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iae{constructor(e){this.ii=e,this.docs=function(){return new Kt(ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():Nr.newInvalidDocument(n))}getEntries(e,n){let r=Cl();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Nr.newInvalidDocument(i))}),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Cl();const o=n.path,a=new ke(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Mse(Nse(u),r)<=0||(i.has(u.key)||AC(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return re.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ne(9500)}si(e,n){return re.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new sae(this)}getSize(e){return re.resolve(this.size)}}class sae extends Qoe{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),re.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oae{constructor(e){this.persistence=e,this.oi=new mf(n=>v$(n),b$),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this._i=0,this.ai=new T$,this.targetCount=0,this.ui=Mm.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),re.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Mm(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Tr(n),re.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),re.waitFor(s).next(()=>i)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),re.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),re.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(e,n){this.ci={},this.overlays={},this.li=new vC(0),this.hi=!1,this.hi=!0,this.Pi=new nae,this.referenceDelegate=e(this),this.Ti=new oae(this),this.indexManager=new Hoe,this.remoteDocumentCache=function(i){return new iae(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new Uoe(n),this.Ei=new eae(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tae,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new rae(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){ve("MemoryPersistence","Starting transaction:",e);const i=new aae(this.li.next());return this.referenceDelegate.di(),r(i).next(s=>this.referenceDelegate.Ai(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ri(e,n){return re.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class aae extends $se{constructor(e){super(),this.currentSequenceNumber=e}}class P${constructor(e){this.persistence=e,this.Vi=new T$,this.mi=null}static fi(e){return new P$(e)}get gi(){if(this.mi)return this.mi;throw Ne(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.gi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.gi,r=>{const i=ke.fromPath(r);return this.pi(e,i).next(s=>{s||n.removeEntry(i,Le.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return re.or([()=>re.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class VE{constructor(e,n){this.persistence=e,this.yi=new mf(r=>Fse(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Yoe(this,n)}static fi(e,n){return new VE(e,n)}di(){}Ai(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return re.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(s=>s?re.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,Le.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),re.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=fA(e.data.value)),n}Dr(e,n,r){return re.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return re.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=Je(),i=Je();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new C$(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lae{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cae{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Hte()?8:Lse($r())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ws(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.bs(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new lae;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>s.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(Gf()<=Qe.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",qf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),re.resolve()):(Gf()<=Qe.DEBUG&&ve("QueryEngine","Query:",qf(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Gf()<=Qe.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",qf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,na(n))):re.resolve())}ws(e,n){if(hF(n))return re.resolve(null);let r=na(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=V2(n,null,"F"),r=na(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Je(...s);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.vs(n,a);return this.Cs(n,c,o,l.readTime)?this.ws(e,V2(n,null,"F")):this.Fs(e,c,n,l)}))})))}bs(e,n,r,i){return hF(n)||i.isEqual(Le.min())?re.resolve(null):this.ys.getDocuments(e,r).next(s=>{const o=this.vs(n,s);return this.Cs(n,o,r,i)?re.resolve(null):(Gf()<=Qe.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qf(n)),this.Fs(e,o,n,Rse(i,F0)).next(a=>a))})}vs(e,n){let r=new Mn(Yz(e));return n.forEach((i,s)=>{AC(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Gf()<=Qe.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",qf(n)),this.ys.getDocumentsMatchingQuery(e,n,bu.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$="LocalStore",uae=3e8;class hae{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Kt(He),this.Os=new mf(s=>v$(s),b$),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zoe(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function dae(t,e,n,r){return new hae(t,e,n,r)}async function bH(t,e){const n=$e(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Je();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({ks:c,removedBatchIds:o,addedBatchIds:a}))})})}function fae(t,e){const n=$e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,d=h.keys();let p=re.resolve();return d.forEach(y=>{p=p.next(()=>u.getEntry(l,y)).next(g=>{const v=c.docVersions.get(y);ht(v!==null,48541),g.version.compareTo(v)<0&&(h.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Je();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function wH(t){const e=$e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function pae(t,e){const n=$e(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const a=[];e.targetChanges.forEach((u,h)=>{const d=i.get(h);if(!d)return;a.push(n.Ti.removeMatchingKeys(s,u.removedDocuments,h).next(()=>n.Ti.addMatchingKeys(s,u.addedDocuments,h)));let p=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(dr.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(h,p),function(g,v,b){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=uae?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(d,p,u)&&a.push(n.Ti.updateTargetData(s,p))});let l=Cl(),c=Je();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(gae(s,o,e.documentUpdates).next(u=>{l=u.qs,c=u.Qs})),!r.isEqual(Le.min())){const u=n.Ti.getLastRemoteSnapshotVersion(s).next(h=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return re.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.xs=i,s))}function gae(t,e,n){let r=Je(),i=Je();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Cl();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Le.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ve(I$,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{qs:o,Qs:i}})}function mae(t,e){const n=$e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=g$),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function yae(t,e){const n=$e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(s=>s?(i=s,re.resolve(i)):n.Ti.allocateTargetId(r).next(o=>(i=new Zc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function W2(t,e,n){const r=$e(t),i=r.xs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!wy(o))throw o;ve(I$,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function EF(t,e,n){const r=$e(t);let i=Le.min(),s=Je();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=$e(l),d=h.Os.get(u);return d!==void 0?re.resolve(h.xs.get(d)):h.Ti.getTargetData(c,u)}(r,o,na(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?i:Le.min(),n?s:Je())).next(a=>(vae(r,ioe(e),a),{documents:a,$s:s})))}function vae(t,e,n){let r=t.Ns.get(e)||Le.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ns.set(e,r)}class SF{constructor(){this.activeTargetIds=uoe()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bae{constructor(){this.xo=new SF,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new SF,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wae{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF="ConnectivityMonitor";class PF{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ve(TF,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ve(TF,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vx=null;function G2(){return vx===null?vx=function(){return 268435456+Math.round(2147483648*Math.random())}():vx++,"0x"+vx.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO="RestConnection",_ae={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xae{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===NE?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,s){const o=G2(),a=this.jo(e,n.toUriEncodedString());ve(NO,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,i,s);const{host:c}=new URL(a),u=gy(c);return this.Jo(e,a,l,r,u).then(h=>(ve(NO,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Om(NO,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Yo(e,n,r,i,s,o){return this.zo(e,n,r,i,s)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vy}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}jo(e,n){const r=_ae[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aae{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="WebChannelConnection";class Eae extends xae{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=G2();return new Promise((a,l)=>{const c=new Az;c.setWithCredentials(!0),c.listenOnce(Ez.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case dA.NO_ERROR:const h=c.getResponseJson();ve(wr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case dA.TIMEOUT:ve(wr,`RPC '${e}' ${o} timed out`),l(new Ce(le.DEADLINE_EXCEEDED,"Request time out"));break;case dA.HTTP_ERROR:const d=c.getStatus();if(ve(wr,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p==null?void 0:p.error;if(y&&y.status&&y.message){const g=function(b){const w=b.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(w)>=0?w:le.UNKNOWN}(y.status);l(new Ce(g,y.message))}else l(new Ce(le.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Ce(le.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{h_:e,streamId:o,P_:c.getLastErrorCode(),T_:c.getLastError()})}}finally{ve(wr,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);ve(wr,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",u,r,15)})}I_(e,n,r){const i=G2(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Pz(),a=Tz(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");ve(wr,`Creating RPC '${e}' stream ${i}: ${u}`,l);const h=o.createWebChannel(u,l);this.E_(h);let d=!1,p=!1;const y=new Aae({Zo:v=>{p?ve(wr,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(d||(ve(wr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),ve(wr,`RPC '${e}' stream ${i} sending:`,v),h.send(v))},Xo:()=>h.close()}),g=(v,b,w)=>{v.listen(b,_=>{try{w(_)}catch(S){setTimeout(()=>{throw S},0)}})};return g(h,Sv.EventType.OPEN,()=>{p||(ve(wr,`RPC '${e}' stream ${i} transport opened.`),y.__())}),g(h,Sv.EventType.CLOSE,()=>{p||(p=!0,ve(wr,`RPC '${e}' stream ${i} transport closed`),y.u_(),this.d_(h))}),g(h,Sv.EventType.ERROR,v=>{p||(p=!0,Om(wr,`RPC '${e}' stream ${i} transport errored. Name:`,v.name,"Message:",v.message),y.u_(new Ce(le.UNAVAILABLE,"The operation could not be completed")))}),g(h,Sv.EventType.MESSAGE,v=>{var b;if(!p){const w=v.data[0];ht(!!w,16349);const _=w,S=(_==null?void 0:_.error)||((b=_[0])===null||b===void 0?void 0:b.error);if(S){ve(wr,`RPC '${e}' stream ${i} received error:`,S);const x=S.status;let T=function(O){const M=fn[O];if(M!==void 0)return aH(M)}(x),A=S.message;T===void 0&&(T=le.INTERNAL,A="Unknown error status: "+x+" with message "+S.message),p=!0,y.u_(new Ce(T,A)),h.close()}else ve(wr,`RPC '${e}' stream ${i} received:`,w),y.c_(w)}}),g(a,Sz.STAT_EVENT,v=>{v.stat===M2.PROXY?ve(wr,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===M2.NOPROXY&&ve(wr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.a_()},0),y}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function MO(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t){return new Coe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{constructor(e,n,r=1e3,i=1.5,s=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF="PersistentStream";class xH{constructor(e,n,r,i,s,o,a,l){this.xi=e,this.S_=r,this.D_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new _H(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(Pl(n.toString()),Pl("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{const i=new Ce(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ve(CF,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(ve(CF,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Sae extends xH{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=koe(this.serializer,e),r=function(s){if(!("targetChange"in s))return Le.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Le.min():o.readTime?ra(o.readTime):Le.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=H2(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=F2(l)?{documents:Moe(s,l)}:{query:Doe(s,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=uH(s,o.resumeToken);const c=B2(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Le.min())>0){a.readTime=FE(s,o.snapshotVersion.toTimestamp());const c=B2(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Loe(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=H2(this.serializer),n.removeTarget=e,this.Q_(n)}}class Tae extends xH{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=Noe(e.writeResults,e.commitTime),r=ra(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=H2(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Roe(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pae{}class Cae extends Pae{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new Ce(le.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.zo(e,U2(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ce(le.UNKNOWN,s.toString())})}Yo(e,n,r,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,U2(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ce(le.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Iae{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Pl(n),this.ua=!1):ve("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="RemoteStore";class Oae{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(o=>{r.enqueueAndForget(async()=>{vf(this)&&(ve(Zd,"Restarting streams for network reachability change."),await async function(l){const c=$e(l);c.da.add(4),await _y(c),c.Va.set("Unknown"),c.da.delete(4),await l1(c)}(this))})}),this.Va=new Iae(r,i)}}async function l1(t){if(vf(t))for(const e of t.Aa)await e(!0)}async function _y(t){for(const e of t.Aa)await e(!1)}function AH(t,e){const n=$e(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),N$(n)?R$(n):xy(n).N_()&&k$(n,e))}function O$(t,e){const n=$e(t),r=xy(n);n.Ea.delete(e),r.N_()&&EH(n,e),n.Ea.size===0&&(r.N_()?r.k_():vf(n)&&n.Va.set("Unknown"))}function k$(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xy(t).Z_(e)}function EH(t,e){t.ma.Ke(e),xy(t).X_(e)}function R$(t){t.ma=new Eoe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),xy(t).start(),t.Va.ca()}function N$(t){return vf(t)&&!xy(t).O_()&&t.Ea.size>0}function vf(t){return $e(t).da.size===0}function SH(t){t.ma=void 0}async function kae(t){t.Va.set("Online")}async function Rae(t){t.Ea.forEach((e,n)=>{k$(t,e)})}async function Nae(t,e){SH(t),N$(t)?(t.Va.Pa(e),R$(t)):t.Va.set("Unknown")}async function Mae(t,e,n){if(t.Va.set("Online"),e instanceof cH&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ea.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ea.delete(a),i.ma.removeTarget(a))}(t,e)}catch(r){ve(Zd,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await BE(t,r)}else if(e instanceof mA?t.ma.Xe(e):e instanceof lH?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Le.min()))try{const r=await wH(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.ma.It(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.Ea.get(c);u&&s.Ea.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.Ea.get(l);if(!u)return;s.Ea.set(l,u.withResumeToken(dr.EMPTY_BYTE_STRING,u.snapshotVersion)),EH(s,l);const h=new Zc(u.target,l,c,u.sequenceNumber);k$(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ve(Zd,"Failed to raise snapshot:",r),await BE(t,r)}}async function BE(t,e,n){if(!wy(e))throw e;t.da.add(1),await _y(t),t.Va.set("Offline"),n||(n=()=>wH(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ve(Zd,"Retrying IndexedDB access"),await n(),t.da.delete(1),await l1(t)})}function TH(t,e){return e().catch(n=>BE(t,n,e))}async function CC(t){const e=$e(t),n=Au(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:g$;for(;Dae(e);)try{const i=await mae(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,$ae(e,i)}catch(i){await BE(e,i)}PH(e)&&CH(e)}function Dae(t){return vf(t)&&t.Ia.length<10}function $ae(t,e){t.Ia.push(e);const n=Au(t);n.N_()&&n.ea&&n.ta(e.mutations)}function PH(t){return vf(t)&&!Au(t).O_()&&t.Ia.length>0}function CH(t){Au(t).start()}async function Lae(t){Au(t).ia()}async function jae(t){const e=Au(t);for(const n of t.Ia)e.ta(n.mutations)}async function Fae(t,e,n){const r=t.Ia.shift(),i=A$.from(r,e,n);await TH(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await CC(t)}async function Vae(t,e){e&&Au(t).ea&&await async function(r,i){if(function(o){return xoe(o)&&o!==le.ABORTED}(i.code)){const s=r.Ia.shift();Au(r).L_(),await TH(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await CC(r)}}(t,e),PH(t)&&CH(t)}async function IF(t,e){const n=$e(t);n.asyncQueue.verifyOperationInProgress(),ve(Zd,"RemoteStore received new credentials");const r=vf(n);n.da.add(3),await _y(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await l1(n)}async function Bae(t,e){const n=$e(t);e?(n.da.delete(2),await l1(n)):e||(n.da.add(2),await _y(n),n.Va.set("Unknown"))}function xy(t){return t.fa||(t.fa=function(n,r,i){const s=$e(n);return s.oa(),new Sae(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:kae.bind(null,t),n_:Rae.bind(null,t),i_:Nae.bind(null,t),Y_:Mae.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),N$(t)?R$(t):t.Va.set("Unknown")):(await t.fa.stop(),SH(t))})),t.fa}function Au(t){return t.ga||(t.ga=function(n,r,i){const s=$e(n);return s.oa(),new Tae(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:Lae.bind(null,t),i_:Vae.bind(null,t),na:jae.bind(null,t),ra:Fae.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await CC(t)):(await t.ga.stop(),t.Ia.length>0&&(ve(Zd,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new pu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new M$(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function D$(t,e){if(Pl("AsyncQueue",`${e}: ${t}`),wy(t))return new Ce(le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{static emptySet(e){return new Mp(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ke.comparator(n.key,r.key):(n,r)=>ke.comparator(n.key,r.key),this.keyedMap=Tv(),this.sortedSet=new Kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Mp)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Mp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(){this.pa=new Kt(ke.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Ne(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Dm{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Dm(e,n,Mp.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xC(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uae{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class zae{constructor(){this.queries=kF(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=$e(n),s=i.queries;i.queries=kF(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Ce(le.ABORTED,"Firestore shutting down"))}}function kF(){return new mf(t=>Xz(t),xC)}async function IH(t,e){const n=$e(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Da()&&e.va()&&(r=2):(s=new Uae,r=e.va()?0:1);try{switch(r){case 0:s.ba=await n.onListen(i,!0);break;case 1:s.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=D$(o,`Initialization of query '${qf(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.Fa(n.onlineState),s.ba&&e.Ma(s.ba)&&$$(n)}async function OH(t,e){const n=$e(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.va()?0:1:!s.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Hae(t,e){const n=$e(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Ma(i)&&(r=!0);o.ba=i}}r&&$$(n)}function Wae(t,e,n){const r=$e(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function $$(t){t.Ca.forEach(e=>{e.next()})}var q2,RF;(RF=q2||(q2={})).xa="default",RF.Cache="cache";class kH{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Dm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Dm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==q2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(e){this.key=e}}class NH{constructor(e){this.key=e}}class Gae{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Je(),this.mutatedKeys=Je(),this.Za=Yz(e),this.Xa=new Mp(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new OF,i=n?n.Xa:this.Xa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const d=i.get(u),p=AC(this.query,h)?h:null,y=!!d&&this.mutatedKeys.has(d.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;d&&p?d.data.isEqual(p.data)?y!==g&&(r.track({type:3,doc:p}),v=!0):this.ru(d,p)||(r.track({type:2,doc:p}),v=!0,(l&&this.Za(p,l)>0||c&&this.Za(p,c)<0)&&(a=!0)):!d&&p?(r.track({type:0,doc:p}),v=!0):d&&!p&&(r.track({type:1,doc:d}),v=!0,(l||c)&&(a=!0)),v&&(p?(o=o.add(p),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Xa:o,nu:r,Cs:a,mutatedKeys:s}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((u,h)=>function(p,y){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Vt:v})}};return g(p)-g(y)}(u.type,h.type)||this.Za(u.doc,h.doc)),this.iu(r),i=i!=null&&i;const a=n&&!i?this.su():[],l=this.Ya.size===0&&this.current&&!i?1:0,c=l!==this.Ja;return this.Ja=l,o.length!==0||c?{snapshot:new Dm(this.query,e.Xa,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new OF,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Je(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new NH(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new RH(r))}),n}au(e){this.Ha=e.$s,this.Ya=Je();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Dm.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const L$="SyncEngine";class qae{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Kae{constructor(e){this.key=e,this.cu=!1}}class Xae{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new mf(a=>Xz(a),xC),this.Pu=new Map,this.Tu=new Set,this.Iu=new Kt(ke.comparator),this.Eu=new Map,this.du=new T$,this.Au={},this.Ru=new Map,this.Vu=Mm.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function Yae(t,e,n=!0){const r=FH(t);let i;const s=r.hu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.uu()):i=await MH(r,e,n,!0),i}async function Qae(t,e){const n=FH(t);await MH(n,e,!0,!1)}async function MH(t,e,n,r){const i=await yae(t.localStore,na(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await Jae(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&AH(t.remoteStore,i),a}async function Jae(t,e,n,r,i){t.fu=(h,d,p)=>async function(g,v,b,w){let _=v.view.tu(b);_.Cs&&(_=await EF(g.localStore,v.query,!1).then(({documents:A})=>v.view.tu(A,_)));const S=w&&w.targetChanges.get(v.targetId),x=w&&w.targetMismatches.get(v.targetId)!=null,T=v.view.applyChanges(_,g.isPrimaryClient,S,x);return MF(g,v.targetId,T.ou),T.snapshot}(t,h,d,p);const s=await EF(t.localStore,e,!0),o=new Gae(e,s.$s),a=o.tu(s.documents),l=a1.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);MF(t,n,c.ou);const u=new qae(e,n,o);return t.hu.set(e,u),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),c.snapshot}async function Zae(t,e,n){const r=$e(t),i=r.hu.get(e),s=r.Pu.get(i.targetId);if(s.length>1)return r.Pu.set(i.targetId,s.filter(o=>!xC(o,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await W2(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&O$(r.remoteStore,i.targetId),K2(r,i.targetId)}).catch(by)):(K2(r,i.targetId),await W2(r.localStore,i.targetId,!0))}async function ele(t,e){const n=$e(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),O$(n.remoteStore,r.targetId))}async function tle(t,e,n){const r=lle(t);try{const i=await function(o,a){const l=$e(o),c=Nn.now(),u=a.reduce((p,y)=>p.add(y.key),Je());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=Cl(),g=Je();return l.Bs.getEntries(p,u).next(v=>{y=v,y.forEach((b,w)=>{w.isValidDocument()||(g=g.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,y)).next(v=>{h=v;const b=[];for(const w of a){const _=yoe(w,h.get(w.key).overlayedDocument);_!=null&&b.push(new yf(w.key,_,Uz(_.value.mapValue),go.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,b,a)}).next(v=>{d=v;const b=v.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(p,v.batchId,b)})}).then(()=>({batchId:d.batchId,changes:Jz(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Au[o.currentUser.toKey()];c||(c=new Kt(He)),c=c.insert(a,l),o.Au[o.currentUser.toKey()]=c}(r,i.batchId,n),await c1(r,i.changes),await CC(r.remoteStore)}catch(i){const s=D$(i,"Failed to persist write");n.reject(s)}}async function DH(t,e){const n=$e(t);try{const r=await pae(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Eu.get(s);o&&(ht(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.cu=!0:i.modifiedDocuments.size>0?ht(o.cu,14607):i.removedDocuments.size>0&&(ht(o.cu,42227),o.cu=!1))}),await c1(n,r,e)}catch(r){await by(r)}}function NF(t,e,n){const r=$e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.hu.forEach((s,o)=>{const a=o.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=$e(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const d of h.Sa)d.Fa(a)&&(c=!0)}),c&&$$(l)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function nle(t,e,n){const r=$e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let o=new Kt(ke.comparator);o=o.insert(s,Nr.newNoDocument(s,Le.min()));const a=Je().add(s),l=new TC(Le.min(),new Map,new Kt(He),o,a);await DH(r,l),r.Iu=r.Iu.remove(s),r.Eu.delete(e),j$(r)}else await W2(r.localStore,e,!1).then(()=>K2(r,e,n)).catch(by)}async function rle(t,e){const n=$e(t),r=e.batch.batchId;try{const i=await fae(n.localStore,e);LH(n,r,null),$H(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await c1(n,i)}catch(i){await by(i)}}async function ile(t,e,n){const r=$e(t);try{const i=await function(o,a){const l=$e(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(ht(h!==null,37113),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);LH(r,e,n),$H(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await c1(r,i)}catch(i){await by(i)}}function $H(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function LH(t,e,n){const r=$e(t);let i=r.Au[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function K2(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||jH(t,r)})}function jH(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(O$(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),j$(t))}function MF(t,e,n){for(const r of n)r instanceof RH?(t.du.addReference(r.key,e),sle(t,r)):r instanceof NH?(ve(L$,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||jH(t,r.key)):Ne(19791,{pu:r})}function sle(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(ve(L$,"New document in limbo: "+n),t.Tu.add(r),j$(t))}function j$(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new ke(Vt.fromString(e)),r=t.Vu.next();t.Eu.set(r,new Kae(n)),t.Iu=t.Iu.insert(n,r),AH(t.remoteStore,new Zc(na(w$(n.path)),r,"TargetPurposeLimboResolution",vC.le))}}async function c1(t,e,n){const r=$e(t),i=[],s=[],o=[];r.hu.isEmpty()||(r.hu.forEach((a,l)=>{o.push(r.fu(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=C$.Rs(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.lu.Y_(i),await async function(l,c){const u=$e(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>re.forEach(c,d=>re.forEach(d.ds,p=>u.persistence.referenceDelegate.addReference(h,d.targetId,p)).next(()=>re.forEach(d.As,p=>u.persistence.referenceDelegate.removeReference(h,d.targetId,p)))))}catch(h){if(!wy(h))throw h;ve(I$,"Failed to update sequence numbers: "+h)}for(const h of c){const d=h.targetId;if(!h.fromCache){const p=u.xs.get(d),y=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(y);u.xs=u.xs.insert(d,g)}}}(r.localStore,s))}async function ole(t,e){const n=$e(t);if(!n.currentUser.isEqual(e)){ve(L$,"User change. New user:",e.toKey());const r=await bH(n.localStore,e);n.currentUser=e,function(s,o){s.Ru.forEach(a=>{a.forEach(l=>{l.reject(new Ce(le.CANCELLED,o))})}),s.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await c1(n,r.ks)}}function ale(t,e){const n=$e(t),r=n.Eu.get(e);if(r&&r.cu)return Je().add(r.key);{let i=Je();const s=n.Pu.get(e);if(!s)return i;for(const o of s){const a=n.hu.get(o);i=i.unionWith(a.view.eu)}return i}}function FH(t){const e=$e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DH.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ale.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nle.bind(null,e),e.lu.Y_=Hae.bind(null,e.eventManager),e.lu.gu=Wae.bind(null,e.eventManager),e}function lle(t){const e=$e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rle.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ile.bind(null,e),e}class UE{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=PC(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return dae(this.persistence,new cae,e.initialUser,this.serializer)}Su(e){return new vH(P$.fi,this.serializer)}bu(e){return new bae}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}UE.provider={build:()=>new UE};class cle extends UE{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){ht(this.persistence.referenceDelegate instanceof VE,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Koe(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?ui.withCacheSize(this.cacheSizeBytes):ui.DEFAULT;return new vH(r=>VE.fi(r,n),this.serializer)}}class X2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>NF(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ole.bind(null,this.syncEngine),await Bae(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zae}()}createDatastore(e){const n=PC(e.databaseInfo.databaseId),r=function(s){return new Eae(s)}(e.databaseInfo);return function(s,o,a,l){return new Cae(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Oae(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>NF(this.syncEngine,n,0),function(){return PF.C()?new PF:new wae}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,u){const h=new Xae(i,s,o,a,l,c);return u&&(h.mu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=$e(i);ve(Zd,"RemoteStore shutting down."),s.da.add(5),await _y(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}X2.provider={build:()=>new X2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VH{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Pl("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu="FirestoreClient";class ule{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Or.UNAUTHENTICATED,this.clientId=kz.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{ve(Eu,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ve(Eu,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=D$(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function DO(t,e){t.asyncQueue.verifyOperationInProgress(),ve(Eu,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await bH(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function DF(t,e){t.asyncQueue.verifyOperationInProgress();const n=await BH(t);ve(Eu,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>IF(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>IF(e.remoteStore,i)),t._onlineComponents=e}async function BH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve(Eu,"Using user provided OfflineComponentProvider");try{await DO(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===le.FAILED_PRECONDITION||i.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Om("Error using user provided cache. Falling back to memory cache: "+n),await DO(t,new UE)}}else ve(Eu,"Using default OfflineComponentProvider"),await DO(t,new cle(void 0));return t._offlineComponents}async function F$(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve(Eu,"Using user provided OnlineComponentProvider"),await DF(t,t._uninitializedComponentsProvider._online)):(ve(Eu,"Using default OnlineComponentProvider"),await DF(t,new X2))),t._onlineComponents}function UH(t){return BH(t).then(e=>e.persistence)}function zH(t){return F$(t).then(e=>e.remoteStore)}function hle(t){return F$(t).then(e=>e.syncEngine)}async function Y2(t){const e=await F$(t),n=e.eventManager;return n.onListen=Yae.bind(null,e.syncEngine),n.onUnlisten=Zae.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Qae.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ele.bind(null,e.syncEngine),n}function dle(t){return t.asyncQueue.enqueue(async()=>{const e=await UH(t),n=await zH(t);return e.setNetworkEnabled(!0),function(i){const s=$e(i);return s.da.delete(0),l1(s)}(n)})}function fle(t){return t.asyncQueue.enqueue(async()=>{const e=await UH(t),n=await zH(t);return e.setNetworkEnabled(!1),async function(i){const s=$e(i);s.da.add(0),await _y(s),s.Va.set("Offline")}(n)})}function ple(t,e,n={}){const r=new pu;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new VH({next:d=>{u.xu(),o.enqueueAndForget(()=>OH(s,h)),d.fromCache&&l.source==="server"?c.reject(new Ce(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new kH(a,u,{includeMetadataChanges:!0,Qa:!0});return IH(s,h)}(await Y2(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HH(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WH(t,e,n){if(!n)throw new Ce(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function gle(t,e,n,r){if(e===!0&&r===!0)throw new Ce(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function LF(t){if(!ke.isDocumentKey(t))throw new Ce(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jF(t){if(ke.isDocumentKey(t))throw new Ce(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function V$(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne(12329,{type:typeof t})}function Es(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ce(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=V$(t);throw new Ce(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GH="firestore.googleapis.com",FF=!0;class VF{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GH,this.ssl=FF}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:FF;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yH;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Goe)throw new Ce(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gle("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HH((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class IC{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VF({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VF(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Ase;switch(r.type){case"firstParty":return new Pse(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ce(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=$F.get(n);r&&(ve("ComponentProvider","Removing Datastore"),$F.delete(n),r.terminate())}(this),Promise.resolve()}}function mle(t,e,n,r={}){var i;t=Es(t,IC);const s=gy(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(D7(`https://${l}`),$7("Firestore",!0)),o.host!==GH&&o.host!==l&&Om("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!Xd(c,a)&&(t._setSettings(c),r.mockUserToken)){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=Or.MOCK_USER;else{u=Dte(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new Ce(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Or(d)}t._authCredentials=new Ese(new Iz(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new u1(this.firestore,e,this._query)}}class Ki{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ki(this.firestore,e,this._key)}}class gu extends u1{constructor(e,n,r){super(e,n,w$(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ki(this.firestore,null,new ke(e))}withConverter(e){return new gu(this.firestore,e,this._path)}}function $m(t,e,...n){if(t=vi(t),WH("collection","path",e),t instanceof IC){const r=Vt.fromString(e,...n);return jF(r),new gu(t,null,r)}{if(!(t instanceof Ki||t instanceof gu))throw new Ce(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vt.fromString(e,...n));return jF(r),new gu(t.firestore,null,r)}}function eu(t,e,...n){if(t=vi(t),arguments.length===1&&(e=kz.newId()),WH("doc","path",e),t instanceof IC){const r=Vt.fromString(e,...n);return LF(r),new Ki(t,null,new ke(r))}{if(!(t instanceof Ki||t instanceof gu))throw new Ce(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vt.fromString(e,...n));return LF(r),new Ki(t.firestore,t instanceof gu?t.converter:null,new ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF="AsyncQueue";class UF{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new _H(this,"async_queue_retry"),this.rc=()=>{const r=MO();r&&ve(BF,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=MO();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=MO();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new pu;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!wy(e))throw e;ve(BF,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Pl("INTERNAL UNHANDLED ERROR: ",zF(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=M$.createAndSchedule(this,e,n,r,s=>this.uc(s));return this.Zu.push(i),i}oc(){this.Xu&&Ne(47125,{cc:zF(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function zF(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HF(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Il extends IC{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new UF,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new UF(e),this._firestoreClient=void 0,await e}}}function yle(t,e){const n=typeof t=="object"?t:V7(),r=typeof t=="string"?t:e||NE,i=r$(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Nte("firestore");s&&mle(i,...s)}return i}function h1(t){if(t._terminated)throw new Ce(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||vle(t),t._firestoreClient}function vle(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,u){return new Use(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,HH(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new ule(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}function ble(t){return dle(h1(t=Es(t,Il)))}function wle(t){return fle(h1(t=Es(t,Il)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lm(dr.fromBase64String(e))}catch(n){throw new Ce(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Lm(dr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ce(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ce(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ce(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _le=/^__.*__$/;class xle{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new yf(e,this.data,this.fieldMask,n,this.fieldTransforms):new o1(e,this.data,n,this.fieldTransforms)}}function KH(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ic:t})}}class H${constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new H$(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return zE(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(KH(this.Ic)&&_le.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Ale{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||PC(e)}bc(e,n,r,i=!1){return new H$({Ic:e,methodName:n,wc:r,path:lr.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function XH(t){const e=t._freezeSettings(),n=PC(t._databaseId);return new Ale(t._databaseId,!!e.ignoreUndefinedProperties,n)}function YH(t,e,n,r,i,s={}){const o=t.bc(s.merge||s.mergeFields?2:0,e,n,i);eW("Data must be an object, but it was:",o,r);const a=JH(r,o);let l,c;if(s.merge)l=new ho(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const d=Ele(e,h,n);if(!o.contains(d))throw new Ce(le.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);Tle(u,d)||u.push(d)}l=new ho(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new xle(new bs(a),l,c)}function QH(t,e){if(ZH(t=vi(t)))return eW("Unsupported field value:",e,t),JH(t,e);if(t instanceof qH)return function(r,i){if(!KH(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=QH(a,i.fc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=vi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hoe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Nn.fromDate(r);return{timestampValue:FE(i.serializer,s)}}if(r instanceof Nn){const s=new Nn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:FE(i.serializer,s)}}if(r instanceof U$)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Lm)return{bytesValue:uH(i.serializer,r._byteString)};if(r instanceof Ki){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:S$(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof z$)return function(o,a){return{mapValue:{fields:{[Fz]:{stringValue:Bz},[ME]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.gc("VectorValues must only contain numeric values.");return _$(a.serializer,c)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${V$(r)}`)}(t,e)}function JH(t,e){const n={};return Nz(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gf(t,(r,i)=>{const s=QH(i,e.Ac(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function ZH(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Nn||t instanceof U$||t instanceof Lm||t instanceof Ki||t instanceof qH||t instanceof z$)}function eW(t,e,n){if(!ZH(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=V$(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function Ele(t,e,n){if((e=vi(e))instanceof B$)return e._internalPath;if(typeof e=="string")return tW(t,e);throw zE("Field path arguments must be of type string or ",t,!1,void 0,n)}const Sle=new RegExp("[~\\*/\\[\\]]");function tW(t,e,n){if(e.search(Sle)>=0)throw zE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new B$(...e.split("."))._internalPath}catch{throw zE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zE(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Ce(le.INVALID_ARGUMENT,a+t+l)}function Tle(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nW{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ki(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ple(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rW("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ple extends nW{data(){return super.data()}}function rW(t,e){return typeof e=="string"?tW(t,e):e instanceof B$?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iW(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ce(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cle{convertValue(e,n="none"){switch(xu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return an(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_u(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return gf(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[ME].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>an(o.doubleValue));return new z$(s)}convertGeoPoint(e){return new U$(an(e.latitude),an(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=wC(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(V0(e));default:return null}}convertTimestamp(e){const n=wu(e);return new Nn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Vt.fromString(e);ht(mH(r),9688,{name:e});const i=new B0(r.get(1),r.get(3)),s=new ke(r.popFirst(5));return i.isEqual(n)||Pl(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sW(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oW extends nW{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(rW("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class yA extends oW{data(e={}){return super.data(e)}}class aW{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Cv(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new yA(this._firestore,this._userDataWriter,r.key,r,new Cv(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ce(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new yA(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Cv(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new yA(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Cv(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Ile(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Ile(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:t})}}class W$ extends Cle{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lm(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ki(this.firestore,null,n)}}function Ole(t){t=Es(t,u1);const e=Es(t.firestore,Il),n=h1(e),r=new W$(e);return iW(t._query),ple(n,t._query).then(i=>new aW(e,r,t,i))}function d0(t,e,n){t=Es(t,Ki);const r=Es(t.firestore,Il),i=sW(t.converter,e,n);return G$(r,[YH(XH(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,go.none())])}function lW(t){return G$(Es(t.firestore,Il),[new x$(t._key,go.none())])}function kle(t,e){const n=Es(t.firestore,Il),r=eu(t),i=sW(t.converter,e);return G$(n,[YH(XH(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,go.exists(!1))]).then(()=>r)}function $O(t,...e){var n,r,i;t=vi(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||HF(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(HF(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,c,u;if(t instanceof Ki)c=Es(t.firestore,Il),u=w$(t._key.path),l={next:h=>{e[o]&&e[o](Rle(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Es(t,u1);c=Es(h.firestore,Il),u=h._query;const d=new W$(c);l={next:p=>{e[o]&&e[o](new aW(c,d,h,p))},error:e[o+1],complete:e[o+2]},iW(t._query)}return function(d,p,y,g){const v=new VH(g),b=new kH(p,v,y);return d.asyncQueue.enqueueAndForget(async()=>IH(await Y2(d),b)),()=>{v.xu(),d.asyncQueue.enqueueAndForget(async()=>OH(await Y2(d),b))}}(h1(c),u,a,l)}function G$(t,e){return function(r,i){const s=new pu;return r.asyncQueue.enqueueAndForget(async()=>tle(await hle(r),i,s)),s.promise}(h1(t),e)}function Rle(t,e,n){const r=n.docs.get(e._key),i=new W$(t);return new oW(t,i,e._key,r,new Cv(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){vy=i})(yy),Cm(new Yd("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Il(new Sse(r.getProvider("auth-internal")),new Cse(o,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ce(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new B0(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),du(K3,X3,e),du(K3,X3,"esm2017")})();const Q2={apiKey:"AIzaSyD8Z-_RllyA5LMyAwFeAgJApC56Md5qE70",authDomain:"expense-analyse-ee81d.firebaseapp.com",projectId:"expense-analyse-ee81d",storageBucket:"expense-analyse-ee81d.firebasestorage.app",messagingSenderId:"572352215877",appId:"1:572352215877:web:53ab4a8a8ad53b6e101c2c",measurementId:"G-WZ6PTVWLEP"};(!Q2.apiKey||Q2.apiKey==="your-api-key-here")&&(console.error("Firebase configuration not found. Please update your .env file with your Firebase project values."),console.error("Follow the FIREBASE_SETUP.md guide to get your configuration values."));const cW=F7(Q2),q$=_z(cW),Ui=yle(cW),Nle=new ll;window.addEventListener("online",()=>{console.log("Network connection restored"),ble(Ui).catch(console.error)});window.addEventListener("offline",()=>{console.log("Network connection lost"),wle(Ui).catch(console.error)});const Mle=async()=>{try{return(await kie(q$,Nle)).user}catch(t){throw console.error("Error signing in with Google:",t),t}},Dle=async()=>{try{await rie(q$)}catch(t){throw console.error("Error signing out:",t),t}},$le=t=>nie(q$,t),uW=I.createContext(),OC=()=>{const t=I.useContext(uW);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Lle=({children:t})=>{const[e,n]=I.useState(null),[r,i]=I.useState(!0),[s,o]=I.useState(!1);I.useEffect(()=>$le(d=>{n(d),i(!1),d&&o(!0)}),[]);const u={user:e,loading:r,onboardingComplete:s,signIn:async()=>{try{return await Mle()}catch(h){throw console.error("Sign in error:",h),h}},signOut:async()=>{try{await Dle(),o(!1)}catch(h){throw console.error("Sign out error:",h),h}},completeOnboarding:()=>{o(!0)}};return C.jsx(uW.Provider,{value:u,children:t})};function WF(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function jle(...t){return e=>{let n=!1;const r=t.map(i=>{const s=WF(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():WF(t[i],null)}}}}function W0(t){const e=Vle(t),n=I.forwardRef((r,i)=>{const{children:s,...o}=r,a=I.Children.toArray(s),l=a.find(Ule);if(l){const c=l.props.children,u=a.map(h=>h===l?I.Children.count(c)>1?I.Children.only(null):I.isValidElement(c)?c.props.children:null:h);return C.jsx(e,{...o,ref:i,children:I.isValidElement(c)?I.cloneElement(c,void 0,u):null})}return C.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var Fle=W0("Slot");function Vle(t){const e=I.forwardRef((n,r)=>{const{children:i,...s}=n;if(I.isValidElement(i)){const o=Hle(i),a=zle(s,i.props);return i.type!==I.Fragment&&(a.ref=r?jle(r,o):o),I.cloneElement(i,a)}return I.Children.count(i)>1?I.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Ble=Symbol("radix.slottable");function Ule(t){return I.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Ble}function zle(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Hle(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function hW(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=hW(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ue(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=hW(t))&&(r&&(r+=" "),r+=e);return r}const GF=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,qF=Ue,dW=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return qF(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],h=s==null?void 0:s[c];if(u===null)return null;const d=GF(u)||GF(h);return i[c][d]}),a=n&&Object.entries(n).reduce((c,u)=>{let[h,d]=u;return d===void 0||(c[h]=d),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:h,className:d,...p}=u;return Object.entries(p).every(y=>{let[g,v]=y;return Array.isArray(v)?v.includes({...s,...a}[g]):{...s,...a}[g]===v})?[...c,h,d]:c},[]);return qF(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};function Wle(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=fW(e))&&(r&&(r+=" "),r+=n);return r}function fW(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=fW(t[r]))&&(n&&(n+=" "),n+=e);return n}var K$="-";function Gle(t){var e=Kle(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,i=r===void 0?{}:r;function s(a){var l=a.split(K$);return l[0]===""&&l.length!==1&&l.shift(),pW(l,e)||qle(a)}function o(a,l){var c=n[a]||[];return l&&i[a]?[].concat(c,i[a]):c}return{getClassGroupId:s,getConflictingClassGroupIds:o}}function pW(t,e){var o;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),i=r?pW(t.slice(1),r):void 0;if(i)return i;if(e.validators.length!==0){var s=t.join(K$);return(o=e.validators.find(function(a){var l=a.validator;return l(s)}))==null?void 0:o.classGroupId}}var KF=/^\[(.+)\]$/;function qle(t){if(KF.test(t)){var e=KF.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function Kle(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},i=Yle(Object.entries(t.classGroups),n);return i.forEach(function(s){var o=s[0],a=s[1];J2(a,r,o,e)}),r}function J2(t,e,n,r){t.forEach(function(i){if(typeof i=="string"){var s=i===""?e:XF(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(Xle(i)){J2(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(o){var a=o[0],l=o[1];J2(l,XF(e,a),n,r)})})}function XF(t,e){var n=t;return e.split(K$).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function Xle(t){return t.isThemeGetter}function Yle(t,e){return e?t.map(function(n){var r=n[0],i=n[1],s=i.map(function(o){return typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(a){var l=a[0],c=a[1];return[e+l,c]})):o});return[r,s]}):t}function Qle(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function i(s,o){n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(o){var a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set:function(o,a){n.has(o)?n.set(o,a):i(o,a)}}}var gW="!";function Jle(t){var e=t.separator||":",n=e.length===1,r=e[0],i=e.length;return function(o){for(var a=[],l=0,c=0,u,h=0;h<o.length;h++){var d=o[h];if(l===0){if(d===r&&(n||o.slice(h,h+i)===e)){a.push(o.slice(c,h)),c=h+i;continue}if(d==="/"){u=h;continue}}d==="["?l++:d==="]"&&l--}var p=a.length===0?o:o.substring(c),y=p.startsWith(gW),g=y?p.substring(1):p,v=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:y,baseClassName:g,maybePostfixModifierPosition:v}}}function Zle(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var i=r[0]==="[";i?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function ece(t){return{cache:Qle(t.cacheSize),splitModifiers:Jle(t),...Gle(t)}}var tce=/\s+/;function nce(t,e){var n=e.splitModifiers,r=e.getClassGroupId,i=e.getConflictingClassGroupIds,s=new Set;return t.trim().split(tce).map(function(o){var a=n(o),l=a.modifiers,c=a.hasImportantModifier,u=a.baseClassName,h=a.maybePostfixModifierPosition,d=r(h?u.substring(0,h):u),p=!!h;if(!d){if(!h)return{isTailwindClass:!1,originalClassName:o};if(d=r(u),!d)return{isTailwindClass:!1,originalClassName:o};p=!1}var y=Zle(l).join(":"),g=c?y+gW:y;return{isTailwindClass:!0,modifierId:g,classGroupId:d,originalClassName:o,hasPostfixModifier:p}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var a=o.modifierId,l=o.classGroupId,c=o.hasPostfixModifier,u=a+l;return s.has(u)?!1:(s.add(u),i(l,c).forEach(function(h){return s.add(a+h)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function rce(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i,s,o=a;function a(c){var u=e[0],h=e.slice(1),d=h.reduce(function(p,y){return y(p)},u());return r=ece(d),i=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){var u=i(c);if(u)return u;var h=nce(c,r);return s(c,h),h}return function(){return o(Wle.apply(null,arguments))}}function Ot(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var mW=/^\[(?:([a-z-]+):)?(.+)\]$/i,ice=/^\d+\/\d+$/,sce=new Set(["px","full","screen"]),oce=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ace=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lce=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function $s(t){return ch(t)||sce.has(t)||ice.test(t)||Z2(t)}function Z2(t){return bf(t,"length",pce)}function cce(t){return bf(t,"size",yW)}function uce(t){return bf(t,"position",yW)}function hce(t){return bf(t,"url",gce)}function bx(t){return bf(t,"number",ch)}function ch(t){return!Number.isNaN(Number(t))}function dce(t){return t.endsWith("%")&&ch(t.slice(0,-1))}function sv(t){return YF(t)||bf(t,"number",YF)}function Ye(t){return mW.test(t)}function ov(){return!0}function Xl(t){return oce.test(t)}function fce(t){return bf(t,"",mce)}function bf(t,e,n){var r=mW.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function pce(t){return ace.test(t)}function yW(){return!1}function gce(t){return t.startsWith("url(")}function YF(t){return Number.isInteger(Number(t))}function mce(t){return lce.test(t)}function yce(){var t=Ot("colors"),e=Ot("spacing"),n=Ot("blur"),r=Ot("brightness"),i=Ot("borderColor"),s=Ot("borderRadius"),o=Ot("borderSpacing"),a=Ot("borderWidth"),l=Ot("contrast"),c=Ot("grayscale"),u=Ot("hueRotate"),h=Ot("invert"),d=Ot("gap"),p=Ot("gradientColorStops"),y=Ot("gradientColorStopPositions"),g=Ot("inset"),v=Ot("margin"),b=Ot("opacity"),w=Ot("padding"),_=Ot("saturate"),S=Ot("scale"),x=Ot("sepia"),T=Ot("skew"),A=Ot("space"),E=Ot("translate"),O=function(){return["auto","contain","none"]},M=function(){return["auto","hidden","clip","visible","scroll"]},D=function(){return["auto",Ye,e]},$=function(){return[Ye,e]},L=function(){return["",$s]},W=function(){return["auto",ch,Ye]},q=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},H=function(){return["solid","dashed","dotted","double","none"]},G=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},z=function(){return["start","end","center","between","around","evenly","stretch"]},X=function(){return["","0",Ye]},ee=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},ae=function(){return[ch,bx]},Z=function(){return[ch,Ye]};return{cacheSize:500,theme:{colors:[ov],spacing:[$s],blur:["none","",Xl,Ye],brightness:ae(),borderColor:[t],borderRadius:["none","","full",Xl,Ye],borderSpacing:$(),borderWidth:L(),contrast:ae(),grayscale:X(),hueRotate:Z(),invert:X(),gap:$(),gradientColorStops:[t],gradientColorStopPositions:[dce,Z2],inset:D(),margin:D(),opacity:ae(),padding:$(),saturate:ae(),scale:ae(),sepia:X(),skew:Z(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",Ye]}],container:["container"],columns:[{columns:[Xl]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(q(),[Ye])}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",sv]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ye]}],grow:[{grow:X()}],shrink:[{shrink:X()}],order:[{order:["first","last","none",sv]}],"grid-cols":[{"grid-cols":[ov]}],"col-start-end":[{col:["auto",{span:["full",sv]},Ye]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[ov]}],"row-start-end":[{row:["auto",{span:[sv]},Ye]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ye]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal"].concat(z())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(z(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(z(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Ye,e]}],"min-w":[{"min-w":["min","max","fit",Ye,$s]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Xl]},Xl,Ye]}],h:[{h:[Ye,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Ye,$s]}],"max-h":[{"max-h":[Ye,e,"min","max","fit"]}],"font-size":[{text:["base",Xl,Z2]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bx]}],"font-family":[{font:[ov]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ye]}],"line-clamp":[{"line-clamp":["none",ch,bx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ye,$s]}],"list-image":[{"list-image":["none",Ye]}],"list-style-type":[{list:["none","disc","decimal",Ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(H(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",$s]}],"underline-offset":[{"underline-offset":["auto",Ye,$s]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(q(),[uce])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",cce]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},hce]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[].concat(H(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:H()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(H())}],"outline-offset":[{"outline-offset":[Ye,$s]}],"outline-w":[{outline:[$s]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[$s]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Xl,fce]}],"shadow-color":[{shadow:[ov]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":G()}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Xl,Ye]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[_]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ye]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",Ye]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[sv,Ye]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ye]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ye]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ye]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[$s,bx]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var vce=rce(yce);function xn(...t){return vce(Ue(t))}const bce=dW("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),mn=I.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,as:i,...s},o)=>{const a=r?Fle:i||"button";return C.jsx(a,{className:xn(bce({variant:e,size:n,className:t})),ref:o,...s})});mn.displayName="Button";const nn=I.forwardRef(({className:t,...e},n)=>C.jsx("div",{ref:n,className:xn("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));nn.displayName="Card";const rn=I.forwardRef(({className:t,...e},n)=>C.jsx("div",{ref:n,className:xn("flex flex-col space-y-1.5 p-6",t),...e}));rn.displayName="CardHeader";const sn=I.forwardRef(({className:t,...e},n)=>C.jsx("h3",{ref:n,className:xn("text-2xl font-semibold leading-none tracking-tight",t),...e}));sn.displayName="CardTitle";const vW=I.forwardRef(({className:t,...e},n)=>C.jsx("p",{ref:n,className:xn("text-sm text-muted-foreground",t),...e}));vW.displayName="CardDescription";const on=I.forwardRef(({className:t,...e},n)=>C.jsx("div",{ref:n,className:xn("p-6 pt-0",t),...e}));on.displayName="CardContent";const wce=I.forwardRef(({className:t,...e},n)=>C.jsx("div",{ref:n,className:xn("flex items-center p-6 pt-0",t),...e}));wce.displayName="CardFooter";var bW={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},QF=U.createContext&&U.createContext(bW),_ce=["attr","size","title"];function xce(t,e){if(t==null)return{};var n=Ace(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ace(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function HE(){return HE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HE.apply(this,arguments)}function JF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JF(Object(n),!0).forEach(function(r){Ece(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ece(t,e,n){return e=Sce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sce(t){var e=Tce(t,"string");return typeof e=="symbol"?e:e+""}function Tce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wW(t){return t&&t.map((e,n)=>U.createElement(e.tag,WE({key:n},e.attr),wW(e.child)))}function un(t){return e=>U.createElement(Pce,HE({attr:WE({},t.attr)},e),wW(t.child))}function Pce(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=xce(t,_ce),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),U.createElement("svg",HE({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:WE(WE({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&U.createElement("title",null,s),t.children)};return QF!==void 0?U.createElement(QF.Consumer,null,n=>e(n)):e(bW)}function Cce(t){return un({tag:"svg",attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(t)}function Ice(t){return un({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function Oce(t){return un({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function kce(t){return un({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function Rce(t){return un({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function Nce(t){return un({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm160-14.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function ZF(t){return un({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"},child:[]}]})(t)}function Mce(t){return un({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(t)}function Dce(t){return un({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(t)}function LO(t){return un({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M43.246 466.142c-58.43-60.289-57.341-157.511 1.386-217.581L254.392 34c44.316-45.332 116.351-45.336 160.671 0 43.89 44.894 43.943 117.329 0 162.276L232.214 383.128c-29.855 30.537-78.633 30.111-107.982-.998-28.275-29.97-27.368-77.473 1.452-106.953l143.743-146.835c6.182-6.314 16.312-6.422 22.626-.241l22.861 22.379c6.315 6.182 6.422 16.312.241 22.626L171.427 319.927c-4.932 5.045-5.236 13.428-.648 18.292 4.372 4.634 11.245 4.711 15.688.165l182.849-186.851c19.613-20.062 19.613-52.725-.011-72.798-19.189-19.627-49.957-19.637-69.154 0L90.39 293.295c-34.763 35.56-35.299 93.12-1.191 128.313 34.01 35.093 88.985 35.137 123.058.286l172.06-175.999c6.177-6.319 16.307-6.433 22.626-.256l22.877 22.364c6.319 6.177 6.434 16.307.256 22.626l-172.06 175.998c-59.576 60.938-155.943 60.216-214.77-.485z"},child:[]}]})(t)}function $ce(t){return un({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M560 224h-29.5c-8.8-20-21.6-37.7-37.4-52.5L512 96h-32c-29.4 0-55.4 13.5-73 34.3-7.6-1.1-15.1-2.3-23-2.3H256c-77.4 0-141.9 55-156.8 128H56c-14.8 0-26.5-13.5-23.5-28.8C34.7 215.8 45.4 208 57 208h1c3.3 0 6-2.7 6-6v-20c0-3.3-2.7-6-6-6-28.5 0-53.9 20.4-57.5 48.6C-3.9 258.8 22.7 288 56 288h40c0 52.2 25.4 98.1 64 127.3V496c0 8.8 7.2 16 16 16h64c8.8 0 16-7.2 16-16v-48h128v48c0 8.8 7.2 16 16 16h64c8.8 0 16-7.2 16-16v-80.7c11.8-8.9 22.3-19.4 31.3-31.3H560c8.8 0 16-7.2 16-16V240c0-8.8-7.2-16-16-16zm-128 64c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM256 96h128c5.4 0 10.7.4 15.9.8 0-.3.1-.5.1-.8 0-53-43-96-96-96s-96 43-96 96c0 2.1.5 4.1.6 6.2 15.2-3.9 31-6.2 47.4-6.2z"},child:[]}]})(t)}function Lce(t){return un({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function jce(t){return un({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function Fce(t){return un({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function Vce(t){return un({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function Bce(t){return un({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(t)}function wx(t){return un({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},child:[]}]})(t)}function eR(t){return un({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Uce(t){return un({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function zce(t){return un({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function X$(t){return un({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(t)}const Hce=()=>{const{signIn:t}=OC(),[e,n]=I.useState(!1),[r,i]=I.useState(""),s=async()=>{n(!0),i("");try{await t()}catch(o){console.error("Login error:",o),i("Failed to sign in. Please try again.")}finally{n(!1)}};return C.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center p-4",children:C.jsxs("div",{className:"w-full max-w-md",children:[C.jsxs(nn,{className:"shadow-2xl border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm",children:[C.jsxs(rn,{className:"text-center pb-6",children:[C.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-gradient-to-br from-blue-600 to-purple-600 dark:from-blue-900 dark:to-purple-900 rounded-full flex items-center justify-center",children:C.jsx(X$,{className:"text-white text-2xl"})}),C.jsx(sn,{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 dark:from-blue-400 dark:to-purple-400 bg-clip-text text-transparent",children:"Xpen"}),C.jsx("p",{className:"text-gray-600 mt-2",children:"Take control of your finances with smart insights"})]}),C.jsxs(on,{className:"space-y-6",children:[r&&C.jsx("div",{className:"bg-red-50 dark:bg-red-900 border border-red-200 dark:border-red-700 rounded-lg p-3",children:C.jsx("p",{className:"text-red-600 text-sm",children:r})}),C.jsxs(mn,{onClick:s,disabled:e,className:"w-full h-12 bg-white dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-300 dark:hover:border-gray-600 transition-all duration-200 font-semibold",children:[e?C.jsx(Vce,{className:"animate-spin mr-2"}):C.jsx(Cce,{className:"mr-2 text-red-500"}),e?"Signing in...":"Continue with Google"]}),C.jsx("div",{className:"text-center",children:C.jsx("p",{className:"text-xs text-gray-500",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})})]})]}),C.jsx("div",{className:"text-center mt-6",children:C.jsx("p",{className:"text-sm text-gray-500",children:"Secure  Fast  Beautiful"})})]})})},ao=I.forwardRef(({className:t,type:e,...n},r)=>C.jsx("input",{type:e,className:xn("flex h-10 w-full rounded-md border border-input bg-white text-gray-900 px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","appearance-none [-moz-appearance:textfield] [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none",t),ref:r,...n}));ao.displayName="Input";function nt(){return nt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nt.apply(null,arguments)}function e6(t,[e,n]){return Math.min(n,Math.max(e,t))}function qn(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Y$(t,e=[]){let n=[];function r(s,o){const a=I.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:d,children:p,...y}=h,g=(d==null?void 0:d[t][l])||a,v=I.useMemo(()=>y,Object.values(y));return I.createElement(g.Provider,{value:v},p)}function u(h,d){const p=(d==null?void 0:d[t][l])||a,y=I.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=n.map(o=>I.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return I.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,Wce(i,...e)]}function Wce(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Gce(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function kC(...t){return e=>t.forEach(n=>Gce(n,e))}function Lr(...t){return I.useCallback(kC(...t),t)}const tR=I.forwardRef((t,e)=>{const{children:n,...r}=t,i=I.Children.toArray(n),s=i.find(Kce);if(s){const o=s.props.children,a=i.map(l=>l===s?I.Children.count(o)>1?I.Children.only(null):I.isValidElement(o)?o.props.children:null:l);return I.createElement(nR,nt({},r,{ref:e}),I.isValidElement(o)?I.cloneElement(o,void 0,a):null)}return I.createElement(nR,nt({},r,{ref:e}),n)});tR.displayName="Slot";const nR=I.forwardRef((t,e)=>{const{children:n,...r}=t;return I.isValidElement(n)?I.cloneElement(n,{...Xce(r,n.props),ref:e?kC(e,n.ref):n.ref}):I.Children.count(n)>1?I.Children.only(null):null});nR.displayName="SlotClone";const qce=({children:t})=>I.createElement(I.Fragment,null,t);function Kce(t){return I.isValidElement(t)&&t.type===qce}function Xce(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Yce(t){const e=t+"CollectionProvider",[n,r]=Y$(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:y,children:g}=p,v=U.useRef(null),b=U.useRef(new Map).current;return U.createElement(i,{scope:y,itemMap:b,collectionRef:v},g)},a=t+"CollectionSlot",l=U.forwardRef((p,y)=>{const{scope:g,children:v}=p,b=s(a,g),w=Lr(y,b.collectionRef);return U.createElement(tR,{ref:w},v)}),c=t+"CollectionItemSlot",u="data-radix-collection-item",h=U.forwardRef((p,y)=>{const{scope:g,children:v,...b}=p,w=U.useRef(null),_=Lr(y,w),S=s(c,g);return U.useEffect(()=>(S.itemMap.set(w,{ref:w,...b}),()=>void S.itemMap.delete(w))),U.createElement(tR,{[u]:"",ref:_},v)});function d(p){const y=s(t+"CollectionConsumer",p);return U.useCallback(()=>{const v=y.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${u}]`));return Array.from(y.itemMap.values()).sort((S,x)=>b.indexOf(S.ref.current)-b.indexOf(x.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},d,r]}const Qce=I.createContext(void 0);function Jce(t){const e=I.useContext(Qce);return t||e||"ltr"}const _W=I.forwardRef((t,e)=>{const{children:n,...r}=t,i=I.Children.toArray(n),s=i.find(eue);if(s){const o=s.props.children,a=i.map(l=>l===s?I.Children.count(o)>1?I.Children.only(null):I.isValidElement(o)?o.props.children:null:l);return I.createElement(rR,nt({},r,{ref:e}),I.isValidElement(o)?I.cloneElement(o,void 0,a):null)}return I.createElement(rR,nt({},r,{ref:e}),n)});_W.displayName="Slot";const rR=I.forwardRef((t,e)=>{const{children:n,...r}=t;return I.isValidElement(n)?I.cloneElement(n,{...tue(r,n.props),ref:e?kC(e,n.ref):n.ref}):I.Children.count(n)>1?I.Children.only(null):null});rR.displayName="SlotClone";const Zce=({children:t})=>I.createElement(I.Fragment,null,t);function eue(t){return I.isValidElement(t)&&t.type===Zce}function tue(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}const nue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],fr=nue.reduce((t,e)=>{const n=I.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?_W:e;return I.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),I.createElement(a,nt({},o,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function rue(t,e){t&&py.flushSync(()=>t.dispatchEvent(e))}function Ol(t){const e=I.useRef(t);return I.useEffect(()=>{e.current=t}),I.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function iue(t,e=globalThis==null?void 0:globalThis.document){const n=Ol(t);I.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const iR="dismissableLayer.update",sue="dismissableLayer.pointerDownOutside",oue="dismissableLayer.focusOutside";let t6;const aue=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lue=I.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=t,u=I.useContext(aue),[h,d]=I.useState(null),p=(n=h==null?void 0:h.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,y]=I.useState({}),g=Lr(e,E=>d(E)),v=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=v.indexOf(b),_=h?v.indexOf(h):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,x=_>=w,T=cue(E=>{const O=E.target,M=[...u.branches].some(D=>D.contains(O));!x||M||(s==null||s(E),a==null||a(E),E.defaultPrevented||l==null||l())},p),A=uue(E=>{const O=E.target;[...u.branches].some(D=>D.contains(O))||(o==null||o(E),a==null||a(E),E.defaultPrevented||l==null||l())},p);return iue(E=>{_===u.layers.size-1&&(i==null||i(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},p),I.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(t6=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),n6(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=t6)}},[h,p,r,u]),I.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),n6())},[h,u]),I.useEffect(()=>{const E=()=>y({});return document.addEventListener(iR,E),()=>document.removeEventListener(iR,E)},[]),I.createElement(fr.div,nt({},c,{ref:g,style:{pointerEvents:S?x?"auto":"none":void 0,...t.style},onFocusCapture:qn(t.onFocusCapture,A.onFocusCapture),onBlurCapture:qn(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:qn(t.onPointerDownCapture,T.onPointerDownCapture)}))});function cue(t,e=globalThis==null?void 0:globalThis.document){const n=Ol(t),r=I.useRef(!1),i=I.useRef(()=>{});return I.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let c=function(){xW(sue,n,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function uue(t,e=globalThis==null?void 0:globalThis.document){const n=Ol(t),r=I.useRef(!1);return I.useEffect(()=>{const i=s=>{s.target&&!r.current&&xW(oue,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function n6(){const t=new CustomEvent(iR);document.dispatchEvent(t)}function xW(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?rue(i,s):i.dispatchEvent(s)}let jO=0;function hue(){I.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:r6()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:r6()),jO++,()=>{jO===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),jO--}},[])}function r6(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}const FO="focusScope.autoFocusOnMount",VO="focusScope.autoFocusOnUnmount",i6={bubbles:!1,cancelable:!0},due=I.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=I.useState(null),c=Ol(i),u=Ol(s),h=I.useRef(null),d=Lr(e,g=>l(g)),p=I.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;I.useEffect(()=>{if(r){let g=function(_){if(p.paused||!a)return;const S=_.target;a.contains(S)?h.current=S:Ql(h.current,{select:!0})},v=function(_){if(p.paused||!a)return;const S=_.relatedTarget;S!==null&&(a.contains(S)||Ql(h.current,{select:!0}))},b=function(_){const S=document.activeElement;for(const x of _)x.removedNodes.length>0&&(a!=null&&a.contains(S)||Ql(a))};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const w=new MutationObserver(b);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),w.disconnect()}}},[r,a,p.paused]),I.useEffect(()=>{if(a){o6.add(p);const g=document.activeElement;if(!a.contains(g)){const b=new CustomEvent(FO,i6);a.addEventListener(FO,c),a.dispatchEvent(b),b.defaultPrevented||(fue(vue(AW(a)),{select:!0}),document.activeElement===g&&Ql(a))}return()=>{a.removeEventListener(FO,c),setTimeout(()=>{const b=new CustomEvent(VO,i6);a.addEventListener(VO,u),a.dispatchEvent(b),b.defaultPrevented||Ql(g??document.body,{select:!0}),a.removeEventListener(VO,u),o6.remove(p)},0)}}},[a,c,u,p]);const y=I.useCallback(g=>{if(!n&&!r||p.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(v&&b){const w=g.currentTarget,[_,S]=pue(w);_&&S?!g.shiftKey&&b===S?(g.preventDefault(),n&&Ql(_,{select:!0})):g.shiftKey&&b===_&&(g.preventDefault(),n&&Ql(S,{select:!0})):b===w&&g.preventDefault()}},[n,r,p.paused]);return I.createElement(fr.div,nt({tabIndex:-1},o,{ref:d,onKeyDown:y}))});function fue(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ql(r,{select:e}),document.activeElement!==n)return}function pue(t){const e=AW(t),n=s6(e,t),r=s6(e.reverse(),t);return[n,r]}function AW(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function s6(t,e){for(const n of t)if(!gue(n,{upTo:e}))return n}function gue(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function mue(t){return t instanceof HTMLInputElement&&"select"in t}function Ql(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&mue(t)&&e&&t.select()}}const o6=yue();function yue(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=a6(t,e),t.unshift(e)},remove(e){var n;t=a6(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function a6(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function vue(t){return t.filter(e=>e.tagName!=="A")}const Ps=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},bue=X_["useId".toString()]||(()=>{});let wue=0;function EW(t){const[e,n]=I.useState(bue());return Ps(()=>{t||n(r=>r??String(wue++))},[t]),t||(e?`radix-${e}`:"")}const _ue=["top","right","bottom","left"],Su=Math.min,zi=Math.max,GE=Math.round,_x=Math.floor,ia=t=>({x:t,y:t}),xue={left:"right",right:"left",bottom:"top",top:"bottom"},Aue={start:"end",end:"start"};function sR(t,e,n){return zi(t,Su(e,n))}function kl(t,e){return typeof t=="function"?t(e):t}function Rl(t){return t.split("-")[0]}function Ay(t){return t.split("-")[1]}function Q$(t){return t==="x"?"y":"x"}function J$(t){return t==="y"?"height":"width"}function Jo(t){return["top","bottom"].includes(Rl(t))?"y":"x"}function Z$(t){return Q$(Jo(t))}function Eue(t,e,n){n===void 0&&(n=!1);const r=Ay(t),i=Z$(t),s=J$(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=qE(o)),[o,qE(o)]}function Sue(t){const e=qE(t);return[oR(t),e,oR(e)]}function oR(t){return t.replace(/start|end/g,e=>Aue[e])}function Tue(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function Pue(t,e,n,r){const i=Ay(t);let s=Tue(Rl(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(oR)))),s}function qE(t){return t.replace(/left|right|bottom|top/g,e=>xue[e])}function Cue(t){return{top:0,right:0,bottom:0,left:0,...t}}function SW(t){return typeof t!="number"?Cue(t):{top:t,right:t,bottom:t,left:t}}function KE(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function l6(t,e,n){let{reference:r,floating:i}=t;const s=Jo(e),o=Z$(e),a=J$(o),l=Rl(e),c=s==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-i.width,y:h};break;default:p={x:r.x,y:r.y}}switch(Ay(e)){case"start":p[o]-=d*(n&&c?-1:1);break;case"end":p[o]+=d*(n&&c?-1:1);break}return p}const Iue=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:h}=l6(c,r,l),d=r,p={},y=0;for(let g=0;g<a.length;g++){const{name:v,fn:b}=a[g],{x:w,y:_,data:S,reset:x}=await b({x:u,y:h,initialPlacement:r,placement:d,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});u=w??u,h=_??h,p={...p,[v]:{...p[v],...S}},x&&y<=50&&(y++,typeof x=="object"&&(x.placement&&(d=x.placement),x.rects&&(c=x.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):x.rects),{x:u,y:h}=l6(c,d,l)),g=-1)}return{x:u,y:h,placement:d,strategy:i,middlewareData:p}};async function G0(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:d=!1,padding:p=0}=kl(e,t),y=SW(p),v=a[d?h==="floating"?"reference":"floating":h],b=KE(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(v)))==null||n?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),w=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),S=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},x=KE(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:_,strategy:l}):w);return{top:(b.top-x.top+y.top)/S.y,bottom:(x.bottom-b.bottom+y.bottom)/S.y,left:(b.left-x.left+y.left)/S.x,right:(x.right-b.right+y.right)/S.x}}const Oue=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=kl(t,e)||{};if(c==null)return{};const h=SW(u),d={x:n,y:r},p=Z$(i),y=J$(p),g=await o.getDimensions(c),v=p==="y",b=v?"top":"left",w=v?"bottom":"right",_=v?"clientHeight":"clientWidth",S=s.reference[y]+s.reference[p]-d[p]-s.floating[y],x=d[p]-s.reference[p],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let A=T?T[_]:0;(!A||!await(o.isElement==null?void 0:o.isElement(T)))&&(A=a.floating[_]||s.floating[y]);const E=S/2-x/2,O=A/2-g[y]/2-1,M=Su(h[b],O),D=Su(h[w],O),$=M,L=A-g[y]-D,W=A/2-g[y]/2+E,q=sR($,W,L),H=!l.arrow&&Ay(i)!=null&&W!==q&&s.reference[y]/2-(W<$?M:D)-g[y]/2<0,G=H?W<$?W-$:W-L:0;return{[p]:d[p]+G,data:{[p]:q,centerOffset:W-q-G,...H&&{alignmentOffset:G}},reset:H}}}),kue=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...v}=kl(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=Rl(i),w=Jo(a),_=Rl(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),x=d||(_||!g?[qE(a)]:Sue(a)),T=y!=="none";!d&&T&&x.push(...Pue(a,g,y,S));const A=[a,...x],E=await G0(e,v),O=[];let M=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&O.push(E[b]),h){const W=Eue(i,o,S);O.push(E[W[0]],E[W[1]])}if(M=[...M,{placement:i,overflows:O}],!O.every(W=>W<=0)){var D,$;const W=(((D=s.flip)==null?void 0:D.index)||0)+1,q=A[W];if(q&&(!(h==="alignment"?w!==Jo(q):!1)||M.every(z=>z.overflows[0]>0&&Jo(z.placement)===w)))return{data:{index:W,overflows:M},reset:{placement:q}};let H=($=M.filter(G=>G.overflows[0]<=0).sort((G,z)=>G.overflows[1]-z.overflows[1])[0])==null?void 0:$.placement;if(!H)switch(p){case"bestFit":{var L;const G=(L=M.filter(z=>{if(T){const X=Jo(z.placement);return X===w||X==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(X=>X>0).reduce((X,ee)=>X+ee,0)]).sort((z,X)=>z[1]-X[1])[0])==null?void 0:L[0];G&&(H=G);break}case"initialPlacement":H=a;break}if(i!==H)return{reset:{placement:H}}}return{}}}};function c6(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function u6(t){return _ue.some(e=>t[e]>=0)}const Rue=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=kl(t,e);switch(r){case"referenceHidden":{const s=await G0(e,{...i,elementContext:"reference"}),o=c6(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:u6(o)}}}case"escaped":{const s=await G0(e,{...i,altBoundary:!0}),o=c6(s,n.floating);return{data:{escapedOffsets:o,escaped:u6(o)}}}default:return{}}}}};async function Nue(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Rl(n),a=Ay(n),l=Jo(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,h=kl(e,t);let{mainAxis:d,crossAxis:p,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof y=="number"&&(p=a==="end"?y*-1:y),l?{x:p*u,y:d*c}:{x:d*c,y:p*u}}const Mue=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await Nue(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},Due=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:v=>{let{x:b,y:w}=v;return{x:b,y:w}}},...l}=kl(t,e),c={x:n,y:r},u=await G0(e,l),h=Jo(Rl(i)),d=Q$(h);let p=c[d],y=c[h];if(s){const v=d==="y"?"top":"left",b=d==="y"?"bottom":"right",w=p+u[v],_=p-u[b];p=sR(w,p,_)}if(o){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",w=y+u[v],_=y-u[b];y=sR(w,y,_)}const g=a.fn({...e,[d]:p,[h]:y});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[d]:s,[h]:o}}}}}},$ue=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=kl(t,e),u={x:n,y:r},h=Jo(i),d=Q$(h);let p=u[d],y=u[h];const g=kl(a,e),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const _=d==="y"?"height":"width",S=s.reference[d]-s.floating[_]+v.mainAxis,x=s.reference[d]+s.reference[_]-v.mainAxis;p<S?p=S:p>x&&(p=x)}if(c){var b,w;const _=d==="y"?"width":"height",S=["top","left"].includes(Rl(i)),x=s.reference[h]-s.floating[_]+(S&&((b=o.offset)==null?void 0:b[h])||0)+(S?0:v.crossAxis),T=s.reference[h]+s.reference[_]+(S?0:((w=o.offset)==null?void 0:w[h])||0)-(S?v.crossAxis:0);y<x?y=x:y>T&&(y=T)}return{[d]:p,[h]:y}}}},Lue=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=kl(t,e),u=await G0(e,c),h=Rl(i),d=Ay(i),p=Jo(i)==="y",{width:y,height:g}=s.floating;let v,b;h==="top"||h==="bottom"?(v=h,b=d===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(b=h,v=d==="end"?"top":"bottom");const w=g-u.top-u.bottom,_=y-u.left-u.right,S=Su(g-u[v],w),x=Su(y-u[b],_),T=!e.middlewareData.shift;let A=S,E=x;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=w),T&&!d){const M=zi(u.left,0),D=zi(u.right,0),$=zi(u.top,0),L=zi(u.bottom,0);p?E=y-2*(M!==0||D!==0?M+D:zi(u.left,u.right)):A=g-2*($!==0||L!==0?$+L:zi(u.top,u.bottom))}await l({...e,availableWidth:E,availableHeight:A});const O=await o.getDimensions(a.floating);return y!==O.width||g!==O.height?{reset:{rects:!0}}:{}}}};function RC(){return typeof window<"u"}function Ey(t){return TW(t)?(t.nodeName||"").toLowerCase():"#document"}function Xi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function pa(t){var e;return(e=(TW(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function TW(t){return RC()?t instanceof Node||t instanceof Xi(t).Node:!1}function vo(t){return RC()?t instanceof Element||t instanceof Xi(t).Element:!1}function ha(t){return RC()?t instanceof HTMLElement||t instanceof Xi(t).HTMLElement:!1}function h6(t){return!RC()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Xi(t).ShadowRoot}function d1(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=bo(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function jue(t){return["table","td","th"].includes(Ey(t))}function NC(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function eL(t){const e=tL(),n=vo(t)?bo(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Fue(t){let e=Tu(t);for(;ha(e)&&!jm(e);){if(eL(e))return e;if(NC(e))return null;e=Tu(e)}return null}function tL(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function jm(t){return["html","body","#document"].includes(Ey(t))}function bo(t){return Xi(t).getComputedStyle(t)}function MC(t){return vo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Tu(t){if(Ey(t)==="html")return t;const e=t.assignedSlot||t.parentNode||h6(t)&&t.host||pa(t);return h6(e)?e.host:e}function PW(t){const e=Tu(t);return jm(e)?t.ownerDocument?t.ownerDocument.body:t.body:ha(e)&&d1(e)?e:PW(e)}function q0(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=PW(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Xi(i);if(s){const a=aR(o);return e.concat(o,o.visualViewport||[],d1(i)?i:[],a&&n?q0(a):[])}return e.concat(i,q0(i,[],n))}function aR(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function CW(t){const e=bo(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ha(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=GE(n)!==s||GE(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function nL(t){return vo(t)?t:t.contextElement}function Dp(t){const e=nL(t);if(!ha(e))return ia(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=CW(e);let o=(s?GE(n.width):n.width)/r,a=(s?GE(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Vue=ia(0);function IW(t){const e=Xi(t);return!tL()||!e.visualViewport?Vue:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Bue(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Xi(t)?!1:e}function ef(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=nL(t);let o=ia(1);e&&(r?vo(r)&&(o=Dp(r)):o=Dp(t));const a=Bue(s,n,r)?IW(s):ia(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(s){const d=Xi(s),p=r&&vo(r)?Xi(r):r;let y=d,g=aR(y);for(;g&&r&&p!==y;){const v=Dp(g),b=g.getBoundingClientRect(),w=bo(g),_=b.left+(g.clientLeft+parseFloat(w.paddingLeft))*v.x,S=b.top+(g.clientTop+parseFloat(w.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,h*=v.y,l+=_,c+=S,y=Xi(g),g=aR(y)}}return KE({width:u,height:h,x:l,y:c})}function rL(t,e){const n=MC(t).scrollLeft;return e?e.left+n:ef(pa(t)).left+n}function OW(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:rL(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function Uue(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=pa(r),a=e?NC(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=ia(1);const u=ia(0),h=ha(r);if((h||!h&&!s)&&((Ey(r)!=="body"||d1(o))&&(l=MC(r)),ha(r))){const p=ef(r);c=Dp(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const d=o&&!h&&!s?OW(o,l,!0):ia(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+d.x,y:n.y*c.y-l.scrollTop*c.y+u.y+d.y}}function zue(t){return Array.from(t.getClientRects())}function Hue(t){const e=pa(t),n=MC(t),r=t.ownerDocument.body,i=zi(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=zi(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+rL(t);const a=-n.scrollTop;return bo(r).direction==="rtl"&&(o+=zi(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Wue(t,e){const n=Xi(t),r=pa(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=tL();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function Gue(t,e){const n=ef(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=ha(t)?Dp(t):ia(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function d6(t,e,n){let r;if(e==="viewport")r=Wue(t,n);else if(e==="document")r=Hue(pa(t));else if(vo(e))r=Gue(e,n);else{const i=IW(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return KE(r)}function kW(t,e){const n=Tu(t);return n===e||!vo(n)||jm(n)?!1:bo(n).position==="fixed"||kW(n,e)}function que(t,e){const n=e.get(t);if(n)return n;let r=q0(t,[],!1).filter(a=>vo(a)&&Ey(a)!=="body"),i=null;const s=bo(t).position==="fixed";let o=s?Tu(t):t;for(;vo(o)&&!jm(o);){const a=bo(o),l=eL(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||d1(o)&&!l&&kW(t,o))?r=r.filter(u=>u!==o):i=a,o=Tu(o)}return e.set(t,r),r}function Kue(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?NC(e)?[]:que(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const h=d6(e,u,i);return c.top=zi(h.top,c.top),c.right=Su(h.right,c.right),c.bottom=Su(h.bottom,c.bottom),c.left=zi(h.left,c.left),c},d6(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Xue(t){const{width:e,height:n}=CW(t);return{width:e,height:n}}function Yue(t,e,n){const r=ha(e),i=pa(e),s=n==="fixed",o=ef(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=ia(0);function c(){l.x=rL(i)}if(r||!r&&!s)if((Ey(e)!=="body"||d1(i))&&(a=MC(e)),r){const p=ef(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&c();s&&!r&&i&&c();const u=i&&!r&&!s?OW(i,a):ia(0),h=o.left+a.scrollLeft-l.x-u.x,d=o.top+a.scrollTop-l.y-u.y;return{x:h,y:d,width:o.width,height:o.height}}function BO(t){return bo(t).position==="static"}function f6(t,e){if(!ha(t)||bo(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return pa(t)===n&&(n=n.ownerDocument.body),n}function RW(t,e){const n=Xi(t);if(NC(t))return n;if(!ha(t)){let i=Tu(t);for(;i&&!jm(i);){if(vo(i)&&!BO(i))return i;i=Tu(i)}return n}let r=f6(t,e);for(;r&&jue(r)&&BO(r);)r=f6(r,e);return r&&jm(r)&&BO(r)&&!eL(r)?n:r||Fue(t)||n}const Que=async function(t){const e=this.getOffsetParent||RW,n=this.getDimensions,r=await n(t.floating);return{reference:Yue(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Jue(t){return bo(t).direction==="rtl"}const Zue={convertOffsetParentRelativeRectToViewportRelativeRect:Uue,getDocumentElement:pa,getClippingRect:Kue,getOffsetParent:RW,getElementRects:Que,getClientRects:zue,getDimensions:Xue,getScale:Dp,isElement:vo,isRTL:Jue};function NW(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function ehe(t,e){let n=null,r;const i=pa(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:h,width:d,height:p}=c;if(a||e(),!d||!p)return;const y=_x(h),g=_x(i.clientWidth-(u+d)),v=_x(i.clientHeight-(h+p)),b=_x(u),_={rootMargin:-y+"px "+-g+"px "+-v+"px "+-b+"px",threshold:zi(0,Su(1,l))||1};let S=!0;function x(T){const A=T[0].intersectionRatio;if(A!==l){if(!S)return o();A?o(!1,A):r=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!NW(c,t.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(x,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(x,_)}n.observe(t)}return o(!0),s}function the(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=nL(t),u=i||s?[...c?q0(c):[],...q0(e)]:[];u.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const h=c&&a?ehe(c,n):null;let d=-1,p=null;o&&(p=new ResizeObserver(b=>{let[w]=b;w&&w.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let y,g=l?ef(t):null;l&&v();function v(){const b=ef(t);g&&!NW(g,b)&&n(),g=b,y=requestAnimationFrame(v)}return n(),()=>{var b;u.forEach(w=>{i&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),h==null||h(),(b=p)==null||b.disconnect(),p=null,l&&cancelAnimationFrame(y)}}const nhe=Mue,rhe=Due,ihe=kue,she=Lue,ohe=Rue,p6=Oue,ahe=$ue,lhe=(t,e,n)=>{const r=new Map,i={platform:Zue,...n},s={...i.platform,_c:r};return Iue(t,e,{...i,platform:s})};var che=typeof document<"u",uhe=function(){},vA=che?I.useLayoutEffect:uhe;function XE(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!XE(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!XE(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function MW(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function g6(t,e){const n=MW(t);return Math.round(e*n)/n}function UO(t){const e=I.useRef(t);return vA(()=>{e.current=t}),e}function hhe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,h]=I.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[d,p]=I.useState(r);XE(d,r)||p(r);const[y,g]=I.useState(null),[v,b]=I.useState(null),w=I.useCallback(z=>{z!==T.current&&(T.current=z,g(z))},[]),_=I.useCallback(z=>{z!==A.current&&(A.current=z,b(z))},[]),S=s||y,x=o||v,T=I.useRef(null),A=I.useRef(null),E=I.useRef(u),O=l!=null,M=UO(l),D=UO(i),$=UO(c),L=I.useCallback(()=>{if(!T.current||!A.current)return;const z={placement:e,strategy:n,middleware:d};D.current&&(z.platform=D.current),lhe(T.current,A.current,z).then(X=>{const ee={...X,isPositioned:$.current!==!1};W.current&&!XE(E.current,ee)&&(E.current=ee,py.flushSync(()=>{h(ee)}))})},[d,e,n,D,$]);vA(()=>{c===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(z=>({...z,isPositioned:!1})))},[c]);const W=I.useRef(!1);vA(()=>(W.current=!0,()=>{W.current=!1}),[]),vA(()=>{if(S&&(T.current=S),x&&(A.current=x),S&&x){if(M.current)return M.current(S,x,L);L()}},[S,x,L,M,O]);const q=I.useMemo(()=>({reference:T,floating:A,setReference:w,setFloating:_}),[w,_]),H=I.useMemo(()=>({reference:S,floating:x}),[S,x]),G=I.useMemo(()=>{const z={position:n,left:0,top:0};if(!H.floating)return z;const X=g6(H.floating,u.x),ee=g6(H.floating,u.y);return a?{...z,transform:"translate("+X+"px, "+ee+"px)",...MW(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:X,top:ee}},[n,a,H.floating,u.x,u.y]);return I.useMemo(()=>({...u,update:L,refs:q,elements:H,floatingStyles:G}),[u,L,q,H,G])}const dhe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?p6({element:r.current,padding:i}).fn(n):{}:r?p6({element:r,padding:i}).fn(n):{}}}},fhe=(t,e)=>({...nhe(t),options:[t,e]}),phe=(t,e)=>({...rhe(t),options:[t,e]}),ghe=(t,e)=>({...ahe(t),options:[t,e]}),mhe=(t,e)=>({...ihe(t),options:[t,e]}),yhe=(t,e)=>({...she(t),options:[t,e]}),vhe=(t,e)=>({...ohe(t),options:[t,e]}),bhe=(t,e)=>({...dhe(t),options:[t,e]});function whe(t){const[e,n]=I.useState(void 0);return Ps(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const DW="Popper",[$W,LW]=Y$(DW),[_he,jW]=$W(DW),xhe=t=>{const{__scopePopper:e,children:n}=t,[r,i]=I.useState(null);return I.createElement(_he,{scope:e,anchor:r,onAnchorChange:i},n)},Ahe="PopperAnchor",Ehe=I.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=jW(Ahe,n),o=I.useRef(null),a=Lr(e,o);return I.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:I.createElement(fr.div,nt({},i,{ref:a}))}),FW="PopperContent",[She,jFe]=$W(FW),The=I.forwardRef((t,e)=>{var n,r,i,s,o,a,l,c;const{__scopePopper:u,side:h="bottom",sideOffset:d=0,align:p="center",alignOffset:y=0,arrowPadding:g=0,collisionBoundary:v=[],collisionPadding:b=0,sticky:w="partial",hideWhenDetached:_=!1,avoidCollisions:S=!0,onPlaced:x,...T}=t,A=jW(FW,u),[E,O]=I.useState(null),M=Lr(e,ce=>O(ce)),[D,$]=I.useState(null),L=whe(D),W=(n=L==null?void 0:L.width)!==null&&n!==void 0?n:0,q=(r=L==null?void 0:L.height)!==null&&r!==void 0?r:0,H=h+(p!=="center"?"-"+p:""),G=typeof b=="number"?b:{top:0,right:0,bottom:0,left:0,...b},z=Array.isArray(v)?v:[v],X=z.length>0,ee={padding:G,boundary:z.filter(Phe),altBoundary:X},{refs:ae,floatingStyles:Z,placement:ne,isPositioned:Te,middlewareData:Pe}=hhe({strategy:"fixed",placement:H,whileElementsMounted:the,elements:{reference:A.anchor},middleware:[fhe({mainAxis:d+q,alignmentAxis:y}),S&&phe({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?ghe():void 0,...ee}),S&&mhe({...ee}),yhe({...ee,apply:({elements:ce,rects:ct,availableWidth:ft,availableHeight:wt})=>{const{width:jr,height:ti}=ct.reference,pr=ce.floating.style;pr.setProperty("--radix-popper-available-width",`${ft}px`),pr.setProperty("--radix-popper-available-height",`${wt}px`),pr.setProperty("--radix-popper-anchor-width",`${jr}px`),pr.setProperty("--radix-popper-anchor-height",`${ti}px`)}}),D&&bhe({element:D,padding:g}),Che({arrowWidth:W,arrowHeight:q}),_&&vhe({strategy:"referenceHidden"})]}),[je,fe]=VW(ne),Ie=Ol(x);Ps(()=>{Te&&(Ie==null||Ie())},[Te,Ie]);const ie=(i=Pe.arrow)===null||i===void 0?void 0:i.x,me=(s=Pe.arrow)===null||s===void 0?void 0:s.y,pe=((o=Pe.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[Y,Me]=I.useState();return Ps(()=>{E&&Me(window.getComputedStyle(E).zIndex)},[E]),I.createElement("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:Te?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Y,"--radix-popper-transform-origin":[(a=Pe.transformOrigin)===null||a===void 0?void 0:a.x,(l=Pe.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:t.dir},I.createElement(She,{scope:u,placedSide:je,onArrowChange:$,arrowX:ie,arrowY:me,shouldHideArrow:pe},I.createElement(fr.div,nt({"data-side":je,"data-align":fe},T,{ref:M,style:{...T.style,animation:Te?void 0:"none",opacity:(c=Pe.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))});function Phe(t){return t!==null}const Che=t=>({name:"transformOrigin",options:t,fn(e){var n,r,i,s,o;const{placement:a,rects:l,middlewareData:c}=e,h=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,d=h?0:t.arrowWidth,p=h?0:t.arrowHeight,[y,g]=VW(a),v={start:"0%",center:"50%",end:"100%"}[g],b=((r=(i=c.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+d/2,w=((s=(o=c.arrow)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0)+p/2;let _="",S="";return y==="bottom"?(_=h?v:`${b}px`,S=`${-p}px`):y==="top"?(_=h?v:`${b}px`,S=`${l.floating.height+p}px`):y==="right"?(_=`${-p}px`,S=h?v:`${w}px`):y==="left"&&(_=`${l.floating.width+p}px`,S=h?v:`${w}px`),{data:{x:_,y:S}}}});function VW(t){const[e,n="center"]=t.split("-");return[e,n]}const Ihe=xhe,Ohe=Ehe,khe=The,Rhe=I.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=t;return r?Ete.createPortal(I.createElement(fr.div,nt({},i,{ref:e})),r):null}),BW=I.forwardRef((t,e)=>{const{children:n,...r}=t,i=I.Children.toArray(n),s=i.find(Mhe);if(s){const o=s.props.children,a=i.map(l=>l===s?I.Children.count(o)>1?I.Children.only(null):I.isValidElement(o)?o.props.children:null:l);return I.createElement(lR,nt({},r,{ref:e}),I.isValidElement(o)?I.cloneElement(o,void 0,a):null)}return I.createElement(lR,nt({},r,{ref:e}),n)});BW.displayName="Slot";const lR=I.forwardRef((t,e)=>{const{children:n,...r}=t;return I.isValidElement(n)?I.cloneElement(n,{...Dhe(r,n.props),ref:e?kC(e,n.ref):n.ref}):I.Children.count(n)>1?I.Children.only(null):null});lR.displayName="SlotClone";const Nhe=({children:t})=>I.createElement(I.Fragment,null,t);function Mhe(t){return I.isValidElement(t)&&t.type===Nhe}function Dhe(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function m6({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=$he({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Ol(n),l=I.useCallback(c=>{if(s){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else i(c)},[s,t,i,a]);return[o,l]}function $he({defaultProp:t,onChange:e}){const n=I.useState(t),[r]=n,i=I.useRef(r),s=Ol(e);return I.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}function Lhe(t){const e=I.useRef({value:t,previous:t});return I.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}const jhe=I.forwardRef((t,e)=>I.createElement(fr.span,nt({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}})));var Fhe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ff=new WeakMap,xx=new WeakMap,Ax={},zO=0,UW=function(t){return t&&(t.host||UW(t.parentNode))},Vhe=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=UW(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Bhe=function(t,e,n,r){var i=Vhe(e,Array.isArray(t)?t:[t]);Ax[n]||(Ax[n]=new WeakMap);var s=Ax[n],o=[],a=new Set,l=new Set(i),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};i.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(d){if(a.has(d))u(d);else try{var p=d.getAttribute(r),y=p!==null&&p!=="false",g=(Ff.get(d)||0)+1,v=(s.get(d)||0)+1;Ff.set(d,g),s.set(d,v),o.push(d),g===1&&y&&xx.set(d,!0),v===1&&d.setAttribute(n,"true"),y||d.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",d,b)}})};return u(e),a.clear(),zO++,function(){o.forEach(function(h){var d=Ff.get(h)-1,p=s.get(h)-1;Ff.set(h,d),s.set(h,p),d||(xx.has(h)||h.removeAttribute(r),xx.delete(h)),p||h.removeAttribute(n)}),zO--,zO||(Ff=new WeakMap,Ff=new WeakMap,xx=new WeakMap,Ax={})}},Uhe=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e||Fhe(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),Bhe(r,i,n,"aria-hidden")):function(){return null}},bA="right-scroll-bar-position",wA="width-before-scroll-bar",zhe="with-scroll-bars-hidden",Hhe="--removed-body-scroll-bar-size";function HO(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Whe(t,e){var n=I.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Ghe=typeof window<"u"?I.useLayoutEffect:I.useEffect,y6=new WeakMap;function qhe(t,e){var n=Whe(e||null,function(r){return t.forEach(function(i){return HO(i,r)})});return Ghe(function(){var r=y6.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||HO(a,null)}),s.forEach(function(a){i.has(a)||HO(a,o)})}y6.set(n,t)},[t]),n}function Khe(t){return t}function Xhe(t,e){e===void 0&&(e=Khe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return i}function Yhe(t){t===void 0&&(t={});var e=Xhe(null);return e.options=Yo({async:!0,ssr:!1},t),e}var zW=function(t){var e=t.sideCar,n=t1(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return I.createElement(r,Yo({},n))};zW.isSideCarExport=!0;function Qhe(t,e){return t.useMedium(e),zW}var HW=Yhe(),WO=function(){},DC=I.forwardRef(function(t,e){var n=I.useRef(null),r=I.useState({onScrollCapture:WO,onWheelCapture:WO,onTouchMoveCapture:WO}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,h=t.shards,d=t.sideCar,p=t.noIsolation,y=t.inert,g=t.allowPinchZoom,v=t.as,b=v===void 0?"div":v,w=t1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),_=d,S=qhe([n,e]),x=Yo(Yo({},w),i);return I.createElement(I.Fragment,null,u&&I.createElement(_,{sideCar:HW,removeScrollBar:c,shards:h,noIsolation:p,inert:y,setCallbacks:s,allowPinchZoom:!!g,lockRef:n}),o?I.cloneElement(I.Children.only(a),Yo(Yo({},x),{ref:S})):I.createElement(b,Yo({},x,{className:l,ref:S}),a))});DC.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};DC.classNames={fullWidth:wA,zeroRight:bA};var v6,Jhe=function(){if(v6)return v6;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Zhe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Jhe();return e&&t.setAttribute("nonce",e),t}function ede(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function tde(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var nde=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Zhe())&&(ede(e,n),tde(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},rde=function(){var t=nde();return function(e,n){I.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},WW=function(){var t=rde(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},ide={left:0,top:0,right:0,gap:0},GO=function(t){return parseInt(t||"",10)||0},sde=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[GO(n),GO(r),GO(i)]},ode=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return ide;var e=sde(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},ade=WW(),$p="data-scroll-locked",lde=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(zhe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat($p,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(bA,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(wA,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(bA," .").concat(bA,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(wA," .").concat(wA,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat($p,`] {
    `).concat(Hhe,": ").concat(a,`px;
  }
`)},b6=function(){var t=parseInt(document.body.getAttribute($p)||"0",10);return isFinite(t)?t:0},cde=function(){I.useEffect(function(){return document.body.setAttribute($p,(b6()+1).toString()),function(){var t=b6()-1;t<=0?document.body.removeAttribute($p):document.body.setAttribute($p,t.toString())}},[])},ude=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;cde();var s=I.useMemo(function(){return ode(i)},[i]);return I.createElement(ade,{styles:lde(s,!e,i,n?"":"!important")})},cR=!1;if(typeof window<"u")try{var Ex=Object.defineProperty({},"passive",{get:function(){return cR=!0,!0}});window.addEventListener("test",Ex,Ex),window.removeEventListener("test",Ex,Ex)}catch{cR=!1}var Vf=cR?{passive:!1}:!1,hde=function(t){return t.tagName==="TEXTAREA"},GW=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!hde(t)&&n[e]==="visible")},dde=function(t){return GW(t,"overflowY")},fde=function(t){return GW(t,"overflowX")},w6=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=qW(t,n);if(r){var i=KW(t,n),s=i[1],o=i[2];if(s>o)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},pde=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},gde=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},qW=function(t,e){return t==="v"?dde(e):fde(e)},KW=function(t,e){return t==="v"?pde(e):gde(e)},mde=function(t,e){return t==="h"&&e==="rtl"?-1:1},yde=function(t,e,n,r,i){var s=mde(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,u=o>0,h=0,d=0;do{var p=KW(t,a),y=p[0],g=p[1],v=p[2],b=g-v-s*y;(y||b)&&qW(t,a)&&(h+=b,d+=y),a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(i&&h===0||!i&&o>h)||!u&&(i&&d===0||!i&&-o>d))&&(c=!0),c},Sx=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},_6=function(t){return[t.deltaX,t.deltaY]},x6=function(t){return t&&"current"in t?t.current:t},vde=function(t,e){return t[0]===e[0]&&t[1]===e[1]},bde=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},wde=0,Bf=[];function _de(t){var e=I.useRef([]),n=I.useRef([0,0]),r=I.useRef(),i=I.useState(wde++)[0],s=I.useState(function(){return WW()})[0],o=I.useRef(t);I.useEffect(function(){o.current=t},[t]),I.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=ure([t.lockRef.current],(t.shards||[]).map(x6),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=I.useCallback(function(g,v){if("touches"in g&&g.touches.length===2)return!o.current.allowPinchZoom;var b=Sx(g),w=n.current,_="deltaX"in g?g.deltaX:w[0]-b[0],S="deltaY"in g?g.deltaY:w[1]-b[1],x,T=g.target,A=Math.abs(_)>Math.abs(S)?"h":"v";if("touches"in g&&A==="h"&&T.type==="range")return!1;var E=w6(A,T);if(!E)return!0;if(E?x=A:(x=A==="v"?"h":"v",E=w6(A,T)),!E)return!1;if(!r.current&&"changedTouches"in g&&(_||S)&&(r.current=x),!x)return!0;var O=r.current||x;return yde(O,v,g,O==="h"?_:S,!0)},[]),l=I.useCallback(function(g){var v=g;if(!(!Bf.length||Bf[Bf.length-1]!==s)){var b="deltaY"in v?_6(v):Sx(v),w=e.current.filter(function(x){return x.name===v.type&&x.target===v.target&&vde(x.delta,b)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var _=(o.current.shards||[]).map(x6).filter(Boolean).filter(function(x){return x.contains(v.target)}),S=_.length>0?a(v,_[0]):!o.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),c=I.useCallback(function(g,v,b,w){var _={name:g,delta:v,target:b,should:w};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(S){return S!==_})},1)},[]),u=I.useCallback(function(g){n.current=Sx(g),r.current=void 0},[]),h=I.useCallback(function(g){c(g.type,_6(g),g.target,a(g,t.lockRef.current))},[]),d=I.useCallback(function(g){c(g.type,Sx(g),g.target,a(g,t.lockRef.current))},[]);I.useEffect(function(){return Bf.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:d}),document.addEventListener("wheel",l,Vf),document.addEventListener("touchmove",l,Vf),document.addEventListener("touchstart",u,Vf),function(){Bf=Bf.filter(function(g){return g!==s}),document.removeEventListener("wheel",l,Vf),document.removeEventListener("touchmove",l,Vf),document.removeEventListener("touchstart",u,Vf)}},[]);var p=t.removeScrollBar,y=t.inert;return I.createElement(I.Fragment,null,y?I.createElement(s,{styles:bde(i)}):null,p?I.createElement(ude,{gapMode:"margin"}):null)}const xde=Qhe(HW,_de);var XW=I.forwardRef(function(t,e){return I.createElement(DC,Yo({},t,{ref:e,sideCar:xde}))});XW.classNames=DC.classNames;const Ade=XW,Ede=[" ","Enter","ArrowUp","ArrowDown"],Sde=[" ","Enter"],$C="Select",[LC,jC,Tde]=Yce($C),[Sy,FFe]=Y$($C,[Tde,LW]),iL=LW(),[Pde,wf]=Sy($C),[Cde,Ide]=Sy($C),Ode=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:h,disabled:d,required:p}=t,y=iL(e),[g,v]=I.useState(null),[b,w]=I.useState(null),[_,S]=I.useState(!1),x=Jce(c),[T=!1,A]=m6({prop:r,defaultProp:i,onChange:s}),[E,O]=m6({prop:o,defaultProp:a,onChange:l}),M=I.useRef(null),D=g?!!g.closest("form"):!0,[$,L]=I.useState(new Set),W=Array.from($).map(q=>q.props.value).join(";");return I.createElement(Ihe,y,I.createElement(Pde,{required:p,scope:e,trigger:g,onTriggerChange:v,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:EW(),value:E,onValueChange:O,open:T,onOpenChange:A,dir:x,triggerPointerDownPosRef:M,disabled:d},I.createElement(LC.Provider,{scope:e},I.createElement(Cde,{scope:t.__scopeSelect,onNativeOptionAdd:I.useCallback(q=>{L(H=>new Set(H).add(q))},[]),onNativeOptionRemove:I.useCallback(q=>{L(H=>{const G=new Set(H);return G.delete(q),G})},[])},n)),D?I.createElement(ZW,{key:W,"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:h,value:E,onChange:q=>O(q.target.value),disabled:d},E===void 0?I.createElement("option",{value:""}):null,Array.from($)):null))},kde="SelectTrigger",Rde=I.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=iL(n),o=wf(kde,n),a=o.disabled||r,l=Lr(e,o.onTriggerChange),c=jC(n),[u,h,d]=eG(y=>{const g=c().filter(w=>!w.disabled),v=g.find(w=>w.value===o.value),b=tG(g,y,v);b!==void 0&&o.onValueChange(b.value)}),p=()=>{a||(o.onOpenChange(!0),d())};return I.createElement(Ohe,nt({asChild:!0},s),I.createElement(fr.button,nt({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":o.value===void 0?"":void 0},i,{ref:l,onClick:qn(i.onClick,y=>{y.currentTarget.focus()}),onPointerDown:qn(i.onPointerDown,y=>{const g=y.target;g.hasPointerCapture(y.pointerId)&&g.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&(p(),o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)},y.preventDefault())}),onKeyDown:qn(i.onKeyDown,y=>{const g=u.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&h(y.key),!(g&&y.key===" ")&&Ede.includes(y.key)&&(p(),y.preventDefault())})})))}),Nde="SelectValue",Mde=I.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o,...a}=t,l=wf(Nde,n),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,h=Lr(e,l.onValueNodeChange);return Ps(()=>{c(u)},[c,u]),I.createElement(fr.span,nt({},a,{ref:h,style:{pointerEvents:"none"}}),l.value===void 0&&o!==void 0?o:s)}),Dde=I.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return I.createElement(fr.span,nt({"aria-hidden":!0},i,{ref:e}),r||"")}),$de=t=>I.createElement(Rhe,nt({asChild:!0},t)),Fm="SelectContent",Lde=I.forwardRef((t,e)=>{const n=wf(Fm,t.__scopeSelect),[r,i]=I.useState();if(Ps(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?py.createPortal(I.createElement(YW,{scope:t.__scopeSelect},I.createElement(LC.Slot,{scope:t.__scopeSelect},I.createElement("div",null,t.children))),s):null}return I.createElement(jde,nt({},t,{ref:e}))}),Sa=10,[YW,_f]=Sy(Fm),jde=I.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:d,collisionPadding:p,sticky:y,hideWhenDetached:g,avoidCollisions:v,...b}=t,w=wf(Fm,n),[_,S]=I.useState(null),[x,T]=I.useState(null),A=Lr(e,fe=>S(fe)),[E,O]=I.useState(null),[M,D]=I.useState(null),$=jC(n),[L,W]=I.useState(!1),q=I.useRef(!1);I.useEffect(()=>{if(_)return Uhe(_)},[_]),hue();const H=I.useCallback(fe=>{const[Ie,...ie]=$().map(Y=>Y.ref.current),[me]=ie.slice(-1),pe=document.activeElement;for(const Y of fe)if(Y===pe||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===Ie&&x&&(x.scrollTop=0),Y===me&&x&&(x.scrollTop=x.scrollHeight),Y==null||Y.focus(),document.activeElement!==pe))return},[$,x]),G=I.useCallback(()=>H([E,_]),[H,E,_]);I.useEffect(()=>{L&&G()},[L,G]);const{onOpenChange:z,triggerPointerDownPosRef:X}=w;I.useEffect(()=>{if(_){let fe={x:0,y:0};const Ie=me=>{var pe,Y,Me,ce;fe={x:Math.abs(Math.round(me.pageX)-((pe=(Y=X.current)===null||Y===void 0?void 0:Y.x)!==null&&pe!==void 0?pe:0)),y:Math.abs(Math.round(me.pageY)-((Me=(ce=X.current)===null||ce===void 0?void 0:ce.y)!==null&&Me!==void 0?Me:0))}},ie=me=>{fe.x<=10&&fe.y<=10?me.preventDefault():_.contains(me.target)||z(!1),document.removeEventListener("pointermove",Ie),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",Ie),document.addEventListener("pointerup",ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ie),document.removeEventListener("pointerup",ie,{capture:!0})}}},[_,z,X]),I.useEffect(()=>{const fe=()=>z(!1);return window.addEventListener("blur",fe),window.addEventListener("resize",fe),()=>{window.removeEventListener("blur",fe),window.removeEventListener("resize",fe)}},[z]);const[ee,ae]=eG(fe=>{const Ie=$().filter(pe=>!pe.disabled),ie=Ie.find(pe=>pe.ref.current===document.activeElement),me=tG(Ie,fe,ie);me&&setTimeout(()=>me.ref.current.focus())}),Z=I.useCallback((fe,Ie,ie)=>{const me=!q.current&&!ie;(w.value!==void 0&&w.value===Ie||me)&&(O(fe),me&&(q.current=!0))},[w.value]),ne=I.useCallback(()=>_==null?void 0:_.focus(),[_]),Te=I.useCallback((fe,Ie,ie)=>{const me=!q.current&&!ie;(w.value!==void 0&&w.value===Ie||me)&&D(fe)},[w.value]),Pe=r==="popper"?A6:Fde,je=Pe===A6?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:d,collisionPadding:p,sticky:y,hideWhenDetached:g,avoidCollisions:v}:{};return I.createElement(YW,{scope:n,content:_,viewport:x,onViewportChange:T,itemRefCallback:Z,selectedItem:E,onItemLeave:ne,itemTextRefCallback:Te,focusSelectedItem:G,selectedItemText:M,position:r,isPositioned:L,searchRef:ee},I.createElement(Ade,{as:BW,allowPinchZoom:!0},I.createElement(due,{asChild:!0,trapped:w.open,onMountAutoFocus:fe=>{fe.preventDefault()},onUnmountAutoFocus:qn(i,fe=>{var Ie;(Ie=w.trigger)===null||Ie===void 0||Ie.focus({preventScroll:!0}),fe.preventDefault()})},I.createElement(lue,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:fe=>fe.preventDefault(),onDismiss:()=>w.onOpenChange(!1)},I.createElement(Pe,nt({role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:fe=>fe.preventDefault()},b,je,{onPlaced:()=>W(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:qn(b.onKeyDown,fe=>{const Ie=fe.ctrlKey||fe.altKey||fe.metaKey;if(fe.key==="Tab"&&fe.preventDefault(),!Ie&&fe.key.length===1&&ae(fe.key),["ArrowUp","ArrowDown","Home","End"].includes(fe.key)){let me=$().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);if(["ArrowUp","End"].includes(fe.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(fe.key)){const pe=fe.target,Y=me.indexOf(pe);me=me.slice(Y+1)}setTimeout(()=>H(me)),fe.preventDefault()}})}))))))}),Fde=I.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=wf(Fm,n),o=_f(Fm,n),[a,l]=I.useState(null),[c,u]=I.useState(null),h=Lr(e,A=>u(A)),d=jC(n),p=I.useRef(!1),y=I.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:b,focusSelectedItem:w}=o,_=I.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&g&&v&&b){const A=s.trigger.getBoundingClientRect(),E=c.getBoundingClientRect(),O=s.valueNode.getBoundingClientRect(),M=b.getBoundingClientRect();if(s.dir!=="rtl"){const pe=M.left-E.left,Y=O.left-pe,Me=A.left-Y,ce=A.width+Me,ct=Math.max(ce,E.width),ft=window.innerWidth-Sa,wt=e6(Y,[Sa,ft-ct]);a.style.minWidth=ce+"px",a.style.left=wt+"px"}else{const pe=E.right-M.right,Y=window.innerWidth-O.right-pe,Me=window.innerWidth-A.right-Y,ce=A.width+Me,ct=Math.max(ce,E.width),ft=window.innerWidth-Sa,wt=e6(Y,[Sa,ft-ct]);a.style.minWidth=ce+"px",a.style.right=wt+"px"}const D=d(),$=window.innerHeight-Sa*2,L=g.scrollHeight,W=window.getComputedStyle(c),q=parseInt(W.borderTopWidth,10),H=parseInt(W.paddingTop,10),G=parseInt(W.borderBottomWidth,10),z=parseInt(W.paddingBottom,10),X=q+H+L+z+G,ee=Math.min(v.offsetHeight*5,X),ae=window.getComputedStyle(g),Z=parseInt(ae.paddingTop,10),ne=parseInt(ae.paddingBottom,10),Te=A.top+A.height/2-Sa,Pe=$-Te,je=v.offsetHeight/2,fe=v.offsetTop+je,Ie=q+H+fe,ie=X-Ie;if(Ie<=Te){const pe=v===D[D.length-1].ref.current;a.style.bottom="0px";const Y=c.clientHeight-g.offsetTop-g.offsetHeight,Me=Math.max(Pe,je+(pe?ne:0)+Y+G),ce=Ie+Me;a.style.height=ce+"px"}else{const pe=v===D[0].ref.current;a.style.top="0px";const Me=Math.max(Te,q+g.offsetTop+(pe?Z:0)+je)+ie;a.style.height=Me+"px",g.scrollTop=Ie-Te+g.offsetTop}a.style.margin=`${Sa}px 0`,a.style.minHeight=ee+"px",a.style.maxHeight=$+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[d,s.trigger,s.valueNode,a,c,g,v,b,s.dir,r]);Ps(()=>_(),[_]);const[S,x]=I.useState();Ps(()=>{c&&x(window.getComputedStyle(c).zIndex)},[c]);const T=I.useCallback(A=>{A&&y.current===!0&&(_(),w==null||w(),y.current=!1)},[_,w]);return I.createElement(Vde,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:T},I.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S}},I.createElement(fr.div,nt({},i,{ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),A6=I.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Sa,...s}=t,o=iL(n);return I.createElement(khe,nt({},o,s,{ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[Vde,sL]=Sy(Fm,{}),E6="SelectViewport",Bde=I.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=_f(E6,n),s=sL(E6,n),o=Lr(e,i.onViewportChange),a=I.useRef(0);return I.createElement(I.Fragment,null,I.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),I.createElement(LC.Slot,{scope:n},I.createElement(fr.div,nt({"data-radix-select-viewport":"",role:"presentation"},r,{ref:o,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:qn(r.onScroll,l=>{const c=l.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:h}=s;if(h!=null&&h.current&&u){const d=Math.abs(a.current-c.scrollTop);if(d>0){const p=window.innerHeight-Sa*2,y=parseFloat(u.style.minHeight),g=parseFloat(u.style.height),v=Math.max(y,g);if(v<p){const b=v+d,w=Math.min(p,b),_=b-w;u.style.height=w+"px",u.style.bottom==="0px"&&(c.scrollTop=_>0?_:0,u.style.justifyContent="flex-end")}}}a.current=c.scrollTop})}))))}),Ude="SelectGroup",[VFe,zde]=Sy(Ude),Hde="SelectLabel",Wde=I.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=zde(Hde,n);return I.createElement(fr.div,nt({id:i.id},r,{ref:e}))}),uR="SelectItem",[Gde,QW]=Sy(uR),qde=I.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=wf(uR,n),l=_f(uR,n),c=a.value===r,[u,h]=I.useState(s??""),[d,p]=I.useState(!1),y=Lr(e,b=>{var w;return(w=l.itemRefCallback)===null||w===void 0?void 0:w.call(l,b,r,i)}),g=EW(),v=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};return I.createElement(Gde,{scope:n,value:r,disabled:i,textId:g,isSelected:c,onItemTextChange:I.useCallback(b=>{h(w=>{var _;return w||((_=b==null?void 0:b.textContent)!==null&&_!==void 0?_:"").trim()})},[])},I.createElement(LC.ItemSlot,{scope:n,value:r,disabled:i,textValue:u},I.createElement(fr.div,nt({role:"option","aria-labelledby":g,"data-highlighted":d?"":void 0,"aria-selected":c&&d,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},o,{ref:y,onFocus:qn(o.onFocus,()=>p(!0)),onBlur:qn(o.onBlur,()=>p(!1)),onPointerUp:qn(o.onPointerUp,v),onPointerMove:qn(o.onPointerMove,b=>{if(i){var w;(w=l.onItemLeave)===null||w===void 0||w.call(l)}else b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:qn(o.onPointerLeave,b=>{if(b.currentTarget===document.activeElement){var w;(w=l.onItemLeave)===null||w===void 0||w.call(l)}}),onKeyDown:qn(o.onKeyDown,b=>{var w;((w=l.searchRef)===null||w===void 0?void 0:w.current)!==""&&b.key===" "||(Sde.includes(b.key)&&v(),b.key===" "&&b.preventDefault())})}))))}),Tx="SelectItemText",Kde=I.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=wf(Tx,n),a=_f(Tx,n),l=QW(Tx,n),c=Ide(Tx,n),[u,h]=I.useState(null),d=Lr(e,b=>h(b),l.onItemTextChange,b=>{var w;return(w=a.itemTextRefCallback)===null||w===void 0?void 0:w.call(a,b,l.value,l.disabled)}),p=u==null?void 0:u.textContent,y=I.useMemo(()=>I.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},p),[l.disabled,l.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=c;return Ps(()=>(g(y),()=>v(y)),[g,v,y]),I.createElement(I.Fragment,null,I.createElement(fr.span,nt({id:l.textId},s,{ref:d})),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?py.createPortal(s.children,o.valueNode):null)}),Xde="SelectItemIndicator",Yde=I.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return QW(Xde,n).isSelected?I.createElement(fr.span,nt({"aria-hidden":!0},r,{ref:e})):null}),S6="SelectScrollUpButton",Qde=I.forwardRef((t,e)=>{const n=_f(S6,t.__scopeSelect),r=sL(S6,t.__scopeSelect),[i,s]=I.useState(!1),o=Lr(e,r.onScrollButtonChange);return Ps(()=>{if(n.viewport&&n.isPositioned){let l=function(){const c=a.scrollTop>0;s(c)};const a=n.viewport;return l(),a.addEventListener("scroll",l),()=>a.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?I.createElement(JW,nt({},t,{ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}})):null}),T6="SelectScrollDownButton",Jde=I.forwardRef((t,e)=>{const n=_f(T6,t.__scopeSelect),r=sL(T6,t.__scopeSelect),[i,s]=I.useState(!1),o=Lr(e,r.onScrollButtonChange);return Ps(()=>{if(n.viewport&&n.isPositioned){let l=function(){const c=a.scrollHeight-a.clientHeight,u=Math.ceil(a.scrollTop)<c;s(u)};const a=n.viewport;return l(),a.addEventListener("scroll",l),()=>a.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?I.createElement(JW,nt({},t,{ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}})):null}),JW=I.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=_f("SelectScrollButton",n),o=I.useRef(null),a=jC(n),l=I.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return I.useEffect(()=>()=>l(),[l]),Ps(()=>{var c;const u=a().find(h=>h.ref.current===document.activeElement);u==null||(c=u.ref.current)===null||c===void 0||c.scrollIntoView({block:"nearest"})},[a]),I.createElement(fr.div,nt({"aria-hidden":!0},i,{ref:e,style:{flexShrink:0,...i.style},onPointerDown:qn(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:qn(i.onPointerMove,()=>{var c;(c=s.onItemLeave)===null||c===void 0||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:qn(i.onPointerLeave,()=>{l()})}))}),Zde=I.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return I.createElement(fr.div,nt({"aria-hidden":!0},r,{ref:e}))}),ZW=I.forwardRef((t,e)=>{const{value:n,...r}=t,i=I.useRef(null),s=Lr(e,i),o=Lhe(n);return I.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&u){const h=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(h)}},[o,n]),I.createElement(jhe,{asChild:!0},I.createElement("select",nt({},r,{ref:s,defaultValue:n})))});ZW.displayName="BubbleSelect";function eG(t){const e=Ol(t),n=I.useRef(""),r=I.useRef(0),i=I.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=I.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return I.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function tG(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=efe(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function efe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const tfe=Ode,nG=Rde,nfe=Mde,rfe=Dde,ife=$de,rG=Lde,sfe=Bde,iG=Wde,sG=qde,ofe=Kde,afe=Yde,oG=Qde,aG=Jde,lG=Zde;var lfe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const cfe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oL=(t,e)=>{const n=I.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:a,...l},c)=>I.createElement("svg",{ref:c,...lfe,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${cfe(t)}`,...l},[...e.map(([u,h])=>I.createElement(u,h)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n},ufe=oL("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),cG=oL("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),hfe=oL("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),gp=tfe,mp=nfe,uh=I.forwardRef(({className:t,children:e,...n},r)=>C.jsxs(nG,{ref:r,className:xn("flex h-10 w-full items-center justify-between rounded-md border border-black bg-black px-3 py-2 text-sm text-white ring-offset-background placeholder:text-gray-300 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:[e,C.jsx(rfe,{asChild:!0,children:C.jsx(cG,{className:"h-4 w-4 opacity-50"})})]}));uh.displayName=nG.displayName;const uG=I.forwardRef(({className:t,...e},n)=>C.jsx(oG,{ref:n,className:xn("flex cursor-default items-center justify-center py-1",t),...e,children:C.jsx(hfe,{className:"h-4 w-4"})}));uG.displayName=oG.displayName;const hG=I.forwardRef(({className:t,...e},n)=>C.jsx(aG,{ref:n,className:xn("flex cursor-default items-center justify-center py-1",t),...e,children:C.jsx(cG,{className:"h-4 w-4"})}));hG.displayName=aG.displayName;const hh=I.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>C.jsx(ife,{children:C.jsxs(rG,{ref:i,className:xn("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-white text-gray-900 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[C.jsx(uG,{}),C.jsx(sfe,{className:xn("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),C.jsx(hG,{})]})}));hh.displayName=rG.displayName;const dfe=I.forwardRef(({className:t,...e},n)=>C.jsx(iG,{ref:n,className:xn("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));dfe.displayName=iG.displayName;const ko=I.forwardRef(({className:t,children:e,...n},r)=>C.jsxs(sG,{ref:r,className:xn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[C.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:C.jsx(afe,{children:C.jsx(ufe,{className:"h-4 w-4"})})}),C.jsx(ofe,{children:e})]}));ko.displayName=sG.displayName;const ffe=I.forwardRef(({className:t,...e},n)=>C.jsx(lG,{ref:n,className:xn("-mx-1 my-1 h-px bg-muted",t),...e}));ffe.displayName=lG.displayName;const pfe=dW("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Iv({className:t,variant:e,...n}){return C.jsx("div",{className:xn(pfe({variant:e}),t),...n})}const gfe=()=>{var g;const{user:t,completeOnboarding:e}=OC(),[n,r]=I.useState(1),[i,s]=I.useState({accountName:"",accountType:"Personal",currency:"USD",monthlyBudget:"",categories:[]}),o=["Personal","Business","Savings","Investment"],a=["USD","EUR","GBP","JPY","THB"],l=["Food & Dining","Transportation","Shopping","Entertainment","Healthcare","Utilities","Rent/Mortgage","Insurance","Education","Travel","Gifts","Other"],c=(v,b)=>{s(w=>({...w,[v]:b}))},u=v=>{s(b=>({...b,categories:b.categories.includes(v)?b.categories.filter(w=>w!==v):[...b.categories,v]}))},h=()=>{n<3?r(n+1):e()},d=()=>{n>1&&r(n-1)},p=()=>{switch(n){case 1:return i.accountName.trim()&&i.accountType;case 2:return i.currency;case 3:return i.categories.length>0;default:return!1}},y=()=>{switch(n){case 1:return C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"text-center",children:[C.jsx("div",{className:"mx-auto mb-4 w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:C.jsx(X$,{className:"text-blue-600"})}),C.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Set up your first account"}),C.jsx("p",{className:"text-gray-600 mt-2",children:"Let's start by creating your primary account"})]}),C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Name"}),C.jsx(ao,{placeholder:"e.g., Main Account, Personal Bank",value:i.accountName,onChange:v=>c("accountName",v.target.value),className:"w-full"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Type"}),C.jsxs(gp,{value:i.accountType,onValueChange:v=>c("accountType",v),children:[C.jsx(uh,{children:C.jsx(mp,{})}),C.jsx(hh,{children:o.map(v=>C.jsx(ko,{value:v,children:v},v))})]})]})]})]});case 2:return C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"text-center",children:[C.jsx("div",{className:"mx-auto mb-4 w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:C.jsx(kce,{className:"text-green-600"})}),C.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Choose your preferences"}),C.jsx("p",{className:"text-gray-600 mt-2",children:"Set up your currency and budget preferences"})]}),C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),C.jsxs(gp,{value:i.currency,onValueChange:v=>c("currency",v),children:[C.jsx(uh,{children:C.jsx(mp,{})}),C.jsx(hh,{children:a.map(v=>C.jsx(ko,{value:v,children:v},v))})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monthly Budget (Optional)"}),C.jsx(ao,{type:"number",placeholder:"e.g., 5000",value:i.monthlyBudget,onChange:v=>c("monthlyBudget",v.target.value),className:"w-full"})]})]})]});case 3:return C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"text-center",children:[C.jsx("div",{className:"mx-auto mb-4 w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:C.jsx(Oce,{className:"text-purple-600"})}),C.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Select your categories"}),C.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the expense categories you'll use most"})]}),C.jsx("div",{className:"grid grid-cols-2 gap-3",children:l.map(v=>C.jsx(Iv,{variant:i.categories.includes(v)?"default":"outline",className:`cursor-pointer transition-all ${i.categories.includes(v)?"bg-blue-600 text-white":"hover:bg-blue-50"}`,onClick:()=>u(v),children:v},v))}),C.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["Selected: ",i.categories.length," categories"]})]});default:return null}};return C.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center p-4",children:C.jsx("div",{className:"w-full max-w-md",children:C.jsxs(nn,{className:"shadow-2xl border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm",children:[C.jsxs(rn,{className:"text-center pb-6",children:[C.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-gradient-to-br from-blue-600 to-purple-600 dark:from-blue-900 dark:to-purple-900 rounded-full flex items-center justify-center",children:C.jsx(zce,{className:"text-white text-2xl"})}),C.jsxs(sn,{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 dark:from-blue-400 dark:to-purple-400 bg-clip-text text-transparent",children:["Welcome, ",((g=t==null?void 0:t.displayName)==null?void 0:g.split(" ")[0])||"User","!"]}),C.jsx("div",{className:"flex justify-center mt-6 space-x-2",children:[1,2,3].map(v=>C.jsx("div",{className:`w-3 h-3 rounded-full transition-all ${v<=n?"bg-blue-600":"bg-gray-300"}`},v))})]}),C.jsxs(on,{className:"space-y-6",children:[y(),C.jsxs("div",{className:"flex justify-between pt-4",children:[C.jsx(mn,{variant:"outline",onClick:d,disabled:n===1,className:"flex items-center",children:"Back"}),C.jsxs(mn,{onClick:h,disabled:!p(),className:"flex items-center bg-gradient-to-r from-blue-600 to-purple-600 dark:from-blue-900 dark:to-purple-900 hover:from-blue-700 hover:to-purple-700 dark:hover:from-blue-800 dark:hover:to-purple-800",children:[n===3?"Complete Setup":"Next",C.jsx(Ice,{className:"ml-2"})]})]})]})]})})})},mfe=({children:t})=>{const{user:e,loading:n,onboardingComplete:r}=OC();return n?C.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:C.jsxs("div",{className:"text-center",children:[C.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),C.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):e?r?t:C.jsx(gfe,{}):C.jsx(Hce,{})},yfe="modulepreload",vfe=function(t){return"/"+t},P6={},bfe=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=vfe(s),s in P6)return;P6[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let u=i.length-1;u>=0;u--){const h=i[u];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":yfe,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((u,h)=>{c.addEventListener("load",u),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},Gr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),hR=[.001,0,0,.001,0,0],qO=1.35,ji={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},ac={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},wfe="pdfjs_internal_editor_",Fe={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},et={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},_fe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},xr={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},_A={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},dn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Yf={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},FC={ERRORS:0,WARNINGS:1,INFOS:5},YE={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Px={moveTo:0,lineTo:1,curveTo:2,closePath:3},xfe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let VC=FC.WARNINGS;function Afe(t){Number.isInteger(t)&&(VC=t)}function Efe(){return VC}function BC(t){VC>=FC.INFOS&&console.log(`Info: ${t}`)}function Ve(t){VC>=FC.WARNINGS&&console.log(`Warning: ${t}`)}function bt(t){throw new Error(t)}function wn(t,e){t||bt(e)}function Sfe(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function dG(t,e=null,n=null){if(!t)return null;if(n&&typeof t=="string"){if(n.addDefaultProtocol&&t.startsWith("www.")){const i=t.match(/\./g);(i==null?void 0:i.length)>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=Ofe(t)}catch{}}const r=e?URL.parse(t,e):URL.parse(t);return Sfe(r)?r:null}function fG(t,e,n=!1){const r=URL.parse(t);return r?(r.hash=e,r.href):n&&dG(t,"http://example.com")?t.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Ze(t,e,n,r=!1){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const xf=function(){function e(n,r){this.message=n,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class C6 extends xf{constructor(e,n){super(e,"PasswordException"),this.code=n}}class KO extends xf{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class dR extends xf{constructor(e){super(e,"InvalidPDFException")}}class QE extends xf{constructor(e,n,r){super(e,"ResponseException"),this.status=n,this.missing=r}}class Tfe extends xf{constructor(e){super(e,"FormatError")}}class Pu extends xf{constructor(e){super(e,"AbortException")}}function pG(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&bt("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const s=Math.min(i+n,e),o=t.subarray(i,s);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function f1(t){typeof t!="string"&&bt("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r)&255;return n}function Pfe(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function Cfe(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function Ife(){try{return new Function(""),!0}catch{return!1}}class ur{static get isLittleEndian(){return Ze(this,"isLittleEndian",Cfe())}static get isEvalSupported(){return Ze(this,"isEvalSupported",Ife())}static get isOffscreenCanvasSupported(){return Ze(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Ze(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:n}=navigator;return Ze(this,"platform",{isAndroid:n.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:n.includes("Firefox")})}static get isCSSRoundSupported(){var e,n;return Ze(this,"isCSSRoundSupported",(n=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:n.call(e,"width: round(1.5px, 1px)"))}}const XO=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var Up,xA,Rb,fR;class Se{static makeHexColor(e,n,r){return`#${XO[e]}${XO[n]}${XO[r]}`}static scaleMinMax(e,n){let r;e[0]?(e[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[3],n[3]*=e[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,e[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static applyTransform(e,n,r=0){const i=e[r],s=e[r+1];e[r]=i*n[0]+s*n[2]+n[4],e[r+1]=i*n[1]+s*n[3]+n[5]}static applyTransformToBezier(e,n,r=0){const i=n[0],s=n[1],o=n[2],a=n[3],l=n[4],c=n[5];for(let u=0;u<6;u+=2){const h=e[r+u],d=e[r+u+1];e[r+u]=h*i+d*o+l,e[r+u+1]=h*s+d*a+c}}static applyInverseTransform(e,n){const r=e[0],i=e[1],s=n[0]*n[3]-n[1]*n[2];e[0]=(r*n[3]-i*n[2]+n[2]*n[5]-n[4]*n[3])/s,e[1]=(-r*n[1]+i*n[0]+n[4]*n[1]-n[5]*n[0])/s}static axialAlignedBoundingBox(e,n,r){const i=n[0],s=n[1],o=n[2],a=n[3],l=n[4],c=n[5],u=e[0],h=e[1],d=e[2],p=e[3];let y=i*u+l,g=y,v=i*d+l,b=v,w=a*h+c,_=w,S=a*p+c,x=S;if(s!==0||o!==0){const T=s*u,A=s*d,E=o*h,O=o*p;y+=E,b+=E,v+=O,g+=O,w+=T,x+=T,S+=A,_+=A}r[0]=Math.min(r[0],y,v,g,b),r[1]=Math.min(r[1],w,S,_,x),r[2]=Math.max(r[2],y,v,g,b),r[3]=Math.max(r[3],w,S,_,x)}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e,n){const r=e[0],i=e[1],s=e[2],o=e[3],a=r**2+i**2,l=r*s+i*o,c=s**2+o**2,u=(a+c)/2,h=Math.sqrt(u**2-(a*c-l**2));n[0]=Math.sqrt(u+h||1),n[1]=Math.sqrt(u-h||1)}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const r=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return s>o?null:[r,s,i,o]}static pointBoundingBox(e,n,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],n),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],n)}static rectBoundingBox(e,n,r,i,s){s[0]=Math.min(s[0],e,r),s[1]=Math.min(s[1],n,i),s[2]=Math.max(s[2],e,r),s[3]=Math.max(s[3],n,i)}static bezierBoundingBox(e,n,r,i,s,o,a,l,c){c[0]=Math.min(c[0],e,a),c[1]=Math.min(c[1],n,l),c[2]=Math.max(c[2],e,a),c[3]=Math.max(c[3],n,l),j(this,Rb,fR).call(this,e,r,s,a,n,i,o,l,3*(-e+3*(r-s)+a),6*(e-2*r+s),3*(r-e),c),j(this,Rb,fR).call(this,e,r,s,a,n,i,o,l,3*(-n+3*(i-o)+l),6*(n-2*i+o),3*(i-n),c)}}Up=new WeakSet,xA=function(e,n,r,i,s,o,a,l,c,u){if(c<=0||c>=1)return;const h=1-c,d=c*c,p=d*c,y=h*(h*(h*e+3*c*n)+3*d*r)+p*i,g=h*(h*(h*s+3*c*o)+3*d*a)+p*l;u[0]=Math.min(u[0],y),u[1]=Math.min(u[1],g),u[2]=Math.max(u[2],y),u[3]=Math.max(u[3],g)},Rb=new WeakSet,fR=function(e,n,r,i,s,o,a,l,c,u,h,d){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&j(this,Up,xA).call(this,e,n,r,i,s,o,a,l,-h/u,d);return}const p=u**2-4*h*c;if(p<0)return;const y=Math.sqrt(p),g=2*c;j(this,Up,xA).call(this,e,n,r,i,s,o,a,l,(-u+y)/g,d),j(this,Up,xA).call(this,e,n,r,i,s,o,a,l,(-u-y)/g,d)},k(Se,Up),k(Se,Rb);function Ofe(t){return decodeURIComponent(escape(t))}let YO=null,I6=null;function kfe(t){return YO||(YO=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,I6=new Map([["","t"]])),t.replaceAll(YO,(e,n,r)=>n?n.normalize("NFKC"):I6.get(r))}function gG(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),pG(t)}const aL="pdfjs_internal_id_";function Rfe(t,e,n){if(!Array.isArray(n)||n.length<2)return!1;const[r,i,...s]=n;if(!t(r)&&!Number.isInteger(r)||!e(i))return!1;const o=s.length;let a=!0;switch(i.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;a=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||a&&l===null))return!1;return!0}function qr(t,e,n){return Math.min(Math.max(t,e),n)}function mG(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(pG(t))}function Nfe(t){return Uint8Array.fromBase64?Uint8Array.fromBase64(t):f1(atob(t))}typeof Promise.try!="function"&&(Promise.try=function(t,...e){return new Promise(n=>{n(t(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(t){return t.reduce((e,n)=>e+n,0)});const _a="http://www.w3.org/2000/svg",nh=class nh{};de(nh,"CSS",96),de(nh,"PDF",72),de(nh,"PDF_TO_CSS_UNITS",nh.CSS/nh.PDF);let Cu=nh;async function p1(t,e="text"){if(Ov(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(i.response);return}n(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class g1{constructor({viewBox:e,userUnit:n,scale:r,rotation:i,offsetX:s=0,offsetY:o=0,dontFlip:a=!1}){this.viewBox=e,this.userUnit=n,this.scale=r,this.rotation=i,this.offsetX=s,this.offsetY=o,r*=n;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let u,h,d,p;switch(i%=360,i<0&&(i+=360),i){case 180:u=-1,h=0,d=0,p=1;break;case 90:u=0,h=1,d=1,p=0;break;case 270:u=0,h=-1,d=-1,p=0;break;case 0:u=1,h=0,d=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(d=-d,p=-p);let y,g,v,b;u===0?(y=Math.abs(c-e[1])*r+s,g=Math.abs(l-e[0])*r+o,v=(e[3]-e[1])*r,b=(e[2]-e[0])*r):(y=Math.abs(l-e[0])*r+s,g=Math.abs(c-e[1])*r+o,v=(e[2]-e[0])*r,b=(e[3]-e[1])*r),this.transform=[u*r,h*r,d*r,p*r,y-u*r*l-d*r*c,g-h*r*l-p*r*c],this.width=v,this.height=b}get rawDims(){const e=this.viewBox;return Ze(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new g1({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,n){const r=[e,n];return Se.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const n=[e[0],e[1]];Se.applyTransform(n,this.transform);const r=[e[2],e[3]];return Se.applyTransform(r,this.transform),[n[0],n[1],r[0],r[1]]}convertToPdfPoint(e,n){const r=[e,n];return Se.applyInverseTransform(r,this.transform),r}}class lL extends xf{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function UC(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function cL(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function Mfe(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function Dfe(t,e="document.pdf"){if(typeof t!="string")return e;if(UC(t))return Ve('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=n.exec(t);let s=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=r.exec(decodeURIComponent(s))[0]}catch{}return s||e}class O6{constructor(){de(this,"started",Object.create(null));de(this,"times",[])}time(e){e in this.started&&Ve(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ve(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(n)} ${s-i}ms
`);return e.join("")}}function Ov(t,e){const n=e?URL.parse(t,e):URL.parse(t);return(n==null?void 0:n.protocol)==="http:"||(n==null?void 0:n.protocol)==="https:"}function wo(t){t.preventDefault()}function vn(t){t.preventDefault(),t.stopPropagation()}function $fe(t){console.log("Deprecated API usage: "+t)}var Nb;class uL{static toDateObject(e){if(!e||typeof e!="string")return null;f(this,Nb)||R(this,Nb,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const n=f(this,Nb).exec(e);if(!n)return null;const r=parseInt(n[1],10);let i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(n[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(n[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(n[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(n[6],10);l=l>=0&&l<=59?l:0;const c=n[7]||"Z";let u=parseInt(n[8],10);u=u>=0&&u<=23?u:0;let h=parseInt(n[9],10)||0;return h=h>=0&&h<=59?h:0,c==="-"?(o+=u,a+=h):c==="+"&&(o-=u,a-=h),new Date(Date.UTC(r,i,s,o,a,l))}}Nb=new WeakMap,k(uL,Nb,void 0);function Lfe(t,{scale:e=1,rotation:n=0}){const{width:r,height:i}=t.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new g1({viewBox:s,userUnit:1,scale:e,rotation:n})}function hL(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ve(`Not a valid color format: "${t}"`),[0,0,0])}function jfe(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,hL(r))}e.remove()}function Ht(t){const{a:e,b:n,c:r,d:i,e:s,f:o}=t.getTransform();return[e,n,r,i,s,o]}function So(t){const{a:e,b:n,c:r,d:i,e:s,f:o}=t.getTransform().invertSelf();return[e,n,r,i,s,o]}function tf(t,e,n=!1,r=!0){if(e instanceof g1){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:o}=t,a=ur.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,c=`var(--total-scale-factor) * ${s}px`,u=a?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,h=a?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!n||e.rotation%180===0?(o.width=u,o.height=h):(o.width=h,o.height=u)}r&&t.setAttribute("data-main-rotation",e.rotation)}class da{constructor(){const{pixelRatio:e}=da;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,n,r,i,s=-1){let o=1/0,a=1/0,l=1/0;r=da.capPixels(r,s),r>0&&(o=Math.sqrt(r/(e*n))),i!==-1&&(a=i/e,l=i/n);const c=Math.min(o,a,l);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,n){if(n>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+n/100));return e>0?Math.min(e,r):r}return e}}const pR=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var cc,mh,ls,uc,Mb,zp,Db,oT,yG,aT,vG,lT,bG,yh,kv,cT,wG,Hp,AA;const Pa=class Pa{constructor(e){k(this,aT);k(this,lT);k(this,yh);k(this,cT);k(this,Hp);k(this,cc,null);k(this,mh,null);k(this,ls,void 0);k(this,uc,null);k(this,Mb,null);k(this,zp,null);R(this,ls,e),f(Pa,Db)||R(Pa,Db,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=R(this,cc,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const n=f(this,ls)._uiManager._signal;e.addEventListener("contextmenu",wo,{signal:n}),e.addEventListener("pointerdown",j(Pa,oT,yG),{signal:n});const r=R(this,uc,document.createElement("div"));r.className="buttons",e.append(r);const i=f(this,ls).toolbarPosition;if(i){const{style:s}=e,o=f(this,ls)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return j(this,cT,wG).call(this),e}get div(){return f(this,cc)}hide(){var e;f(this,cc).classList.add("hidden"),(e=f(this,mh))==null||e.hideDropdown()}show(){var e;f(this,cc).classList.remove("hidden"),(e=f(this,Mb))==null||e.shown()}async addAltText(e){const n=await e.render();j(this,yh,kv).call(this,n),f(this,uc).prepend(n,f(this,Hp,AA)),R(this,Mb,e)}addColorPicker(e){R(this,mh,e);const n=e.renderButton();j(this,yh,kv).call(this,n),f(this,uc).prepend(n,f(this,Hp,AA))}async addEditSignatureButton(e){const n=R(this,zp,await e.renderEditButton(f(this,ls)));j(this,yh,kv).call(this,n),f(this,uc).prepend(n,f(this,Hp,AA))}updateEditSignatureButton(e){f(this,zp)&&(f(this,zp).title=e)}remove(){var e;f(this,cc).remove(),(e=f(this,mh))==null||e.destroy(),R(this,mh,null)}};cc=new WeakMap,mh=new WeakMap,ls=new WeakMap,uc=new WeakMap,Mb=new WeakMap,zp=new WeakMap,Db=new WeakMap,oT=new WeakSet,yG=function(e){e.stopPropagation()},aT=new WeakSet,vG=function(e){f(this,ls)._focusEventsAllowed=!1,vn(e)},lT=new WeakSet,bG=function(e){f(this,ls)._focusEventsAllowed=!0,vn(e)},yh=new WeakSet,kv=function(e){const n=f(this,ls)._uiManager._signal;e.addEventListener("focusin",j(this,aT,vG).bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",j(this,lT,bG).bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",wo,{signal:n})},cT=new WeakSet,wG=function(){const{editorType:e,_uiManager:n}=f(this,ls),r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",f(Pa,Db)[e]),j(this,yh,kv).call(this,r),r.addEventListener("click",i=>{n.delete()},{signal:n._signal}),f(this,uc).append(r)},Hp=new WeakSet,AA=function(){const e=document.createElement("div");return e.className="divider",e},k(Pa,oT),k(Pa,Db,null);let gR=Pa;var $b,vh,bh,uT,_G,hT,xG,dT,AG;class Ffe{constructor(e){k(this,uT);k(this,hT);k(this,dT);k(this,$b,null);k(this,vh,null);k(this,bh,void 0);R(this,bh,e)}show(e,n,r){const[i,s]=j(this,hT,xG).call(this,n,r),{style:o}=f(this,vh)||R(this,vh,j(this,uT,_G).call(this));e.append(f(this,vh)),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){f(this,vh).remove()}}$b=new WeakMap,vh=new WeakMap,bh=new WeakMap,uT=new WeakSet,_G=function(){const e=R(this,vh,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",wo,{signal:f(this,bh)._signal});const n=R(this,$b,document.createElement("div"));return n.className="buttons",e.append(n),j(this,dT,AG).call(this),e},hT=new WeakSet,xG=function(e,n){let r=0,i=0;for(const s of e){const o=s.y+s.height;if(o<r)continue;const a=s.x+(n?s.width:0);if(o>r){i=a,r=o;continue}n?a>i&&(i=a):a<i&&(i=a)}return[n?1-i:i,r]},dT=new WeakSet,AG=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const n=document.createElement("span");e.append(n),n.className="visuallyHidden",n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=f(this,bh)._signal;e.addEventListener("contextmenu",wo,{signal:r}),e.addEventListener("click",()=>{f(this,bh).highlightSelection("floating_button")},{signal:r}),f(this,$b).append(e)};function EG(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}var fT;class Vfe{constructor(){k(this,fT,0)}get id(){return`${wfe}${Fr(this,fT)._++}`}}fT=new WeakMap;var Wp,Lb,Er,Gp,EA;const Tj=class Tj{constructor(){k(this,Gp);k(this,Wp,gG());k(this,Lb,0);k(this,Er,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Ze(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:n,name:r,size:i,type:s}=e;return j(this,Gp,EA).call(this,`${n}_${r}_${i}_${s}`,e)}async getFromUrl(e){return j(this,Gp,EA).call(this,e,e)}async getFromBlob(e,n){const r=await n;return j(this,Gp,EA).call(this,e,r)}async getFromId(e){f(this,Er)||R(this,Er,new Map);const n=f(this,Er).get(e);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:r}=n;return delete n.blobPromise,this.getFromBlob(n.id,r)}return this.getFromUrl(n.url)}getFromCanvas(e,n){f(this,Er)||R(this,Er,new Map);let r=f(this,Er).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(n.width,n.height);return i.getContext("2d").drawImage(n,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${f(this,Wp)}_${Fr(this,Lb)._++}`,refCounter:1,isSvg:!1},f(this,Er).set(e,r),f(this,Er).set(r.id,r),r}getSvgUrl(e){const n=f(this,Er).get(e);return n!=null&&n.isSvg?n.svgUrl:null}deleteId(e){var i;f(this,Er)||R(this,Er,new Map);const n=f(this,Er).get(e);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:r}=n;if(!n.url&&!n.file){const s=new OffscreenCanvas(r.width,r.height);s.getContext("bitmaprenderer").transferFromImageBitmap(r),n.blobPromise=s.convertToBlob()}(i=r.close)==null||i.call(r),n.bitmap=null}isValidId(e){return e.startsWith(`image_${f(this,Wp)}_`)}};Wp=new WeakMap,Lb=new WeakMap,Er=new WeakMap,Gp=new WeakSet,EA=async function(e,n){f(this,Er)||R(this,Er,new Map);let r=f(this,Er).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${f(this,Wp)}_${Fr(this,Lb)._++}`,refCounter:0,isSvg:!1});let i;if(typeof n=="string"?(r.url=n,i=await p1(n,"blob")):n instanceof File?i=r.file=n:n instanceof Blob&&(i=n),i.type==="image/svg+xml"){const s=Tj._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((c,u)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,c()},o.onload=async()=>{const h=r.svgUrl=o.result;a.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},a.onerror=o.onerror=u});o.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){Ve(i),r=null}return f(this,Er).set(e,r),r&&f(this,Er).set(r.id,r),r};let mR=Tj;var en,hc,jb,zt;class Bfe{constructor(e=128){k(this,en,[]);k(this,hc,!1);k(this,jb,void 0);k(this,zt,-1);R(this,jb,e)}add({cmd:e,undo:n,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(i&&e(),f(this,hc))return;const l={cmd:e,undo:n,post:r,type:s};if(f(this,zt)===-1){f(this,en).length>0&&(f(this,en).length=0),R(this,zt,0),f(this,en).push(l);return}if(o&&f(this,en)[f(this,zt)].type===s){a&&(l.undo=f(this,en)[f(this,zt)].undo),f(this,en)[f(this,zt)]=l;return}const c=f(this,zt)+1;c===f(this,jb)?f(this,en).splice(0,1):(R(this,zt,c),c<f(this,en).length&&f(this,en).splice(c)),f(this,en).push(l)}undo(){if(f(this,zt)===-1)return;R(this,hc,!0);const{undo:e,post:n}=f(this,en)[f(this,zt)];e(),n==null||n(),R(this,hc,!1),R(this,zt,f(this,zt)-1)}redo(){if(f(this,zt)<f(this,en).length-1){R(this,zt,f(this,zt)+1),R(this,hc,!0);const{cmd:e,post:n}=f(this,en)[f(this,zt)];e(),n==null||n(),R(this,hc,!1)}}hasSomethingToUndo(){return f(this,zt)!==-1}hasSomethingToRedo(){return f(this,zt)<f(this,en).length-1}cleanType(e){if(f(this,zt)!==-1){for(let n=f(this,zt);n>=0;n--)if(f(this,en)[n].type!==e){f(this,en).splice(n+1,f(this,zt)-n),R(this,zt,n);return}f(this,en).length=0,R(this,zt,-1)}}destroy(){R(this,en,null)}}en=new WeakMap,hc=new WeakMap,jb=new WeakMap,zt=new WeakMap;var pT,SG;class m1{constructor(e){k(this,pT);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=ur.platform;for(const[r,i,s={}]of e)for(const o of r){const a=o.startsWith("mac+");n&&a?(this.callbacks.set(o.slice(4),{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1))):!n&&!a&&(this.callbacks.set(o,{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get(j(this,pT,SG).call(this,n));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:o=[],checker:a=null}}=r;a&&!a(e,n)||(i.bind(e,...o,n)(),s||vn(n))}}pT=new WeakSet,SG=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n};const gT=class gT{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return jfe(e),Ze(this,"_colors",e)}convert(e){const n=hL(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,i]of this._colors)if(i.every((s,o)=>s===n[o]))return gT._colorsMapping.get(r);return n}getHexCode(e){const n=this._colors.get(e);return n?Se.makeHexColor(...n):e}};de(gT,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let yR=gT;var qp,Si,Sn,Jn,Kp,Oa,Xp,cs,dc,fc,Yp,wh,Ro,Us,_h,Fb,Vb,Qp,Bb,No,pc,Jp,gc,Mo,mT,mc,Ub,yc,xh,Ah,vc,zb,Ln,pt,ka,bc,Eh,Hb,Wb,wc,Do,Ra,Gb,us,Zp,SA,qb,vR,yT,TG,vT,PG,eg,TA,bT,CG,wT,IG,_T,OG,Kb,bR,xT,kG,Xb,wR,Yb,_R,AT,RG,Zn,Br,zs,xa,ET,NG,ST,MG,Qb,xR,TT,DG,Sh,Rv,Jb,AR;const Ap=class Ap{constructor(e,n,r,i,s,o,a,l,c,u,h,d,p,y){k(this,Zp);k(this,qb);k(this,yT);k(this,vT);k(this,eg);k(this,bT);k(this,wT);k(this,_T);k(this,Kb);k(this,xT);k(this,Xb);k(this,Yb);k(this,AT);k(this,Zn);k(this,zs);k(this,ET);k(this,ST);k(this,Qb);k(this,TT);k(this,Sh);k(this,Jb);k(this,qp,new AbortController);k(this,Si,null);k(this,Sn,new Map);k(this,Jn,new Map);k(this,Kp,null);k(this,Oa,null);k(this,Xp,null);k(this,cs,new Bfe);k(this,dc,null);k(this,fc,null);k(this,Yp,0);k(this,wh,new Set);k(this,Ro,null);k(this,Us,null);k(this,_h,new Set);de(this,"_editorUndoBar",null);k(this,Fb,!1);k(this,Vb,!1);k(this,Qp,!1);k(this,Bb,null);k(this,No,null);k(this,pc,null);k(this,Jp,null);k(this,gc,!1);k(this,Mo,null);k(this,mT,new Vfe);k(this,mc,!1);k(this,Ub,!1);k(this,yc,null);k(this,xh,null);k(this,Ah,null);k(this,vc,null);k(this,zb,null);k(this,Ln,Fe.NONE);k(this,pt,new Set);k(this,ka,null);k(this,bc,null);k(this,Eh,null);k(this,Hb,null);k(this,Wb,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});k(this,wc,[0,0]);k(this,Do,null);k(this,Ra,null);k(this,Gb,null);k(this,us,null);const g=this._signal=f(this,qp).signal;R(this,Ra,e),R(this,Gb,n),R(this,Kp,r),R(this,bc,i),this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:g}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:g}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:g}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:g}),s._on("setpreference",this.onSetPreference.bind(this),{signal:g}),s._on("switchannotationeditorparams",v=>this.updateParams(v.type,v.value),{signal:g}),j(this,bT,CG).call(this),j(this,AT,RG).call(this),j(this,Kb,bR).call(this),R(this,Oa,o.annotationStorage),R(this,Bb,o.filterFactory),R(this,Eh,a),R(this,Jp,l||null),R(this,Fb,c),R(this,Vb,u),R(this,Qp,h),R(this,zb,d||null),this.viewParameters={realScale:Cu.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=p||null,this._supportsPinchToZoom=y!==!1}static get _keyboardManager(){const e=Ap.prototype,n=o=>f(o,Ra).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Ze(this,"_keyboardManager",new m1([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&f(o,Ra).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&f(o,Ra).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:n}]]))}destroy(){var e,n,r,i,s,o,a,l;(e=f(this,us))==null||e.resolve(),R(this,us,null),(n=f(this,qp))==null||n.abort(),R(this,qp,null),this._signal=null;for(const c of f(this,Jn).values())c.destroy();f(this,Jn).clear(),f(this,Sn).clear(),f(this,_h).clear(),(r=f(this,vc))==null||r.clear(),R(this,Si,null),f(this,pt).clear(),f(this,cs).destroy(),(i=f(this,Kp))==null||i.destroy(),(s=f(this,bc))==null||s.destroy(),(o=f(this,Mo))==null||o.hide(),R(this,Mo,null),(a=f(this,Ah))==null||a.destroy(),R(this,Ah,null),f(this,No)&&(clearTimeout(f(this,No)),R(this,No,null)),f(this,Do)&&(clearTimeout(f(this,Do)),R(this,Do,null)),(l=this._editorUndoBar)==null||l.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return f(this,zb)}get useNewAltTextFlow(){return f(this,Vb)}get useNewAltTextWhenAddingImage(){return f(this,Qp)}get hcmFilter(){return Ze(this,"hcmFilter",f(this,Eh)?f(this,Bb).addHCMFilter(f(this,Eh).foreground,f(this,Eh).background):"none")}get direction(){return Ze(this,"direction",getComputedStyle(f(this,Ra)).direction)}get highlightColors(){return Ze(this,"highlightColors",f(this,Jp)?new Map(f(this,Jp).split(",").map(e=>e.split("=").map(n=>n.trim()))):null)}get highlightColorNames(){return Ze(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),R(this,fc,e)}setMainHighlightColorPicker(e){R(this,Ah,e)}editAltText(e,n=!1){var r;(r=f(this,Kp))==null||r.editAltText(this,e,n)}getSignature(e){var n;(n=f(this,bc))==null||n.getSignature({uiManager:this,editor:e})}get signatureManager(){return f(this,bc)}switchToMode(e,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,n){this._eventBus.dispatch("setpreference",{source:this,name:e,value:n})}onSetPreference({name:e,value:n}){switch(e){case"enableNewAltTextWhenAddingImage":R(this,Qp,n);break}}onPageChanging({pageNumber:e}){R(this,Yp,e-1)}focusMainContainer(){f(this,Ra).focus()}findParent(e,n){for(const r of f(this,Jn).values()){const{x:i,y:s,width:o,height:a}=r.div.getBoundingClientRect();if(e>=i&&e<=i+o&&n>=s&&n<=s+a)return r}return null}disableUserSelect(e=!1){f(this,Gb).classList.toggle("noUserSelect",e)}addShouldRescale(e){f(this,_h).add(e)}removeShouldRescale(e){f(this,_h).delete(e)}onScaleChanging({scale:e}){var n;this.commitOrRemove(),this.viewParameters.realScale=e*Cu.PDF_TO_CSS_UNITS;for(const r of f(this,_h))r.onScaleChanging();(n=f(this,fc))==null||n.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}=n,a=n.toString(),c=j(this,Zp,SA).call(this,n).closest(".textLayer"),u=this.getSelectionBoxes(c);if(!u)return;n.empty();const h=j(this,qb,vR).call(this,c),d=f(this,Ln)===Fe.NONE,p=()=>{h==null||h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:u,anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o,text:a}),d&&this.showAllEditors("highlight",!0,!0)};if(d){this.switchToMode(Fe.HIGHLIGHT,p);return}p()}addToAnnotationStorage(e){!e.isEmpty()&&f(this,Oa)&&!f(this,Oa).has(e.id)&&f(this,Oa).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,f(this,gc)&&(R(this,gc,!1),j(this,eg,TA).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of f(this,pt))if(n.div.contains(e)){R(this,xh,[n,e]),n._focusEventsAllowed=!1;break}}focus(){if(!f(this,xh))return;const[e,n]=f(this,xh);R(this,xh,null),n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}addEditListeners(){j(this,Kb,bR).call(this),j(this,Xb,wR).call(this)}removeEditListeners(){j(this,xT,kG).call(this),j(this,Yb,_R).call(this)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const r of f(this,Us))if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const r of f(this,Us))if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=f(this,Si))==null||r.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of f(this,pt)){const s=i.serialize(!0);s&&n.push(s)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:n}=e;for(const s of n.items)for(const o of f(this,Us))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){Ve(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const c=await i.deserialize(l);if(!c)return;s.push(c)}const o=()=>{for(const l of s)j(this,Qb,xR).call(this,l);j(this,Jb,AR).call(this,s)},a=()=>{for(const l of s)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){Ve(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),f(this,Ln)!==Fe.NONE&&!this.isEditorHandlingKeyboard&&Ap._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,f(this,gc)&&(R(this,gc,!1),j(this,eg,TA).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(j(this,wT,IG).call(this),j(this,Xb,wR).call(this),j(this,Zn,Br).call(this,{isEditing:f(this,Ln)!==Fe.NONE,isEmpty:j(this,Sh,Rv).call(this),hasSomethingToUndo:f(this,cs).hasSomethingToUndo(),hasSomethingToRedo:f(this,cs).hasSomethingToRedo(),hasSelectedEditor:!1})):(j(this,_T,OG).call(this),j(this,Yb,_R).call(this),j(this,Zn,Br).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!f(this,Us)){R(this,Us,e);for(const n of f(this,Us))j(this,zs,xa).call(this,n.defaultPropertiesToUpdate)}}getId(){return f(this,mT).id}get currentLayer(){return f(this,Jn).get(f(this,Yp))}getLayer(e){return f(this,Jn).get(e)}get currentPageIndex(){return f(this,Yp)}addLayer(e){f(this,Jn).set(e.pageIndex,e),f(this,mc)?e.enable():e.disable()}removeLayer(e){f(this,Jn).delete(e.pageIndex)}async updateMode(e,n=null,r=!1){var i,s,o;if(f(this,Ln)!==e&&!(f(this,us)&&(await f(this,us).promise,!f(this,us)))){if(R(this,us,Promise.withResolvers()),(i=f(this,fc))==null||i.commitOrRemove(),R(this,Ln,e),e===Fe.NONE){this.setEditingState(!1),j(this,ST,MG).call(this),(s=this._editorUndoBar)==null||s.hide(),f(this,us).resolve();return}e===Fe.SIGNATURE&&await((o=f(this,bc))==null?void 0:o.loadSignatures()),this.setEditingState(!0),await j(this,ET,NG).call(this),this.unselectAll();for(const a of f(this,Jn).values())a.updateMode(e);if(!n){r&&this.addNewEditorFromKeyboard(),f(this,us).resolve();return}for(const a of f(this,Sn).values())a.annotationElementId===n||a.id===n?(this.setSelected(a),a.enterInEditMode()):a.unselect();f(this,us).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==f(this,Ln)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,n){var r;if(f(this,Us)){switch(e){case et.CREATE:this.currentLayer.addNewEditor(n);return;case et.HIGHLIGHT_DEFAULT_COLOR:(r=f(this,Ah))==null||r.updateColor(n);break;case et.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(f(this,Hb)||R(this,Hb,new Map)).set(e,n),this.showAllEditors("highlight",n);break}for(const i of f(this,pt))i.updateParams(e,n);for(const i of f(this,Us))i.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){var s;for(const o of f(this,Sn).values())o.editorType===e&&o.show(n);(((s=f(this,Hb))==null?void 0:s.get(et.HIGHLIGHT_SHOW_ALL))??!0)!==n&&j(this,zs,xa).call(this,[[et.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(f(this,Ub)!==e){R(this,Ub,e);for(const n of f(this,Jn).values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}getEditors(e){const n=[];for(const r of f(this,Sn).values())r.pageIndex===e&&n.push(r);return n}getEditor(e){return f(this,Sn).get(e)}addEditor(e){f(this,Sn).set(e.id,e)}removeEditor(e){var n,r;e.div.contains(document.activeElement)&&(f(this,No)&&clearTimeout(f(this,No)),R(this,No,setTimeout(()=>{this.focusMainContainer(),R(this,No,null)},0))),f(this,Sn).delete(e.id),e.annotationElementId&&((n=f(this,vc))==null||n.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!f(this,wh).has(e.annotationElementId))&&((r=f(this,Oa))==null||r.remove(e.id))}addDeletedAnnotationElement(e){f(this,wh).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return f(this,wh).has(e)}removeDeletedAnnotationElement(e){f(this,wh).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){f(this,Si)!==e&&(R(this,Si,e),e&&j(this,zs,xa).call(this,e.propertiesToUpdate))}updateUI(e){f(this,TT,DG)===e&&j(this,zs,xa).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){j(this,zs,xa).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(f(this,pt).has(e)){f(this,pt).delete(e),e.unselect(),j(this,Zn,Br).call(this,{hasSelectedEditor:this.hasSelection});return}f(this,pt).add(e),e.select(),j(this,zs,xa).call(this,e.propertiesToUpdate),j(this,Zn,Br).call(this,{hasSelectedEditor:!0})}setSelected(e){var n;(n=f(this,fc))==null||n.commitOrRemove();for(const r of f(this,pt))r!==e&&r.unselect();f(this,pt).clear(),f(this,pt).add(e),e.select(),j(this,zs,xa).call(this,e.propertiesToUpdate),j(this,Zn,Br).call(this,{hasSelectedEditor:!0})}isSelected(e){return f(this,pt).has(e)}get firstSelectedEditor(){return f(this,pt).values().next().value}unselect(e){e.unselect(),f(this,pt).delete(e),j(this,Zn,Br).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return f(this,pt).size!==0}get isEnterHandled(){return f(this,pt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;f(this,cs).undo(),j(this,Zn,Br).call(this,{hasSomethingToUndo:f(this,cs).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:j(this,Sh,Rv).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){f(this,cs).redo(),j(this,Zn,Br).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:f(this,cs).hasSomethingToRedo(),isEmpty:j(this,Sh,Rv).call(this)})}addCommands(e){f(this,cs).add(e),j(this,Zn,Br).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:j(this,Sh,Rv).call(this)})}cleanUndoStack(e){f(this,cs).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const n=e?[e]:[...f(this,pt)],r=()=>{var o;(o=this._editorUndoBar)==null||o.show(i,n.length===1?n[0].editorType:n.length);for(const a of n)a.remove()},i=()=>{for(const o of n)j(this,Qb,xR).call(this,o)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=f(this,Si))==null||e.commitOrRemove()}hasSomethingToControl(){return f(this,Si)||this.hasSelection}selectAll(){for(const e of f(this,pt))e.commit();j(this,Jb,AR).call(this,f(this,Sn).values())}unselectAll(){var e;if(!(f(this,Si)&&(f(this,Si).commitOrRemove(),f(this,Ln)!==Fe.NONE))&&!((e=f(this,fc))!=null&&e.commitOrRemove())&&this.hasSelection){for(const n of f(this,pt))n.unselect();f(this,pt).clear(),j(this,Zn,Br).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;f(this,wc)[0]+=e,f(this,wc)[1]+=n;const[i,s]=f(this,wc),o=[...f(this,pt)],a=1e3;f(this,Do)&&clearTimeout(f(this,Do)),R(this,Do,setTimeout(()=>{R(this,Do,null),f(this,wc)[0]=f(this,wc)[1]=0,this.addCommands({cmd:()=>{for(const l of o)f(this,Sn).has(l.id)&&(l.translateInPage(i,s),l.translationDone())},undo:()=>{for(const l of o)f(this,Sn).has(l.id)&&(l.translateInPage(-i,-s),l.translationDone())},mustExec:!1})},a));for(const l of o)l.translateInPage(e,n),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),R(this,Ro,new Map);for(const e of f(this,pt))f(this,Ro).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!f(this,Ro))return!1;this.disableUserSelect(!1);const e=f(this,Ro);R(this,Ro,null);let n=!1;for(const[{x:i,y:s,pageIndex:o},a]of e)a.newX=i,a.newY=s,a.newPageIndex=o,n||(n=i!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!n)return!1;const r=(i,s,o,a)=>{if(f(this,Sn).has(i.id)){const l=f(this,Jn).get(a);l?i._setParentAndPosition(l,s,o):(i.pageIndex=a,i.x=s,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:o,newPageIndex:a}]of e)r(i,s,o,a)},undo:()=>{for(const[i,{savedX:s,savedY:o,savedPageIndex:a}]of e)r(i,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(f(this,Ro))for(const r of f(this,Ro).keys())r.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||f(this,pt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return f(this,Si)===e}getActive(){return f(this,Si)}getMode(){return f(this,Ln)}get imageManager(){return Ze(this,"imageManager",new mR)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let c=0,u=n.rangeCount;c<u;c++)if(!e.contains(n.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(c,u,h,d)=>({x:(u-i)/o,y:1-(c+h-r)/s,width:d/o,height:h/s});break;case"180":a=(c,u,h,d)=>({x:1-(c+h-r)/s,y:1-(u+d-i)/o,width:h/s,height:d/o});break;case"270":a=(c,u,h,d)=>({x:1-(u+d-i)/o,y:(c-r)/s,width:d/o,height:h/s});break;default:a=(c,u,h,d)=>({x:(c-r)/s,y:(u-i)/o,width:h/s,height:d/o});break}const l=[];for(let c=0,u=n.rangeCount;c<u;c++){const h=n.getRangeAt(c);if(!h.collapsed)for(const{x:d,y:p,width:y,height:g}of h.getClientRects())y===0||g===0||l.push(a(d,p,y,g))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:n}){(f(this,Xp)||R(this,Xp,new Map)).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){var n;(n=f(this,Xp))==null||n.delete(e)}renderAnnotationElement(e){var i;const n=(i=f(this,Xp))==null?void 0:i.get(e.data.id);if(!n)return;const r=f(this,Oa).getRawValue(n);r&&(f(this,Ln)===Fe.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,n,r){var s;const i=(s=f(this,vc))==null?void 0:s.get(e);i&&(i.setCanvas(n,r),f(this,vc).delete(e))}addMissingCanvas(e,n){(f(this,vc)||R(this,vc,new Map)).set(e,n)}};qp=new WeakMap,Si=new WeakMap,Sn=new WeakMap,Jn=new WeakMap,Kp=new WeakMap,Oa=new WeakMap,Xp=new WeakMap,cs=new WeakMap,dc=new WeakMap,fc=new WeakMap,Yp=new WeakMap,wh=new WeakMap,Ro=new WeakMap,Us=new WeakMap,_h=new WeakMap,Fb=new WeakMap,Vb=new WeakMap,Qp=new WeakMap,Bb=new WeakMap,No=new WeakMap,pc=new WeakMap,Jp=new WeakMap,gc=new WeakMap,Mo=new WeakMap,mT=new WeakMap,mc=new WeakMap,Ub=new WeakMap,yc=new WeakMap,xh=new WeakMap,Ah=new WeakMap,vc=new WeakMap,zb=new WeakMap,Ln=new WeakMap,pt=new WeakMap,ka=new WeakMap,bc=new WeakMap,Eh=new WeakMap,Hb=new WeakMap,Wb=new WeakMap,wc=new WeakMap,Do=new WeakMap,Ra=new WeakMap,Gb=new WeakMap,us=new WeakMap,Zp=new WeakSet,SA=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},qb=new WeakSet,vR=function(e){const{currentLayer:n}=this;if(n.hasTextLayer(e))return n;for(const r of f(this,Jn).values())if(r.hasTextLayer(e))return r;return null},yT=new WeakSet,TG=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=j(this,Zp,SA).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(f(this,Mo)||R(this,Mo,new Ffe(this)),f(this,Mo).show(r,i,this.direction==="ltr"))},vT=new WeakSet,PG=function(){var s,o,a;const e=document.getSelection();if(!e||e.isCollapsed){f(this,ka)&&((s=f(this,Mo))==null||s.hide(),R(this,ka,null),j(this,Zn,Br).call(this,{hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===f(this,ka))return;const i=j(this,Zp,SA).call(this,e).closest(".textLayer");if(!i){f(this,ka)&&((o=f(this,Mo))==null||o.hide(),R(this,ka,null),j(this,Zn,Br).call(this,{hasSelectedText:!1}));return}if((a=f(this,Mo))==null||a.hide(),R(this,ka,n),j(this,Zn,Br).call(this,{hasSelectedText:!0}),!(f(this,Ln)!==Fe.HIGHLIGHT&&f(this,Ln)!==Fe.NONE)&&(f(this,Ln)===Fe.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),R(this,gc,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=f(this,Ln)===Fe.HIGHLIGHT?j(this,qb,vR).call(this,i):null;l==null||l.toggleDrawing();const c=new AbortController,u=this.combinedSignal(c),h=d=>{d.type==="pointerup"&&d.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),d.type==="pointerup"&&j(this,eg,TA).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:u}),window.addEventListener("blur",h,{signal:u})}},eg=new WeakSet,TA=function(e=""){f(this,Ln)===Fe.HIGHLIGHT?this.highlightSelection(e):f(this,Fb)&&j(this,yT,TG).call(this)},bT=new WeakSet,CG=function(){document.addEventListener("selectionchange",j(this,vT,PG).bind(this),{signal:this._signal})},wT=new WeakSet,IG=function(){if(f(this,pc))return;R(this,pc,new AbortController);const e=this.combinedSignal(f(this,pc));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},_T=new WeakSet,OG=function(){var e;(e=f(this,pc))==null||e.abort(),R(this,pc,null)},Kb=new WeakSet,bR=function(){if(f(this,yc))return;R(this,yc,new AbortController);const e=this.combinedSignal(f(this,yc));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},xT=new WeakSet,kG=function(){var e;(e=f(this,yc))==null||e.abort(),R(this,yc,null)},Xb=new WeakSet,wR=function(){if(f(this,dc))return;R(this,dc,new AbortController);const e=this.combinedSignal(f(this,dc));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Yb=new WeakSet,_R=function(){var e;(e=f(this,dc))==null||e.abort(),R(this,dc,null)},AT=new WeakSet,RG=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Zn=new WeakSet,Br=function(e){Object.entries(e).some(([r,i])=>f(this,Wb)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(f(this,Wb),e)}),f(this,Ln)===Fe.HIGHLIGHT&&e.hasSelectedEditor===!1&&j(this,zs,xa).call(this,[[et.HIGHLIGHT_FREE,!0]]))},zs=new WeakSet,xa=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},ET=new WeakSet,NG=async function(){if(!f(this,mc)){R(this,mc,!0);const e=[];for(const n of f(this,Jn).values())e.push(n.enable());await Promise.all(e);for(const n of f(this,Sn).values())n.enable()}},ST=new WeakSet,MG=function(){if(this.unselectAll(),f(this,mc)){R(this,mc,!1);for(const e of f(this,Jn).values())e.disable();for(const e of f(this,Sn).values())e.disable()}},Qb=new WeakSet,xR=function(e){const n=f(this,Jn).get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},TT=new WeakSet,DG=function(){let e=null;for(e of f(this,pt));return e},Sh=new WeakSet,Rv=function(){if(f(this,Sn).size===0)return!0;if(f(this,Sn).size===1)for(const e of f(this,Sn).values())return e.isEmpty();return!1},Jb=new WeakSet,AR=function(e){for(const n of f(this,pt))n.unselect();f(this,pt).clear();for(const n of e)n.isEmpty()||(f(this,pt).add(n),n.select());j(this,Zn,Br).call(this,{hasSelectedEditor:this.hasSelection})},de(Ap,"TRANSLATE_SMALL",1),de(Ap,"TRANSLATE_BIG",10);let nf=Ap;var jn,$o,Hs,tg,Lo,Ti,ng,jo,oi,Na,Th,Fo,_c,Ph,Nv,rg,PA;const Ur=class Ur{constructor(e){k(this,Ph);k(this,rg);k(this,jn,null);k(this,$o,!1);k(this,Hs,null);k(this,tg,null);k(this,Lo,null);k(this,Ti,null);k(this,ng,!1);k(this,jo,null);k(this,oi,null);k(this,Na,null);k(this,Th,null);k(this,Fo,!1);R(this,oi,e),R(this,Fo,e._uiManager.useNewAltTextFlow),f(Ur,_c)||R(Ur,_c,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Ur._l10n??(Ur._l10n=e)}async render(){const e=R(this,Hs,document.createElement("button"));e.className="altText",e.tabIndex="0";const n=R(this,tg,document.createElement("span"));e.append(n),f(this,Fo)?(e.classList.add("new"),e.setAttribute("data-l10n-id",f(Ur,_c).missing),n.setAttribute("data-l10n-id",f(Ur,_c)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=f(this,oi)._uiManager._signal;e.addEventListener("contextmenu",wo,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),f(this,oi)._uiManager.editAltText(f(this,oi)),f(this,Fo)&&f(this,oi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:f(this,Ph,Nv)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(R(this,ng,!0),i(s))},{signal:r}),await j(this,rg,PA).call(this),e}finish(){f(this,Hs)&&(f(this,Hs).focus({focusVisible:f(this,ng)}),R(this,ng,!1))}isEmpty(){return f(this,Fo)?f(this,jn)===null:!f(this,jn)&&!f(this,$o)}hasData(){return f(this,Fo)?f(this,jn)!==null||!!f(this,Na):this.isEmpty()}get guessedText(){return f(this,Na)}async setGuessedText(e){f(this,jn)===null&&(R(this,Na,e),R(this,Th,await Ur._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),j(this,rg,PA).call(this))}toggleAltTextBadge(e=!1){var n;if(!f(this,Fo)||f(this,jn)){(n=f(this,jo))==null||n.remove(),R(this,jo,null);return}if(!f(this,jo)){const r=R(this,jo,document.createElement("div"));r.className="noAltTextBadge",f(this,oi).div.append(r)}f(this,jo).classList.toggle("hidden",!e)}serialize(e){let n=f(this,jn);return!e&&f(this,Na)===n&&(n=f(this,Th)),{altText:n,decorative:f(this,$o),guessedText:f(this,Na),textWithDisclaimer:f(this,Th)}}get data(){return{altText:f(this,jn),decorative:f(this,$o)}}set data({altText:e,decorative:n,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(R(this,Na,r),R(this,Th,i)),!(f(this,jn)===e&&f(this,$o)===n)&&(s||(R(this,jn,e),R(this,$o,n)),j(this,rg,PA).call(this))}toggle(e=!1){f(this,Hs)&&(!e&&f(this,Ti)&&(clearTimeout(f(this,Ti)),R(this,Ti,null)),f(this,Hs).disabled=!e)}shown(){f(this,oi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:f(this,Ph,Nv)}})}destroy(){var e,n;(e=f(this,Hs))==null||e.remove(),R(this,Hs,null),R(this,tg,null),R(this,Lo,null),(n=f(this,jo))==null||n.remove(),R(this,jo,null)}};jn=new WeakMap,$o=new WeakMap,Hs=new WeakMap,tg=new WeakMap,Lo=new WeakMap,Ti=new WeakMap,ng=new WeakMap,jo=new WeakMap,oi=new WeakMap,Na=new WeakMap,Th=new WeakMap,Fo=new WeakMap,_c=new WeakMap,Ph=new WeakSet,Nv=function(){return f(this,jn)&&"added"||f(this,jn)===null&&this.guessedText&&"review"||"missing"},rg=new WeakSet,PA=async function(){var i,s,o;const e=f(this,Hs);if(!e)return;if(f(this,Fo)){if(e.classList.toggle("done",!!f(this,jn)),e.setAttribute("data-l10n-id",f(Ur,_c)[f(this,Ph,Nv)]),(i=f(this,tg))==null||i.setAttribute("data-l10n-id",f(Ur,_c)[`${f(this,Ph,Nv)}-label`]),!f(this,jn)){(s=f(this,Lo))==null||s.remove();return}}else{if(!f(this,jn)&&!f(this,$o)){e.classList.remove("done"),(o=f(this,Lo))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=f(this,Lo);if(!n){R(this,Lo,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${f(this,oi).id}`;const a=100,l=f(this,oi)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(f(this,Ti)),R(this,Ti,null)},{once:!0}),e.addEventListener("mouseenter",()=>{R(this,Ti,setTimeout(()=>{R(this,Ti,null),f(this,Lo).classList.add("show"),f(this,oi)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:l}),e.addEventListener("mouseleave",()=>{var c;f(this,Ti)&&(clearTimeout(f(this,Ti)),R(this,Ti,null)),(c=f(this,Lo))==null||c.classList.remove("show")},{signal:l})}f(this,$o)?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=f(this,jn)),n.parentNode||e.append(n);const r=f(this,oi).getElementForAltText();r==null||r.setAttribute("aria-describedby",n.id)},k(Ur,_c,null),de(Ur,"_l10n",null);let JE=Ur;var ig,Ch,Zb,ew,tw,nw,rw,Ma,Ih,Da,Oh,$a,PT,$G,CT,LG,IT,jG;const Pj=class Pj{constructor({container:e,isPinchingDisabled:n=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:o=null,signal:a}){k(this,PT);k(this,CT);k(this,IT);k(this,ig,void 0);k(this,Ch,!1);k(this,Zb,null);k(this,ew,void 0);k(this,tw,void 0);k(this,nw,void 0);k(this,rw,void 0);k(this,Ma,null);k(this,Ih,void 0);k(this,Da,null);k(this,Oh,void 0);k(this,$a,null);R(this,ig,e),R(this,Zb,r),R(this,ew,n),R(this,tw,i),R(this,nw,s),R(this,rw,o),R(this,Oh,new AbortController),R(this,Ih,AbortSignal.any([a,f(this,Oh).signal])),e.addEventListener("touchstart",j(this,PT,$G).bind(this),{passive:!1,signal:f(this,Ih)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/da.pixelRatio}destroy(){var e,n;(e=f(this,Oh))==null||e.abort(),R(this,Oh,null),(n=f(this,Ma))==null||n.abort(),R(this,Ma,null)}};ig=new WeakMap,Ch=new WeakMap,Zb=new WeakMap,ew=new WeakMap,tw=new WeakMap,nw=new WeakMap,rw=new WeakMap,Ma=new WeakMap,Ih=new WeakMap,Da=new WeakMap,Oh=new WeakMap,$a=new WeakMap,PT=new WeakSet,$G=function(e){var i,s,o;if((i=f(this,ew))!=null&&i.call(this))return;if(e.touches.length===1){if(f(this,Ma))return;const a=R(this,Ma,new AbortController),l=AbortSignal.any([f(this,Ih),a.signal]),c=f(this,ig),u={capture:!0,signal:l,passive:!1},h=d=>{var p;d.pointerType==="touch"&&((p=f(this,Ma))==null||p.abort(),R(this,Ma,null))};c.addEventListener("pointerdown",d=>{d.pointerType==="touch"&&(vn(d),h(d))},u),c.addEventListener("pointerup",h,u),c.addEventListener("pointercancel",h,u);return}if(!f(this,$a)){R(this,$a,new AbortController);const a=AbortSignal.any([f(this,Ih),f(this,$a).signal]),l=f(this,ig),c={signal:a,capture:!1,passive:!1};l.addEventListener("touchmove",j(this,CT,LG).bind(this),c);const u=j(this,IT,jG).bind(this);l.addEventListener("touchend",u,c),l.addEventListener("touchcancel",u,c),c.capture=!0,l.addEventListener("pointerdown",vn,c),l.addEventListener("pointermove",vn,c),l.addEventListener("pointercancel",vn,c),l.addEventListener("pointerup",vn,c),(s=f(this,tw))==null||s.call(this)}if(vn(e),e.touches.length!==2||(o=f(this,Zb))!=null&&o.call(this)){R(this,Da,null);return}let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]),R(this,Da,{touch0X:n.screenX,touch0Y:n.screenY,touch1X:r.screenX,touch1Y:r.screenY})},CT=new WeakSet,LG=function(e){var S;if(!f(this,Da)||e.touches.length!==2)return;vn(e);let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]);const{screenX:i,screenY:s}=n,{screenX:o,screenY:a}=r,l=f(this,Da),{touch0X:c,touch0Y:u,touch1X:h,touch1Y:d}=l,p=h-c,y=d-u,g=o-i,v=a-s,b=Math.hypot(g,v)||1,w=Math.hypot(p,y)||1;if(!f(this,Ch)&&Math.abs(w-b)<=Pj.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=o,l.touch1Y=a,!f(this,Ch)){R(this,Ch,!0);return}const _=[(i+o)/2,(s+a)/2];(S=f(this,nw))==null||S.call(this,_,w,b)},IT=new WeakSet,jG=function(e){var n;e.touches.length>=2||(f(this,$a)&&(f(this,$a).abort(),R(this,$a,null),(n=f(this,rw))==null||n.call(this)),f(this,Da)&&(vn(e),R(this,Da,null),R(this,Ch,!1)))};let ZE=Pj;var kh,Ws,Rt,sg,xc,iw,Rh,er,Nh,La,Ac,sw,Mh,Pi,ow,Dh,ja,Vo,og,ag,hs,$h,aw,OT,lw,ER,cw,SR,lg,CA,kT,FG,RT,VG,uw,TR,cg,IA,hw,PR,NT,BG,MT,UG,DT,zG,dw,CR,$T,HG,fw,IR,LT,WG,jT,GG,FT,qG,pw,OR,Lh,Mv;const ze=class ze{constructor(e){k(this,lw);k(this,lg);k(this,kT);k(this,RT);k(this,uw);k(this,cg);k(this,hw);k(this,NT);k(this,MT);k(this,DT);k(this,dw);k(this,$T);k(this,fw);k(this,LT);k(this,jT);k(this,FT);k(this,pw);k(this,Lh);k(this,kh,null);k(this,Ws,null);k(this,Rt,null);k(this,sg,!1);k(this,xc,null);k(this,iw,"");k(this,Rh,!1);k(this,er,null);k(this,Nh,null);k(this,La,null);k(this,Ac,null);k(this,sw,"");k(this,Mh,!1);k(this,Pi,null);k(this,ow,!1);k(this,Dh,!1);k(this,ja,!1);k(this,Vo,null);k(this,og,0);k(this,ag,0);k(this,hs,null);k(this,$h,null);de(this,"isSelected",!1);de(this,"_isCopy",!1);de(this,"_editToolbar",null);de(this,"_initialOptions",Object.create(null));de(this,"_initialData",null);de(this,"_isVisible",!0);de(this,"_uiManager",null);de(this,"_focusEventsAllowed",!0);k(this,aw,!1);k(this,OT,ze._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:n,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=ze.prototype._resizeWithKeyboard,n=nf.TRANSLATE_SMALL,r=nf.TRANSLATE_BIG;return Ze(this,"_resizerKeyboardManager",new m1([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],ze.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return Ze(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new Ufe({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n){if(ze._l10n??(ze._l10n=e),ze._l10nResizer||(ze._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),ze._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);ze._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){bt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return f(this,aw)}set _isDraggable(e){var n;R(this,aw,e),(n=this.div)==null||n.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=f(this,OT)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):j(this,Lh,Mv).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(f(this,Mh)?R(this,Mh,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const n=e.relatedTarget;n!=null&&n.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,r,i){const[s,o]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(n+i)/o,this.fixAndSetPosition()}_moveAfterPaste(e,n){const[r,i]=this.parentDimensions;this.setAt(e*r,n*i,this.width*r,this.height*i),this._onTranslated()}translate(e,n){j(this,lw,ER).call(this,this.parentDimensions,e,n)}translateInPage(e,n){f(this,Pi)||R(this,Pi,[this.x,this.y,this.width,this.height]),j(this,lw,ER).call(this,this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,n){f(this,Pi)||R(this,Pi,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=n/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:d}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,d)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:a}=this;const[l,c]=this.getBaseTranslation();o+=l,a+=c;const{style:u}=r;u.left=`${(100*o).toFixed(2)}%`,u.top=`${(100*a).toFixed(2)}%`,this._onTranslating(o,a),r.scrollIntoView({block:"nearest"})}_onTranslating(e,n){}_onTranslated(e,n){}get _hasBeenMoved(){return!!f(this,Pi)&&(f(this,Pi)[0]!==this.x||f(this,Pi)[1]!==this.y)}get _hasBeenResized(){return!!f(this,Pi)&&(f(this,Pi)[2]!==this.width||f(this,Pi)[3]!==this.height)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:r}=ze,i=r/e,s=r/n;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:n},pageDimensions:[r,i]}=this;let{x:s,y:o,width:a,height:l}=this;if(a*=r,l*=i,s*=r,o*=i,this._mustFixPosition)switch(e){case 0:s=qr(s,0,r-a),o=qr(o,0,i-l);break;case 90:s=qr(s,0,r-l),o=qr(o,a,i);break;case 180:s=qr(s,a,r),o=qr(o,l,i);break;case 270:s=qr(s,l,r),o=qr(o,0,i-a);break}this.x=s/=r,this.y=o/=i;const[c,u]=this.getBaseTranslation();s+=c,o+=u,n.left=`${(100*s).toFixed(2)}%`,n.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,n){var r;return j(r=ze,cw,SR).call(r,e,n,this.parentRotation)}pageTranslationToScreen(e,n){var r;return j(r=ze,cw,SR).call(r,e,n,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,r]}=this;return[n*e,r*e]}setDims(e,n){const[r,i]=this.parentDimensions,{style:s}=this.div;s.width=`${(100*e/r).toFixed(2)}%`,f(this,Rh)||(s.height=`${(100*n/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:n,width:r}=e,i=r.endsWith("%"),s=!f(this,Rh)&&n.endsWith("%");if(i&&s)return;const[o,a]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/o).toFixed(2)}%`),!f(this,Rh)&&!s&&(e.height=`${(100*parseFloat(n)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=f(this,Rt))==null||e.finish()}async addEditToolbar(){return this._editToolbar||f(this,Dh)?this._editToolbar:(this._editToolbar=new gR(this),this.div.append(this._editToolbar.render()),f(this,Rt)&&await this._editToolbar.addAltText(f(this,Rt)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=f(this,Rt))==null||e.destroy())}addContainer(e){var r;const n=(r=this._editToolbar)==null?void 0:r.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){f(this,Rt)||(JE.initialize(ze._l10n),R(this,Rt,new JE(this)),f(this,kh)&&(f(this,Rt).data=f(this,kh),R(this,kh,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=f(this,Rt))==null?void 0:e.data}set altTextData(e){f(this,Rt)&&(f(this,Rt).data=e)}get guessedAltText(){var e;return(e=f(this,Rt))==null?void 0:e.guessedText}async setGuessedAltText(e){var n;await((n=f(this,Rt))==null?void 0:n.setGuessedText(e))}serializeAltText(e){var n;return(n=f(this,Rt))==null?void 0:n.serialize(e)}hasAltText(){return!!f(this,Rt)&&!f(this,Rt).isEmpty()}hasAltTextData(){var e;return((e=f(this,Rt))==null?void 0:e.hasData())??!1}render(){var o;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=f(this,sg)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),j(this,fw,IR).call(this);const[n,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/n).toFixed(2)}%`,e.style.maxHeight=`${(100*n/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),EG(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(f(this,$h)||R(this,$h,new ZE({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:j(this,NT,BG).bind(this),onPinching:j(this,MT,UG).bind(this),onPinchEnd:j(this,DT,zG).bind(this),signal:this._uiManager._signal}))),(o=this._uiManager._editorUndoBar)==null||o.hide(),e}pointerdown(e){const{isMac:n}=ur.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(R(this,Mh,!0),this._isDraggable){j(this,$T,HG).call(this,e);return}j(this,dw,CR).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){f(this,Vo)&&clearTimeout(f(this,Vo)),R(this,Vo,setTimeout(()=>{var e;R(this,Vo,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,n,r){e.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,n,r=this.rotation){const i=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,c=e/i,u=n/i,h=this.x*s,d=this.y*o,p=this.width*s,y=this.height*o;switch(r){case 0:return[h+c+a,o-d-u-y+l,h+c+p+a,o-d-u+l];case 90:return[h+u+a,o-d+c+l,h+u+y+a,o-d+c+p+l];case 180:return[h-c-p+a,o-d+u+l,h-c+a,o-d+u+y+l];case 270:return[h-u-y+a,o-d-c-p+l,h-u+a,o-d-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[r,i,s,o]=e,a=s-r,l=o-i;switch(this.rotation){case 0:return[r,n-o,a,l];case 90:return[r,n-i,l,a];case 180:return[s,n-i,a,l];case 270:return[s,n-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),R(this,Dh,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),R(this,Dh,!1),!0):!1}isInEditMode(){return f(this,Dh)}shouldGetKeyboardEvents(){return f(this,ja)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:n,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:o}=window;return n<o&&i>0&&e<s&&r>0}rebuild(){j(this,fw,IR).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,n=null){bt("An editor must be serializable")}static async deserialize(e,n,r){const i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r});i.rotation=e.rotation,R(i,kh,e.accessibilityData),i._isCopy=e.isCopy||!1;const[s,o]=i.pageDimensions,[a,l,c,u]=i.getRectInCurrentCoords(e.rect,o);return i.x=a/s,i.y=l/o,i.width=c/s,i.height=u/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,n;if((e=f(this,Ac))==null||e.abort(),R(this,Ac,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),f(this,Vo)&&(clearTimeout(f(this,Vo)),R(this,Vo,null)),j(this,Lh,Mv).call(this),this.removeEditToolbar(),f(this,hs)){for(const r of f(this,hs).values())clearTimeout(r);R(this,hs,null)}this.parent=null,(n=f(this,$h))==null||n.destroy(),R(this,$h,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(j(this,kT,FG).call(this),f(this,er).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),R(this,La,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const n=f(this,er).children;if(!f(this,Ws)){R(this,Ws,Array.from(n));const o=j(this,LT,WG).bind(this),a=j(this,jT,GG).bind(this),l=this._uiManager._signal;for(const c of f(this,Ws)){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",o,{signal:l}),c.addEventListener("blur",a,{signal:l}),c.addEventListener("focus",j(this,FT,qG).bind(this,u),{signal:l}),c.setAttribute("data-l10n-id",ze._l10nResizer[u])}}const r=f(this,Ws)[0];let i=0;for(const o of n){if(o===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(f(this,Ws).length/4);if(s!==i){if(s<i)for(let a=0;a<i-s;a++)f(this,er).append(f(this,er).firstChild);else if(s>i)for(let a=0;a<s-i;a++)f(this,er).firstChild.before(f(this,er).lastChild);let o=0;for(const a of n){const c=f(this,Ws)[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",ze._l10nResizer[c])}}j(this,pw,OR).call(this,0),R(this,ja,!0),f(this,er).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,n){f(this,ja)&&j(this,hw,PR).call(this,f(this,sw),{deltaX:e,deltaY:n,fromKeyboard:!0})}_stopResizingWithKeyboard(){j(this,Lh,Mv).call(this),this.div.focus()}select(){var e,n,r;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(n=this._editToolbar)==null||n.show(),(r=f(this,Rt))==null||r.toggleAltTextBadge(!1)}}unselect(){var e,n,r,i,s;this.isSelected&&(this.isSelected=!1,(e=f(this,er))==null||e.classList.add("hidden"),(n=this.div)==null||n.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=f(this,Rt))==null||s.toggleAltTextBadge(!0))}updateParams(e,n){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return f(this,ow)}set isEditing(e){R(this,ow,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,n){R(this,Rh,!0);const r=e/n,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){f(this,hs)||R(this,hs,new Map);const{action:r}=e;let i=f(this,hs).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),f(this,hs).delete(r),f(this,hs).size===0&&R(this,hs,null)},ze._telemetryTimeout),f(this,hs).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),R(this,sg,!1)}disable(){this.div&&(this.div.tabIndex=-1),R(this,sg,!0)}renderAnnotationElement(e){let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(e){const{firstChild:n}=e.container;(n==null?void 0:n.nodeName)==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}};kh=new WeakMap,Ws=new WeakMap,Rt=new WeakMap,sg=new WeakMap,xc=new WeakMap,iw=new WeakMap,Rh=new WeakMap,er=new WeakMap,Nh=new WeakMap,La=new WeakMap,Ac=new WeakMap,sw=new WeakMap,Mh=new WeakMap,Pi=new WeakMap,ow=new WeakMap,Dh=new WeakMap,ja=new WeakMap,Vo=new WeakMap,og=new WeakMap,ag=new WeakMap,hs=new WeakMap,$h=new WeakMap,aw=new WeakMap,OT=new WeakMap,lw=new WeakSet,ER=function([e,n],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/n,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},cw=new WeakSet,SR=function(e,n,r){switch(r){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}},lg=new WeakSet,CA=function(e){switch(e){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}},kT=new WeakSet,FG=function(){if(f(this,er))return;R(this,er,document.createElement("div")),f(this,er).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of e){const i=document.createElement("div");f(this,er).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",j(this,RT,VG).bind(this,r),{signal:n}),i.addEventListener("contextmenu",wo,{signal:n}),i.tabIndex=-1}this.div.prepend(f(this,er))},RT=new WeakSet,VG=function(e,n){var u;n.preventDefault();const{isMac:r}=ur.platform;if(n.button!==0||n.ctrlKey&&r)return;(u=f(this,Rt))==null||u.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,R(this,Nh,[n.screenX,n.screenY]);const s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",j(this,hw,PR).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",vn,{passive:!1,signal:o}),window.addEventListener("contextmenu",wo,{signal:o}),R(this,La,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const a=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const c=()=>{var h;s.abort(),this.parent.togglePointerEvents(!0),(h=f(this,Rt))==null||h.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=a,this.div.style.cursor=l,j(this,cg,IA).call(this)};window.addEventListener("pointerup",c,{signal:o}),window.addEventListener("blur",c,{signal:o})},uw=new WeakSet,TR=function(e,n,r,i){this.width=r,this.height=i,this.x=e,this.y=n;const[s,o]=this.parentDimensions;this.setDims(s*r,o*i),this.fixAndSetPosition(),this._onResized()},cg=new WeakSet,IA=function(){if(!f(this,La))return;const{savedX:e,savedY:n,savedWidth:r,savedHeight:i}=f(this,La);R(this,La,null);const s=this.x,o=this.y,a=this.width,l=this.height;s===e&&o===n&&a===r&&l===i||this.addCommands({cmd:j(this,uw,TR).bind(this,s,o,a,l),undo:j(this,uw,TR).bind(this,e,n,r,i),mustExec:!0})},hw=new WeakSet,PR=function(e,n){const[r,i]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,c=ze.MIN_SIZE/r,u=ze.MIN_SIZE/i,h=j(this,lg,CA).call(this,this.rotation),d=(H,G)=>[h[0]*H+h[2]*G,h[1]*H+h[3]*G],p=j(this,lg,CA).call(this,360-this.rotation),y=(H,G)=>[p[0]*H+p[2]*G,p[1]*H+p[3]*G];let g,v,b=!1,w=!1;switch(e){case"topLeft":b=!0,g=(H,G)=>[0,0],v=(H,G)=>[H,G];break;case"topMiddle":g=(H,G)=>[H/2,0],v=(H,G)=>[H/2,G];break;case"topRight":b=!0,g=(H,G)=>[H,0],v=(H,G)=>[0,G];break;case"middleRight":w=!0,g=(H,G)=>[H,G/2],v=(H,G)=>[0,G/2];break;case"bottomRight":b=!0,g=(H,G)=>[H,G],v=(H,G)=>[0,0];break;case"bottomMiddle":g=(H,G)=>[H/2,G],v=(H,G)=>[H/2,0];break;case"bottomLeft":b=!0,g=(H,G)=>[0,G],v=(H,G)=>[H,0];break;case"middleLeft":w=!0,g=(H,G)=>[0,G/2],v=(H,G)=>[H,G/2];break}const _=g(a,l),S=v(a,l);let x=d(...S);const T=ze._round(s+x[0]),A=ze._round(o+x[1]);let E=1,O=1,M,D;if(n.fromKeyboard)({deltaX:M,deltaY:D}=n);else{const{screenX:H,screenY:G}=n,[z,X]=f(this,Nh);[M,D]=this.screenToPageTranslation(H-z,G-X),f(this,Nh)[0]=H,f(this,Nh)[1]=G}if([M,D]=y(M/r,D/i),b){const H=Math.hypot(a,l);E=O=Math.max(Math.min(Math.hypot(S[0]-_[0]-M,S[1]-_[1]-D)/H,1/a,1/l),c/a,u/l)}else w?E=qr(Math.abs(S[0]-_[0]-M),c,1)/a:O=qr(Math.abs(S[1]-_[1]-D),u,1)/l;const $=ze._round(a*E),L=ze._round(l*O);x=d(...v($,L));const W=T-x[0],q=A-x[1];f(this,Pi)||R(this,Pi,[this.x,this.y,this.width,this.height]),this.width=$,this.height=L,this.x=W,this.y=q,this.setDims(r*$,i*L),this.fixAndSetPosition(),this._onResizing()},NT=new WeakSet,BG=function(){var e;R(this,La,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=f(this,Rt))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},MT=new WeakSet,UG=function(e,n,r){let s=.7*(r/n)+1-.7;if(s===1)return;const o=j(this,lg,CA).call(this,this.rotation),a=(T,A)=>[o[0]*T+o[2]*A,o[1]*T+o[3]*A],[l,c]=this.parentDimensions,u=this.x,h=this.y,d=this.width,p=this.height,y=ze.MIN_SIZE/l,g=ze.MIN_SIZE/c;s=Math.max(Math.min(s,1/d,1/p),y/d,g/p);const v=ze._round(d*s),b=ze._round(p*s);if(v===d&&b===p)return;f(this,Pi)||R(this,Pi,[u,h,d,p]);const w=a(d/2,p/2),_=ze._round(u+w[0]),S=ze._round(h+w[1]),x=a(v/2,b/2);this.x=_-x[0],this.y=S-x[1],this.width=v,this.height=b,this.setDims(l*v,c*b),this.fixAndSetPosition(),this._onResizing()},DT=new WeakSet,zG=function(){var e;(e=f(this,Rt))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),j(this,cg,IA).call(this)},dw=new WeakSet,CR=function(e){const{isMac:n}=ur.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)},$T=new WeakSet,HG=function(e){const{isSelected:n}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),o={capture:!0,passive:!1,signal:s},a=c=>{i.abort(),R(this,xc,null),R(this,Mh,!1),this._uiManager.endDragSession()||j(this,dw,CR).call(this,c),r&&this._onStopDragging()};n&&(R(this,og,e.clientX),R(this,ag,e.clientY),R(this,xc,e.pointerId),R(this,iw,e.pointerType),window.addEventListener("pointermove",c=>{r||(r=!0,this._onStartDragging());const{clientX:u,clientY:h,pointerId:d}=c;if(d!==f(this,xc)){vn(c);return}const[p,y]=this.screenToPageTranslation(u-f(this,og),h-f(this,ag));R(this,og,u),R(this,ag,h),this._uiManager.dragSelectedEditors(p,y)},o),window.addEventListener("touchmove",vn,o),window.addEventListener("pointerdown",c=>{c.pointerType===f(this,iw)&&(f(this,$h)||c.isPrimary)&&a(c),vn(c)},o));const l=c=>{if(!f(this,xc)||f(this,xc)===c.pointerId){a(c);return}vn(c)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},fw=new WeakSet,IR=function(){if(f(this,Ac)||!this.div)return;R(this,Ac,new AbortController);const e=this._uiManager.combinedSignal(f(this,Ac));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},LT=new WeakSet,WG=function(e){ze._resizerKeyboardManager.exec(this,e)},jT=new WeakSet,GG=function(e){var n;f(this,ja)&&((n=e.relatedTarget)==null?void 0:n.parentNode)!==f(this,er)&&j(this,Lh,Mv).call(this)},FT=new WeakSet,qG=function(e){R(this,sw,f(this,ja)?e:"")},pw=new WeakSet,OR=function(e){if(f(this,Ws))for(const n of f(this,Ws))n.tabIndex=e},Lh=new WeakSet,Mv=function(){R(this,ja,!1),j(this,pw,OR).call(this,-1),j(this,cg,IA).call(this)},k(ze,cw),de(ze,"_l10n",null),de(ze,"_l10nResizer",null),de(ze,"_borderLineWidth",-1),de(ze,"_colorManager",new yR),de(ze,"_zIndex",1),de(ze,"_telemetryTimeout",1e3);let Pt=ze;class Ufe extends Pt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const k6=3285377520,is=4294901760,To=65535;class KG{constructor(e){this.h1=e?e&4294967295:k6,this.h2=e?e&4294967295:k6}update(e){let n,r;if(typeof e=="string"){n=new Uint8Array(e.length*2),r=0;for(let g=0,v=e.length;g<v;g++){const b=e.charCodeAt(g);b<=255?n[r++]=b:(n[r++]=b>>>8,n[r++]=b&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,o=new Uint32Array(n.buffer,0,i);let a=0,l=0,c=this.h1,u=this.h2;const h=3432918353,d=461845907,p=h&To,y=d&To;for(let g=0;g<i;g++)g&1?(a=o[g],a=a*h&is|a*p&To,a=a<<15|a>>>17,a=a*d&is|a*y&To,c^=a,c=c<<13|c>>>19,c=c*5+3864292196):(l=o[g],l=l*h&is|l*p&To,l=l<<15|l>>>17,l=l*d&is|l*y&To,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(a=0,s){case 3:a^=n[i*4+2]<<16;case 2:a^=n[i*4+1]<<8;case 1:a^=n[i*4],a=a*h&is|a*p&To,a=a<<15|a>>>17,a=a*d&is|a*y&To,i&1?c^=a:u^=a}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&is|e*36045&To,n=n*4283543511&is|((n<<16|e>>>16)*2950163797&is)>>>16,e^=n>>>1,e=e*444984403&is|e*60499&To,n=n*3301882366&is|((n<<16|e>>>16)*3120437893&is)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const kR=Object.freeze({map:null,hash:"",transfer:void 0});var jh,Fh,tr,VT,XG;class dL{constructor(){k(this,VT);k(this,jh,!1);k(this,Fh,null);k(this,tr,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const r=f(this,tr).get(e);return r===void 0?n:Object.assign(n,r)}getRawValue(e){return f(this,tr).get(e)}remove(e){if(f(this,tr).delete(e),f(this,tr).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const n of f(this,tr).values())if(n instanceof Pt)return;this.onAnnotationEditor(null)}}setValue(e,n){const r=f(this,tr).get(e);let i=!1;if(r!==void 0)for(const[s,o]of Object.entries(n))r[s]!==o&&(i=!0,r[s]=o);else i=!0,f(this,tr).set(e,n);i&&j(this,VT,XG).call(this),n instanceof Pt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type)}has(e){return f(this,tr).has(e)}get size(){return f(this,tr).size}resetModified(){f(this,jh)&&(R(this,jh,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new YG(this)}get serializable(){if(f(this,tr).size===0)return kR;const e=new Map,n=new KG,r=[],i=Object.create(null);let s=!1;for(const[o,a]of f(this,tr)){const l=a instanceof Pt?a.serialize(!1,i):a;l&&(e.set(o,l),n.update(`${o}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const o of e.values())o.bitmap&&r.push(o.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:kR}get editorStats(){let e=null;const n=new Map;for(const r of f(this,tr).values()){if(!(r instanceof Pt))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:s}=i;n.has(s)||n.set(s,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[a,l]of Object.entries(i)){if(a==="type")continue;let c=o.get(a);c||(c=new Map,o.set(a,c));const u=c.get(l)??0;c.set(l,u+1)}}for(const[r,i]of n)e[r]=i.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){R(this,Fh,null)}get modifiedIds(){if(f(this,Fh))return f(this,Fh);const e=[];for(const n of f(this,tr).values())!(n instanceof Pt)||!n.annotationElementId||!n.serialize()||e.push(n.annotationElementId);return R(this,Fh,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return f(this,tr).entries()}}jh=new WeakMap,Fh=new WeakMap,tr=new WeakMap,VT=new WeakSet,XG=function(){f(this,jh)||(R(this,jh,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var gw;class YG extends dL{constructor(n){super();k(this,gw,void 0);const{map:r,hash:i,transfer:s}=n.serializable,o=structuredClone(r,s?{transfer:s}:null);R(this,gw,{map:o,hash:i,transfer:s})}get print(){bt("Should not call PrintAnnotationStorage.print")}get serializable(){return f(this,gw)}get modifiedIds(){return Ze(this,"modifiedIds",{ids:new Set,hash:""})}}gw=new WeakMap;var ug;class zfe{constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){k(this,ug,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),f(this,ug).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:n,_inspectFont:r}){if(!(!e||f(this,ug).has(e.loadedName))){if(wn(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:o}=e,a=new FontFace(i,s,o);this.addNativeFontFace(a);try{await a.load(),f(this,ug).add(i),r==null||r(e)}catch{Ve(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}bt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw Ve(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var n;const e=!!((n=this._document)!=null&&n.fonts);return Ze(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Ze(this,"isSyncFontLoadingSupported",Gr||ur.platform.isFirefox)}_queueLoadingCallback(e){function n(){for(wn(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:n,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ze(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function r(S,x){return S.charCodeAt(x)<<24|S.charCodeAt(x+1)<<16|S.charCodeAt(x+2)<<8|S.charCodeAt(x+3)&255}function i(S,x,T,A){const E=S.substring(0,x),O=S.substring(x+T);return E+A+O}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let c=0;function u(S,x){if(++c>30){Ve("Load test font never loaded."),x();return}if(l.font="30px "+S,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){x();return}setTimeout(u.bind(null,S,x))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let d=this._loadTestFont;d=i(d,976,h.length,h);const y=16,g=1482184792;let v=r(d,y);for(s=0,o=h.length-3;s<o;s+=4)v=v-g+r(h,s)|0;s<h.length&&(v=v-g+r(h+"XXX",s)|0),d=i(d,y,4,Pfe(v));const b=`url(data:font/opentype;base64,${btoa(d)});`,w=`@font-face {font-family:"${h}";src:${b}}`;this.insertRule(w);const _=this._document.createElement("div");_.style.visibility="hidden",_.style.width=_.style.height="10px",_.style.position="absolute",_.style.top=_.style.left="0px";for(const S of[e.loadedName,h]){const x=this._document.createElement("span");x.textContent="Hi",x.style.fontFamily=S,_.append(x)}this._document.body.append(_),u(h,()=>{_.remove(),n.complete()})}}ug=new WeakMap;class Hfe{constructor(e,n=null){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this._inspectFont=n}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(n=this._inspectFont)==null||n.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${mG(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),n}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];const r=this.loadedName+"_path_"+n;let i;try{i=e.get(r)}catch(o){Ve(`getPathGenerator - ignoring character: "${o}".`)}const s=new Path2D(i||"");return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[n]=s}}function Wfe(t){if(t instanceof URL)return t.href;if(typeof t=="string"){if(Gr)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Gfe(t){if(Gr&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return f1(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Cx(t){if(typeof t!="string")return null;if(t.endsWith("/"))return t;throw new Error(`Invalid factory url: "${t}" must include trailing slash.`)}const RR=t=>typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0,qfe=t=>typeof t=="object"&&typeof(t==null?void 0:t.name)=="string",Kfe=Rfe.bind(null,RR,qfe);var Fa,BT;class Xfe{constructor(){k(this,Fa,new Map);k(this,BT,Promise.resolve())}postMessage(e,n){const r={data:structuredClone(e,n?{transfer:n}:null)};f(this,BT).then(()=>{for(const[i]of f(this,Fa))i.call(this,r)})}addEventListener(e,n,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:s}=r;if(s.aborted){Ve("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,n);i=()=>s.removeEventListener("abort",o),s.addEventListener("abort",o)}f(this,Fa).set(n,i)}removeEventListener(e,n){const r=f(this,Fa).get(n);r==null||r(),f(this,Fa).delete(n)}terminate(){for(const[,e]of f(this,Fa))e==null||e();f(this,Fa).clear()}}Fa=new WeakMap,BT=new WeakMap;const Ix={DATA:1,ERROR:2},hn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function R6(){}function ii(t){if(t instanceof Pu||t instanceof dR||t instanceof C6||t instanceof QE||t instanceof KO)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||bt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new Pu(t.message);case"InvalidPDFException":return new dR(t.message);case"PasswordException":return new C6(t.message,t.code);case"ResponseException":return new QE(t.message,t.status,t.missing);case"UnknownErrorException":return new KO(t.message,t.details)}return new KO(t.message,t.toString())}var hg,UT,QG,zT,JG,HT,ZG,dg,OA;class Dv{constructor(e,n,r){k(this,UT);k(this,zT);k(this,HT);k(this,dg);k(this,hg,new AbortController);this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",j(this,UT,QG).bind(this),{signal:f(this,hg).signal})}on(e,n){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=n}send(e,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},r)}sendWithPromise(e,n,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:n},r)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,n,r,i){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:n,desiredSize:c.desiredSize},i),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,l.postMessage({sourceName:o,targetName:a,stream:hn.PULL,streamId:s,desiredSize:c.desiredSize}),u.promise},cancel:c=>{wn(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:hn.CANCEL,streamId:s,reason:ii(c)}),u.promise}},r)}destroy(){var e;(e=f(this,hg))==null||e.abort(),R(this,hg,null)}}hg=new WeakMap,UT=new WeakSet,QG=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){j(this,HT,ZG).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===Ix.DATA)i.resolve(e.data);else if(e.callback===Ix.ERROR)i.reject(ii(e.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(n,e.data).then(function(o){s.postMessage({sourceName:r,targetName:i,callback:Ix.DATA,callbackId:e.callbackId,data:o})},function(o){s.postMessage({sourceName:r,targetName:i,callback:Ix.ERROR,callbackId:e.callbackId,reason:ii(o)})});return}if(e.streamId){j(this,zT,JG).call(this,e);return}n(e.data)},zT=new WeakSet,JG=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(c,u=1,h){if(this.isCancelled)return;const d=this.desiredSize;this.desiredSize-=u,d>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:hn.ENQUEUE,streamId:n,chunk:c},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:hn.CLOSE,streamId:n}),delete o.streamSinks[n])},error(c){wn(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:hn.ERROR,streamId:n,reason:ii(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[n]=l,Promise.try(a,e.data,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:hn.START_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:hn.START_COMPLETE,streamId:n,reason:ii(c)})})},HT=new WeakSet,ZG=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this.streamControllers[n],a=this.streamSinks[n];switch(e.stream){case hn.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(ii(e.reason));break;case hn.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(ii(e.reason));break;case hn.PULL:if(!a){s.postMessage({sourceName:r,targetName:i,stream:hn.PULL_COMPLETE,streamId:n,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,Promise.try(a.onPull||R6).then(function(){s.postMessage({sourceName:r,targetName:i,stream:hn.PULL_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:hn.PULL_COMPLETE,streamId:n,reason:ii(c)})});break;case hn.ENQUEUE:if(wn(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case hn.CLOSE:if(wn(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),j(this,dg,OA).call(this,o,n);break;case hn.ERROR:wn(o,"error should have stream controller"),o.controller.error(ii(e.reason)),j(this,dg,OA).call(this,o,n);break;case hn.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(ii(e.reason)),j(this,dg,OA).call(this,o,n);break;case hn.CANCEL:if(!a)break;const l=ii(e.reason);Promise.try(a.onCancel||R6,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:hn.CANCEL_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:hn.CANCEL_COMPLETE,streamId:n,reason:ii(c)})}),a.sinkCapability.reject(l),a.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}},dg=new WeakSet,OA=async function(e,n){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[n]};var mw;class eq{constructor({enableHWA:e=!1}){k(this,mw,!1);R(this,mw,e)}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!f(this,mw)})}}reset(e,n,r){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){bt("Abstract method `_createCanvas` called.")}}mw=new WeakMap;class Yfe extends eq{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const r=this._document.createElement("canvas");return r.width=e,r.height=n,r}}class tq{constructor({baseUrl:e=null,isCompressed:n=!0}){this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(e){bt("Abstract method `_fetch` called.")}}class N6 extends tq{async _fetch(e){const n=await p1(e,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):f1(n)}}class nq{addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,r,i,s){return"none"}destroy(e=!1){}}var Vh,fg,Va,Ba,Sr,Bh,Uh,Fn,Ar,zh,$v,Ec,Qf,pg,kA,Sc,Jf,WT,rq,yw,NR,Tc,Zf,Hh,Lv,Wh,jv,vw,MR,Gh,Fv;class Qfe extends nq{constructor({docId:n,ownerDocument:r=globalThis.document}){super();k(this,Fn);k(this,zh);k(this,Ec);k(this,pg);k(this,Sc);k(this,WT);k(this,yw);k(this,Tc);k(this,Hh);k(this,Wh);k(this,vw);k(this,Gh);k(this,Vh,void 0);k(this,fg,void 0);k(this,Va,void 0);k(this,Ba,void 0);k(this,Sr,void 0);k(this,Bh,void 0);k(this,Uh,0);R(this,Ba,n),R(this,Sr,r)}addFilter(n){if(!n)return"none";let r=f(this,Fn,Ar).get(n);if(r)return r;const[i,s,o]=j(this,pg,kA).call(this,n),a=n.length===1?i:`${i}${s}${o}`;if(r=f(this,Fn,Ar).get(a),r)return f(this,Fn,Ar).set(n,r),r;const l=`g_${f(this,Ba)}_transfer_map_${Fr(this,Uh)._++}`,c=j(this,Sc,Jf).call(this,l);f(this,Fn,Ar).set(n,c),f(this,Fn,Ar).set(a,c);const u=j(this,Tc,Zf).call(this,l);return j(this,Wh,jv).call(this,i,s,o,u),c}addHCMFilter(n,r){var y;const i=`${n}-${r}`,s="base";let o=f(this,zh,$v).get(s);if((o==null?void 0:o.key)===i||(o?((y=o.filter)==null||y.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},f(this,zh,$v).set(s,o)),!n||!r))return o.url;const a=j(this,Gh,Fv).call(this,n);n=Se.makeHexColor(...a);const l=j(this,Gh,Fv).call(this,r);if(r=Se.makeHexColor(...l),f(this,Ec,Qf).style.color="",n==="#000000"&&r==="#ffffff"||n===r)return o.url;const c=new Array(256);for(let g=0;g<=255;g++){const v=g/255;c[g]=v<=.03928?v/12.92:((v+.055)/1.055)**2.4}const u=c.join(","),h=`g_${f(this,Ba)}_hcm_filter`,d=o.filter=j(this,Tc,Zf).call(this,h);j(this,Wh,jv).call(this,u,u,u,d),j(this,yw,NR).call(this,d);const p=(g,v)=>{const b=a[g]/255,w=l[g]/255,_=new Array(v+1);for(let S=0;S<=v;S++)_[S]=b+S/v*(w-b);return _.join(",")};return j(this,Wh,jv).call(this,p(0,5),p(1,5),p(2,5),d),o.url=j(this,Sc,Jf).call(this,h),o.url}addAlphaFilter(n){let r=f(this,Fn,Ar).get(n);if(r)return r;const[i]=j(this,pg,kA).call(this,[n]),s=`alpha_${i}`;if(r=f(this,Fn,Ar).get(s),r)return f(this,Fn,Ar).set(n,r),r;const o=`g_${f(this,Ba)}_alpha_map_${Fr(this,Uh)._++}`,a=j(this,Sc,Jf).call(this,o);f(this,Fn,Ar).set(n,a),f(this,Fn,Ar).set(s,a);const l=j(this,Tc,Zf).call(this,o);return j(this,vw,MR).call(this,i,l),a}addLuminosityFilter(n){let r=f(this,Fn,Ar).get(n||"luminosity");if(r)return r;let i,s;if(n?([i]=j(this,pg,kA).call(this,[n]),s=`luminosity_${i}`):s="luminosity",r=f(this,Fn,Ar).get(s),r)return f(this,Fn,Ar).set(n,r),r;const o=`g_${f(this,Ba)}_luminosity_map_${Fr(this,Uh)._++}`,a=j(this,Sc,Jf).call(this,o);f(this,Fn,Ar).set(n,a),f(this,Fn,Ar).set(s,a);const l=j(this,Tc,Zf).call(this,o);return j(this,WT,rq).call(this,l),n&&j(this,vw,MR).call(this,i,l),a}addHighlightHCMFilter(n,r,i,s,o){var w;const a=`${r}-${i}-${s}-${o}`;let l=f(this,zh,$v).get(n);if((l==null?void 0:l.key)===a||(l?((w=l.filter)==null||w.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},f(this,zh,$v).set(n,l)),!r||!i))return l.url;const[c,u]=[r,i].map(j(this,Gh,Fv).bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),d=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[p,y]=[s,o].map(j(this,Gh,Fv).bind(this));d<h&&([h,d,p,y]=[d,h,y,p]),f(this,Ec,Qf).style.color="";const g=(_,S,x)=>{const T=new Array(256),A=(d-h)/x,E=_/255,O=(S-_)/(255*x);let M=0;for(let D=0;D<=x;D++){const $=Math.round(h+D*A),L=E+D*O;for(let W=M;W<=$;W++)T[W]=L;M=$+1}for(let D=M;D<256;D++)T[D]=T[M-1];return T.join(",")},v=`g_${f(this,Ba)}_hcm_${n}_filter`,b=l.filter=j(this,Tc,Zf).call(this,v);return j(this,yw,NR).call(this,b),j(this,Wh,jv).call(this,g(p[0],y[0],5),g(p[1],y[1],5),g(p[2],y[2],5),b),l.url=j(this,Sc,Jf).call(this,v),l.url}destroy(n=!1){var r,i,s,o;n&&((r=f(this,Bh))!=null&&r.size)||((i=f(this,Va))==null||i.parentNode.parentNode.remove(),R(this,Va,null),(s=f(this,fg))==null||s.clear(),R(this,fg,null),(o=f(this,Bh))==null||o.clear(),R(this,Bh,null),R(this,Uh,0))}}Vh=new WeakMap,fg=new WeakMap,Va=new WeakMap,Ba=new WeakMap,Sr=new WeakMap,Bh=new WeakMap,Uh=new WeakMap,Fn=new WeakSet,Ar=function(){return f(this,fg)||R(this,fg,new Map)},zh=new WeakSet,$v=function(){return f(this,Bh)||R(this,Bh,new Map)},Ec=new WeakSet,Qf=function(){if(!f(this,Va)){const n=f(this,Sr).createElement("div"),{style:r}=n;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=f(this,Sr).createElementNS(_a,"svg");i.setAttribute("width",0),i.setAttribute("height",0),R(this,Va,f(this,Sr).createElementNS(_a,"defs")),n.append(i),i.append(f(this,Va)),f(this,Sr).body.append(n)}return f(this,Va)},pg=new WeakSet,kA=function(n){if(n.length===1){const c=n[0],u=new Array(256);for(let d=0;d<256;d++)u[d]=c[d]/255;const h=u.join(",");return[h,h,h]}const[r,i,s]=n,o=new Array(256),a=new Array(256),l=new Array(256);for(let c=0;c<256;c++)o[c]=r[c]/255,a[c]=i[c]/255,l[c]=s[c]/255;return[o.join(","),a.join(","),l.join(",")]},Sc=new WeakSet,Jf=function(n){if(f(this,Vh)===void 0){R(this,Vh,"");const r=f(this,Sr).URL;r!==f(this,Sr).baseURI&&(UC(r)?Ve('#createUrl: ignore "data:"-URL for performance reasons.'):R(this,Vh,fG(r,"")))}return`url(${f(this,Vh)}#${n})`},WT=new WeakSet,rq=function(n){const r=f(this,Sr).createElementNS(_a,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(r)},yw=new WeakSet,NR=function(n){const r=f(this,Sr).createElementNS(_a,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(r)},Tc=new WeakSet,Zf=function(n){const r=f(this,Sr).createElementNS(_a,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",n),f(this,Ec,Qf).append(r),r},Hh=new WeakSet,Lv=function(n,r,i){const s=f(this,Sr).createElementNS(_a,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),n.append(s)},Wh=new WeakSet,jv=function(n,r,i,s){const o=f(this,Sr).createElementNS(_a,"feComponentTransfer");s.append(o),j(this,Hh,Lv).call(this,o,"feFuncR",n),j(this,Hh,Lv).call(this,o,"feFuncG",r),j(this,Hh,Lv).call(this,o,"feFuncB",i)},vw=new WeakSet,MR=function(n,r){const i=f(this,Sr).createElementNS(_a,"feComponentTransfer");r.append(i),j(this,Hh,Lv).call(this,i,"feFuncA",n)},Gh=new WeakSet,Fv=function(n){return f(this,Ec,Qf).style.color=n,hL(getComputedStyle(f(this,Ec,Qf)).getPropertyValue("color"))};class iq{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(e){bt("Abstract method `_fetch` called.")}}class M6 extends iq{async _fetch(e){const n=await p1(e,"arraybuffer");return new Uint8Array(n)}}class sq{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load wasm data at: ${n}`)})}async _fetch(e){bt("Abstract method `_fetch` called.")}}class D6 extends sq{async _fetch(e){const n=await p1(e,"arraybuffer");return new Uint8Array(n)}}Gr&&Ve("Please use the `legacy` build in Node.js environments.");async function fL(t){const n=await process.getBuiltinModule("fs").promises.readFile(t);return new Uint8Array(n)}class Jfe extends nq{}class Zfe extends eq{_createCanvas(e,n){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,n)}}class epe extends tq{async _fetch(e){return fL(e)}}class tpe extends iq{async _fetch(e){return fL(e)}}class npe extends sq{async _fetch(e){return fL(e)}}const ar={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function DR(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}class pL{isModifyingCurrentTransform(){return!1}getPattern(){bt("Abstract method `getPattern` called.")}}class rpe extends pL{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let n;this._type==="axial"?n=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)n.addColorStop(r[0],r[1]);return n}getPattern(e,n,r,i){let s;if(i===ar.STROKE||i===ar.FILL){const o=n.current.getClippedPathBoundingBox(i,Ht(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,c=n.cachedCanvases.getCanvas("pattern",a,l),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-o[0],-o[1]),r=Se.transform(r,[1,0,0,1,o[0],o[1]]),u.transform(...n.baseTransform),this.matrix&&u.transform(...this.matrix),DR(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=e.createPattern(c.canvas,"no-repeat");const h=new DOMMatrix(r);s.setTransform(h)}else DR(e,this._bbox),s=this._createGradient(e);return s}}function QO(t,e,n,r,i,s,o,a){const l=e.coords,c=e.colors,u=t.data,h=t.width*4;let d;l[n+1]>l[r+1]&&(d=n,n=r,r=d,d=s,s=o,o=d),l[r+1]>l[i+1]&&(d=r,r=i,i=d,d=o,o=a,a=d),l[n+1]>l[r+1]&&(d=n,n=r,r=d,d=s,s=o,o=d);const p=(l[n]+e.offsetX)*e.scaleX,y=(l[n+1]+e.offsetY)*e.scaleY,g=(l[r]+e.offsetX)*e.scaleX,v=(l[r+1]+e.offsetY)*e.scaleY,b=(l[i]+e.offsetX)*e.scaleX,w=(l[i+1]+e.offsetY)*e.scaleY;if(y>=w)return;const _=c[s],S=c[s+1],x=c[s+2],T=c[o],A=c[o+1],E=c[o+2],O=c[a],M=c[a+1],D=c[a+2],$=Math.round(y),L=Math.round(w);let W,q,H,G,z,X,ee,ae;for(let Z=$;Z<=L;Z++){if(Z<v){const fe=Z<y?0:(y-Z)/(y-v);W=p-(p-g)*fe,q=_-(_-T)*fe,H=S-(S-A)*fe,G=x-(x-E)*fe}else{let fe;Z>w?fe=1:v===w?fe=0:fe=(v-Z)/(v-w),W=g-(g-b)*fe,q=T-(T-O)*fe,H=A-(A-M)*fe,G=E-(E-D)*fe}let ne;Z<y?ne=0:Z>w?ne=1:ne=(y-Z)/(y-w),z=p-(p-b)*ne,X=_-(_-O)*ne,ee=S-(S-M)*ne,ae=x-(x-D)*ne;const Te=Math.round(Math.min(W,z)),Pe=Math.round(Math.max(W,z));let je=h*Z+Te*4;for(let fe=Te;fe<=Pe;fe++)ne=(W-fe)/(W-z),ne<0?ne=0:ne>1&&(ne=1),u[je++]=q-(q-X)*ne|0,u[je++]=H-(H-ee)*ne|0,u[je++]=G-(G-ae)*ne|0,u[je++]=255}}function ipe(t,e,n){const r=e.coords,i=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(r.length/a)-1,c=a-1;for(s=0;s<l;s++){let u=s*a;for(let h=0;h<c;h++,u++)QO(t,n,r[u],r[u+1],r[u+a],i[u],i[u+1],i[u+a]),QO(t,n,r[u+a+1],r[u+1],r[u+a],i[u+a+1],i[u+1],i[u+a])}break;case"triangles":for(s=0,o=r.length;s<o;s+=3)QO(t,n,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class spe extends pL{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,n,r){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,u=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),d=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),p=c/h,y=u/d,g={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/p,scaleY:1/y},v=h+2*2,b=d+2*2,w=r.getCanvas("mesh",v,b),_=w.context,S=_.createImageData(h,d);if(n){const T=S.data;for(let A=0,E=T.length;A<E;A+=4)T[A]=n[0],T[A+1]=n[1],T[A+2]=n[2],T[A+3]=255}for(const T of this._figures)ipe(S,T,g);return _.putImageData(S,2,2),{canvas:w.canvas,offsetX:a-2*p,offsetY:l-2*y,scaleX:p,scaleY:y}}isModifyingCurrentTransform(){return!0}getPattern(e,n,r,i){DR(e,this._bbox);const s=new Float32Array(2);if(i===ar.SHADING)Se.singularValueDecompose2dScale(Ht(e),s);else if(this.matrix){Se.singularValueDecompose2dScale(this.matrix,s);const[a,l]=s;Se.singularValueDecompose2dScale(n.baseTransform,s),s[0]*=a,s[1]*=l}else Se.singularValueDecompose2dScale(n.baseTransform,s);const o=this._createMeshCanvas(s,i===ar.SHADING?null:this._background,n.cachedCanvases);return i!==ar.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class ope extends pL{getPattern(){return"hotpink"}}function ape(t){switch(t[0]){case"RadialAxial":return new rpe(t);case"Mesh":return new spe(t);case"Dummy":return new ope}throw new Error(`Unknown IR type: ${t[0]}`)}const $6={COLORED:1,UNCOLORED:2},GT=class GT{constructor(e,n,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e){const{bbox:n,operatorList:r,paintType:i,tilingType:s,color:o,canvasGraphicsFactory:a}=this;let{xstep:l,ystep:c}=this;l=Math.abs(l),c=Math.abs(c),BC("TilingType: "+s);const u=n[0],h=n[1],d=n[2],p=n[3],y=d-u,g=p-h,v=new Float32Array(2);Se.singularValueDecompose2dScale(this.matrix,v);const[b,w]=v;Se.singularValueDecompose2dScale(this.baseTransform,v);const _=b*v[0],S=w*v[1];let x=y,T=g,A=!1,E=!1;const O=Math.ceil(l*_),M=Math.ceil(c*S),D=Math.ceil(y*_),$=Math.ceil(g*S);O>=D?x=l:A=!0,M>=$?T=c:E=!0;const L=this.getSizeAndScale(x,this.ctx.canvas.width,_),W=this.getSizeAndScale(T,this.ctx.canvas.height,S),q=e.cachedCanvases.getCanvas("pattern",L.size,W.size),H=q.context,G=a.createCanvasGraphics(H);if(G.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(G,i,o),H.translate(-L.scale*u,-W.scale*h),G.transform(L.scale,0,0,W.scale,0,0),H.save(),this.clipBbox(G,u,h,d,p),G.baseTransform=Ht(G.ctx),G.executeOperatorList(r),G.endDrawing(),H.restore(),A||E){const z=q.canvas;A&&(x=l),E&&(T=c);const X=this.getSizeAndScale(x,this.ctx.canvas.width,_),ee=this.getSizeAndScale(T,this.ctx.canvas.height,S),ae=X.size,Z=ee.size,ne=e.cachedCanvases.getCanvas("pattern-workaround",ae,Z),Te=ne.context,Pe=A?Math.floor(y/l):0,je=E?Math.floor(g/c):0;for(let fe=0;fe<=Pe;fe++)for(let Ie=0;Ie<=je;Ie++)Te.drawImage(z,ae*fe,Z*Ie,ae,Z,0,0,ae,Z);return{canvas:ne.canvas,scaleX:X.scale,scaleY:ee.scale,offsetX:u,offsetY:h}}return{canvas:q.canvas,scaleX:L.scale,scaleY:W.scale,offsetX:u,offsetY:h}}getSizeAndScale(e,n,r){const i=Math.max(GT.MAX_PATTERN_SIZE,n);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,n,r,i,s){const o=i-n,a=s-r;e.ctx.rect(n,r,o,a),Se.axialAlignedBoundingBox([n,r,i,s],Ht(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){const i=e.ctx,s=e.current;switch(n){case $6.COLORED:const{fillStyle:o,strokeStyle:a}=this.ctx;i.fillStyle=s.fillColor=o,i.strokeStyle=s.strokeColor=a;break;case $6.UNCOLORED:i.fillStyle=i.strokeStyle=r,s.fillColor=s.strokeColor=r;break;default:throw new Tfe(`Unsupported paint type: ${n}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,n,r,i){let s=r;i!==ar.SHADING&&(s=Se.transform(s,n.baseTransform),this.matrix&&(s=Se.transform(s,this.matrix)));const o=this.createPatternCanvas(n);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=e.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};de(GT,"MAX_PATTERN_SIZE",3e3);let $R=GT;function lpe({src:t,srcPos:e=0,dest:n,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=ur.isLittleEndian?4278190080:255,[l,c]=o?[s,a]:[a,s],u=r>>3,h=r&7,d=t.length;n=new Uint32Array(n.buffer);let p=0;for(let y=0;y<i;y++){for(const v=e+u;e<v;e++){const b=e<d?t[e]:255;n[p++]=b&128?c:l,n[p++]=b&64?c:l,n[p++]=b&32?c:l,n[p++]=b&16?c:l,n[p++]=b&8?c:l,n[p++]=b&4?c:l,n[p++]=b&2?c:l,n[p++]=b&1?c:l}if(h===0)continue;const g=e<d?t[e++]:255;for(let v=0;v<h;v++)n[p++]=g&1<<7-v?c:l}return{srcPos:e,destPos:p}}const L6=16,j6=100,cpe=15,F6=10,ci=16,JO=new DOMMatrix,Bi=new Float32Array(2),yp=new Float32Array([1/0,1/0,-1/0,-1/0]);function upe(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(n,r){e.translate(n,r),this.__originalTranslate(n,r)},t.scale=function(n,r){e.scale(n,r),this.__originalScale(n,r)},t.transform=function(n,r,i,s,o,a){e.transform(n,r,i,s,o,a),this.__originalTransform(n,r,i,s,o,a)},t.setTransform=function(n,r,i,s,o,a){e.setTransform(n,r,i,s,o,a),this.__originalSetTransform(n,r,i,s,o,a)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(n){e.rotate(n),this.__originalRotate(n)},t.clip=function(n){e.clip(n),this.__originalClip(n)},t.moveTo=function(n,r){e.moveTo(n,r),this.__originalMoveTo(n,r)},t.lineTo=function(n,r){e.lineTo(n,r),this.__originalLineTo(n,r)},t.bezierCurveTo=function(n,r,i,s,o,a){e.bezierCurveTo(n,r,i,s,o,a),this.__originalBezierCurveTo(n,r,i,s,o,a)},t.rect=function(n,r,i,s){e.rect(n,r,i,s),this.__originalRect(n,r,i,s)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class hpe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,n,r)):(i=this.canvasFactory.create(n,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function Ox(t,e,n,r,i,s,o,a,l,c){const[u,h,d,p,y,g]=Ht(t);if(h===0&&d===0){const w=o*u+y,_=Math.round(w),S=a*p+g,x=Math.round(S),T=(o+l)*u+y,A=Math.abs(Math.round(T)-_)||1,E=(a+c)*p+g,O=Math.abs(Math.round(E)-x)||1;return t.setTransform(Math.sign(u),0,0,Math.sign(p),_,x),t.drawImage(e,n,r,i,s,0,0,A,O),t.setTransform(u,h,d,p,y,g),[A,O]}if(u===0&&p===0){const w=a*d+y,_=Math.round(w),S=o*h+g,x=Math.round(S),T=(a+c)*d+y,A=Math.abs(Math.round(T)-_)||1,E=(o+l)*h+g,O=Math.abs(Math.round(E)-x)||1;return t.setTransform(0,Math.sign(h),Math.sign(d),0,_,x),t.drawImage(e,n,r,i,s,0,0,O,A),t.setTransform(u,h,d,p,y,g),[O,A]}t.drawImage(e,n,r,i,s,o,a,l,c);const v=Math.hypot(u,h),b=Math.hypot(d,p);return[v*l,b*c]}class V6{constructor(e,n){de(this,"alphaIsShape",!1);de(this,"fontSize",0);de(this,"fontSizeScale",1);de(this,"textMatrix",null);de(this,"textMatrixScale",1);de(this,"fontMatrix",hR);de(this,"leading",0);de(this,"x",0);de(this,"y",0);de(this,"lineX",0);de(this,"lineY",0);de(this,"charSpacing",0);de(this,"wordSpacing",0);de(this,"textHScale",1);de(this,"textRenderingMode",xr.FILL);de(this,"textRise",0);de(this,"fillColor","#000000");de(this,"strokeColor","#000000");de(this,"patternFill",!1);de(this,"patternStroke",!1);de(this,"fillAlpha",1);de(this,"strokeAlpha",1);de(this,"lineWidth",1);de(this,"activeSMask",null);de(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,e,n]),this.minMax=yp.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=ar.FILL,n=null){const r=this.minMax.slice();if(e===ar.STROKE){n||bt("Stroke bounding box must include transform."),Se.singularValueDecompose2dScale(n,Bi);const i=Bi[0]*this.lineWidth/2,s=Bi[1]*this.lineWidth/2;r[0]-=i,r[1]-=s,r[2]+=i,r[3]+=s}return r}updateClipFromPath(){const e=Se.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(yp,0)}getClippedPathBoundingBox(e=ar.FILL,n=null){return Se.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function B6(t,e){if(e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,r=e.width,i=n%ci,s=(n-i)/ci,o=i===0?s:s+1,a=t.createImageData(r,ci);let l=0,c;const u=e.data,h=a.data;let d,p,y,g;if(e.kind===_A.GRAYSCALE_1BPP){const v=u.byteLength,b=new Uint32Array(h.buffer,0,h.byteLength>>2),w=b.length,_=r+7>>3,S=4294967295,x=ur.isLittleEndian?4278190080:255;for(d=0;d<o;d++){for(y=d<s?ci:i,c=0,p=0;p<y;p++){const T=v-l;let A=0;const E=T>_?r:T*8-7,O=E&-8;let M=0,D=0;for(;A<O;A+=8)D=u[l++],b[c++]=D&128?S:x,b[c++]=D&64?S:x,b[c++]=D&32?S:x,b[c++]=D&16?S:x,b[c++]=D&8?S:x,b[c++]=D&4?S:x,b[c++]=D&2?S:x,b[c++]=D&1?S:x;for(;A<E;A++)M===0&&(D=u[l++],M=128),b[c++]=D&M?S:x,M>>=1}for(;c<w;)b[c++]=0;t.putImageData(a,0,d*ci)}}else if(e.kind===_A.RGBA_32BPP){for(p=0,g=r*ci*4,d=0;d<s;d++)h.set(u.subarray(l,l+g)),l+=g,t.putImageData(a,0,p),p+=ci;d<o&&(g=r*i*4,h.set(u.subarray(l,l+g)),t.putImageData(a,0,p))}else if(e.kind===_A.RGB_24BPP)for(y=ci,g=r*y,d=0;d<o;d++){for(d>=s&&(y=i,g=r*y),c=0,p=g;p--;)h[c++]=u[l++],h[c++]=u[l++],h[c++]=u[l++],h[c++]=255;t.putImageData(a,0,d*ci)}else throw new Error(`bad image kind: ${e.kind}`)}function U6(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,r=e.width,i=n%ci,s=(n-i)/ci,o=i===0?s:s+1,a=t.createImageData(r,ci);let l=0;const c=e.data,u=a.data;for(let h=0;h<o;h++){const d=h<s?ci:i;({srcPos:l}=lpe({src:c,srcPos:l,dest:u,width:r,height:d,nonBlackColor:0})),t.putImageData(a,0,h*ci)}}function av(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)t[r]!==void 0&&(e[r]=t[r]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function kx(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}function z6(t,e){if(e)return!0;Se.singularValueDecompose2dScale(t,Bi);const n=Math.fround(da.pixelRatio*Cu.PDF_TO_CSS_UNITS);return Bi[0]<=n&&Bi[1]<=n}const dpe=["butt","round","square"],fpe=["miter","round","bevel"],ppe={},H6={};var bw,LR,ww,jR,_w,FR;const Cj=class Cj{constructor(e,n,r,i,s,{optionalContentConfig:o,markedContentStack:a=null},l,c){k(this,bw);k(this,ww);k(this,_w);this.ctx=e,this.current=new V6(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new hpe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,n=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):n}beginDrawing({transform:e,viewport:n,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,r){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Ht(this.compositeCtx))}this.ctx.save(),kx(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Ht(this.ctx)}executeOperatorList(e,n,r,i){const s=e.argsArray,o=e.fnArray;let a=n||0;const l=s.length;if(l===a)return a;const c=l-a>F6&&typeof r=="function",u=c?Date.now()+cpe:0;let h=0;const d=this.commonObjs,p=this.objs;let y;for(;;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,r),a;if(y=o[a],y!==YE.dependency)this[y].apply(this,s[a]);else for(const g of s[a]){const v=g.startsWith("g_")?d:p;if(!v.has(g))return v.get(g,r),a}if(a++,a===l)return a;if(c&&++h>F6){if(Date.now()>u)return r(),a;h=0}}}endDrawing(){j(this,bw,LR).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),j(this,ww,jR).call(this)}_scaleImage(e,n){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(n[0],n[1]),1),o=Math.max(Math.hypot(n[2],n[3]),1),a=r,l=i,c="prescale1",u,h;for(;s>2&&a>1||o>2&&l>1;){let d=a,p=l;s>2&&a>1&&(d=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/d),o>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/p),u=this.cachedCanvases.getCanvas(c,d,p),h=u.context,h.clearRect(0,0,d,p),h.drawImage(e,0,0,a,l,0,0,d,p),e=u.canvas,a=d,l=p,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const n=this.ctx,{width:r,height:i}=e,s=this.current.fillColor,o=this.current.patternFill,a=Ht(n);let l,c,u,h;if((e.bitmap||e.data)&&e.count>1){const O=e.bitmap||e.data.buffer;c=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(O),l||(l=new Map,this._cachedBitmapsMap.set(O,l));const M=l.get(c);if(M&&!o){const D=Math.round(Math.min(a[0],a[2])+a[4]),$=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:M,offsetX:D,offsetY:$}}u=M}u||(h=this.cachedCanvases.getCanvas("maskCanvas",r,i),U6(h.context,e));let d=Se.transform(a,[1/r,0,0,-1/i,0,0]);d=Se.transform(d,[1,0,0,1,0,-i]);const p=yp.slice();Se.axialAlignedBoundingBox([0,0,r,i],d,p);const[y,g,v,b]=p,w=Math.round(v-y)||1,_=Math.round(b-g)||1,S=this.cachedCanvases.getCanvas("fillCanvas",w,_),x=S.context,T=y,A=g;x.translate(-T,-A),x.transform(...d),u||(u=this._scaleImage(h.canvas,So(x)),u=u.img,l&&o&&l.set(c,u)),x.imageSmoothingEnabled=z6(Ht(x),e.interpolate),Ox(x,u,0,0,u.width,u.height,0,0,r,i),x.globalCompositeOperation="source-in";const E=Se.transform(So(x),[1,0,0,1,-T,-A]);return x.fillStyle=o?s.getPattern(n,this,E,ar.FILL):s,x.fillRect(0,0,r,i),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,S.canvas)),{canvas:S.canvas,offsetX:Math.round(T),offsetY:Math.round(A)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=dpe[e]}setLineJoin(e){this.ctx.lineJoin=fpe[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,n){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=n)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[n,r]of e)switch(n){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,n);this.suspendedCtx=this.ctx;const s=this.ctx=i.context;s.setTransform(this.suspendedCtx.getTransform()),av(this.suspendedCtx,s),upe(s,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),av(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,r,i){const s=i[0],o=i[1],a=i[2]-s,l=i[3]-o;a===0||l===0||(this.genericComposeSMask(n.context,r,a,l,n.subtype,n.backdrop,n.transferMap,s,o,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,n,r,i,s,o,a,l,c,u,h){let d=e.canvas,p=l-u,y=c-h;if(o)if(p<0||y<0||p+r>d.width||y+i>d.height){const v=this.cachedCanvases.getCanvas("maskExtension",r,i),b=v.context;b.drawImage(d,-p,-y),b.globalCompositeOperation="destination-atop",b.fillStyle=o,b.fillRect(0,0,r,i),b.globalCompositeOperation="source-over",d=v.canvas,p=y=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const v=new Path2D;v.rect(p,y,r,i),e.clip(v),e.globalCompositeOperation="destination-atop",e.fillStyle=o,e.fillRect(p,y,r,i),e.restore()}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?n.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(a));const g=new Path2D;g.rect(l,c,r,i),n.clip(g),n.globalCompositeOperation="destination-in",n.drawImage(d,p,y,r,i,l,c,r,i),n.restore()}save(){this.inSMaskMode&&av(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&av(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,n,r,i,s,o){this.ctx.transform(e,n,r,i,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,r){let[i]=n;if(!r){i||(i=n[0]=new Path2D),this[e](i);return}if(!(i instanceof Path2D)){const s=n[0]=new Path2D;for(let o=0,a=i.length;o<a;)switch(i[o++]){case Px.moveTo:s.moveTo(i[o++],i[o++]);break;case Px.lineTo:s.lineTo(i[o++],i[o++]);break;case Px.curveTo:s.bezierCurveTo(i[o++],i[o++],i[o++],i[o++],i[o++],i[o++]);break;case Px.closePath:s.closePath();break;default:Ve(`Unrecognized drawing path operator: ${i[o-1]}`);break}i=s}Se.axialAlignedBoundingBox(r,Ht(this.ctx),this.current.minMax),this[e](i)}closePath(){this.ctx.closePath()}stroke(e,n=!0){const r=this.ctx,i=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof i=="object"&&(i!=null&&i.getPattern)){const s=i.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=i.getPattern(r,this,So(r),ar.STROKE),s){const o=new Path2D;o.addPath(e,r.getTransform().invertSelf().multiplySelf(s)),e=o}this.rescaleAndStroke(e,!1),r.restore()}else this.rescaleAndStroke(e,!0);n&&this.consumePath(e,this.current.getClippedPathBoundingBox(ar.STROKE,Ht(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e,n=!0){const r=this.ctx,i=this.current.fillColor,s=this.current.patternFill;let o=!1;if(s){const l=i.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.fillStyle=i.getPattern(r,this,So(r),ar.FILL),l){const c=new Path2D;c.addPath(e,r.getTransform().invertSelf().multiplySelf(l)),e=c}o=!0}const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(r.fill(e,"evenodd"),this.pendingEOFill=!1):r.fill(e)),o&&r.restore(),n&&this.consumePath(e,a)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=ppe}eoClip(){this.pendingClip=H6}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,n=this.ctx;if(e===void 0)return;const r=new Path2D,i=n.getTransform().invertSelf();for(const{transform:s,x:o,y:a,fontSize:l,path:c}of e)r.addPath(c,new DOMMatrix(s).preMultiplySelf(i).translate(o,a).scale(l,-l));n.clip(r),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,n){var u;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||hR,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&Ve("Invalid font matrix for font "+e),n<0?(n=-n,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=n,r.isType3Font)return;const s=r.loadedName||"sans-serif",o=((u=r.systemFontInfo)==null?void 0:u.css)||`"${s}", ${r.fallbackName}`;let a="normal";r.black?a="900":r.bold&&(a="bold");const l=r.italic?"italic":"normal";let c=n;n<L6?c=L6:n>j6&&(c=j6),this.current.fontSizeScale=n/c,this.ctx.font=`${l} ${a} ${c}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,n){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,n){this.setLeading(-n),this.moveText(e,n)}setTextMatrix(e){const{current:n}=this;n.textMatrix=e,n.textMatrixScale=Math.hypot(e[0],e[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,n,r,i,s){const o=this.ctx,a=this.current,l=a.font,c=a.textRenderingMode,u=a.fontSize/a.fontSizeScale,h=c&xr.FILL_STROKE_MASK,d=!!(c&xr.ADD_TO_PATH_FLAG),p=a.patternFill&&!l.missingFile,y=a.patternStroke&&!l.missingFile;let g;if((l.disableFontFace||d||p||y)&&(g=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||p||y){o.save(),o.translate(n,r),o.scale(u,-u);let v;if((h===xr.FILL||h===xr.FILL_STROKE)&&(i?(v=o.getTransform(),o.setTransform(...i),o.fill(j(this,_w,FR).call(this,g,v,i))):o.fill(g)),h===xr.STROKE||h===xr.FILL_STROKE)if(s){v||(v=o.getTransform()),o.setTransform(...s);const{a:b,b:w,c:_,d:S}=v,x=Se.inverseTransform(s),T=Se.transform([b,w,_,S,0,0],x);Se.singularValueDecompose2dScale(T,Bi),o.lineWidth*=Math.max(Bi[0],Bi[1])/u,o.stroke(j(this,_w,FR).call(this,g,v,s))}else o.lineWidth/=u,o.stroke(g);o.restore()}else(h===xr.FILL||h===xr.FILL_STROKE)&&o.fillText(e,n,r),(h===xr.STROKE||h===xr.FILL_STROKE)&&o.strokeText(e,n,r);d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Ht(o),x:n,y:r,fontSize:u,path:g})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<n.length;i+=4)if(n[i]>0&&n[i]<255){r=!0;break}return Ze(this,"isFontSubpixelAAEnabled",r)}showText(e){const n=this.current,r=n.font;if(r.isType3Font)return this.showType3Text(e);const i=n.fontSize;if(i===0)return;const s=this.ctx,o=n.fontSizeScale,a=n.charSpacing,l=n.wordSpacing,c=n.fontDirection,u=n.textHScale*c,h=e.length,d=r.vertical,p=d?1:-1,y=r.defaultVMetrics,g=i*n.fontMatrix[0],v=n.textRenderingMode===xr.FILL&&!r.disableFontFace&&!n.patternFill;s.save(),n.textMatrix&&s.transform(...n.textMatrix),s.translate(n.x,n.y+n.textRise),c>0?s.scale(u,-1):s.scale(u,1);let b,w;if(n.patternFill){s.save();const A=n.fillColor.getPattern(s,this,So(s),ar.FILL);b=Ht(s),s.restore(),s.fillStyle=A}if(n.patternStroke){s.save();const A=n.strokeColor.getPattern(s,this,So(s),ar.STROKE);w=Ht(s),s.restore(),s.strokeStyle=A}let _=n.lineWidth;const S=n.textMatrixScale;if(S===0||_===0){const A=n.textRenderingMode&xr.FILL_STROKE_MASK;(A===xr.STROKE||A===xr.FILL_STROKE)&&(_=this.getSinglePixelWidth())}else _/=S;if(o!==1&&(s.scale(o,o),_/=o),s.lineWidth=_,r.isInvalidPDFjsFont){const A=[];let E=0;for(const O of e)A.push(O.unicode),E+=O.width;s.fillText(A.join(""),0,0),n.x+=E*g*u,s.restore(),this.compose();return}let x=0,T;for(T=0;T<h;++T){const A=e[T];if(typeof A=="number"){x+=p*A*i/1e3;continue}let E=!1;const O=(A.isSpace?l:0)+a,M=A.fontChar,D=A.accent;let $,L,W=A.width;if(d){const H=A.vmetric||y,G=-(A.vmetric?H[1]:W*.5)*g,z=H[2]*g;W=H?-H[0]:W,$=G/o,L=(x+z)/o}else $=x/o,L=0;if(r.remeasure&&W>0){const H=s.measureText(M).width*1e3/i*o;if(W<H&&this.isFontSubpixelAAEnabled){const G=W/H;E=!0,s.save(),s.scale(G,1),$/=G}else W!==H&&($+=(W-H)/2e3*i/o)}if(this.contentVisible&&(A.isInFont||r.missingFile)){if(v&&!D)s.fillText(M,$,L);else if(this.paintChar(M,$,L,b,w),D){const H=$+i*D.offset.x/o,G=L-i*D.offset.y/o;this.paintChar(D.fontChar,H,G,b,w)}}const q=d?W*g-O*c:W*g+O*c;x+=q,E&&s.restore()}d?n.y-=x:n.x+=x*u,s.restore(),this.compose()}showType3Text(e){const n=this.ctx,r=this.current,i=r.font,s=r.fontSize,o=r.fontDirection,a=i.vertical?1:-1,l=r.charSpacing,c=r.wordSpacing,u=r.textHScale*o,h=r.fontMatrix||hR,d=e.length,p=r.textRenderingMode===xr.INVISIBLE;let y,g,v,b;if(!(p||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),r.textMatrix&&n.transform(...r.textMatrix),n.translate(r.x,r.y+r.textRise),n.scale(u,o),y=0;y<d;++y){if(g=e[y],typeof g=="number"){b=a*g*s/1e3,this.ctx.translate(b,0),r.x+=b*u;continue}const w=(g.isSpace?c:0)+l,_=i.charProcOperatorList[g.operatorListId];_?this.contentVisible&&(this.save(),n.scale(s,s),n.transform(...h),this.executeOperatorList(_),this.restore()):Ve(`Type3 character "${g.operatorListId}" is not available.`);const S=[g.width,0];Se.applyTransform(S,h),v=S[0]*s+w,n.translate(v,0),r.x+=v*u}n.restore()}}setCharWidth(e,n){}setCharWidthAndBounds(e,n,r,i,s,o){const a=new Path2D;a.rect(r,i,s-r,o-i),this.ctx.clip(a),this.endPath()}getColorN_Pattern(e){let n;if(e[0]==="TilingPattern"){const r=this.baseTransform||Ht(this.ctx),i={createCanvasGraphics:s=>new Cj(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};n=new $R(e,this.ctx,i,r)}else n=this._getPattern(e[1],e[2]);return n}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e){this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e){this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,n=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=ape(this.getObject(e)),this.cachedPatterns.set(e,r)),n&&(r.matrix=n),r}shadingFill(e){if(!this.contentVisible)return;const n=this.ctx;this.save();const r=this._getPattern(e);n.fillStyle=r.getPattern(n,this,So(n),ar.SHADING);const i=So(n);if(i){const{width:s,height:o}=n.canvas,a=yp.slice();Se.axialAlignedBoundingBox([0,0,s,o],i,a);const[l,c,u,h]=a;this.ctx.fillRect(l,c,u-l,h-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){bt("Should not call beginInlineImage")}beginImageData(){bt("Should not call beginImageData")}paintFormXObjectBegin(e,n){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Ht(this.ctx),n)){Se.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[r,i,s,o]=n,a=new Path2D;a.rect(r,i,s-r,o-i),this.ctx.clip(a),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||BC("TODO: Support non-isolated groups."),e.knockout&&Ve("Knockout groups not supported.");const r=Ht(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=yp.slice();Se.axialAlignedBoundingBox(e.bbox,Ht(n),i);const s=[0,0,n.canvas.width,n.canvas.height];i=Se.intersect(i,s)||[0,0,0,0];const o=Math.floor(i[0]),a=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-o,1),c=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,c]);let u="groupAt"+this.groupLevel;e.smask&&(u+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(u,l,c),d=h.context;d.translate(-o,-a),d.transform(...r);let p=new Path2D;const[y,g,v,b]=e.bbox;if(p.rect(y,g,v-y,b-g),e.matrix){const w=new Path2D;w.addPath(p,new DOMMatrix(e.matrix)),p=w}d.clip(p),e.smask?this.smaskStack.push({canvas:h.canvas,context:d,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(n.setTransform(1,0,0,1,0,0),n.translate(o,a),n.save()),av(n,d),this.ctx=d,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Ht(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=yp.slice();Se.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],i,s),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,n,r,i,s){if(j(this,bw,LR).call(this),kx(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const o=n[2]-n[0],a=n[3]-n[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=n[0],r[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=o,n[3]=a,Se.singularValueDecompose2dScale(Ht(this.ctx),Bi);const{viewportScale:l}=this,c=Math.ceil(o*this.outputScaleX*l),u=Math.ceil(a*this.outputScaleY*l);this.annotationCanvas=this.canvasFactory.create(c,u);const{canvas:h,context:d}=this.annotationCanvas;this.annotationCanvasMap.set(e,h),this.annotationCanvas.savedCtx=this.ctx,this.ctx=d,this.ctx.save(),this.ctx.setTransform(Bi[0],0,0,-Bi[1],0,a*Bi[1]),kx(this.ctx)}else{kx(this.ctx),this.endPath();const l=new Path2D;l.rect(n[0],n[1],o,a),this.ctx.clip(l)}}this.current=new V6(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),j(this,ww,jR).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const n=e.count;e=this.getObject(e.data,e),e.count=n;const r=this.ctx,i=this._createMaskCanvas(e),s=i.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(s,i.offsetX,i.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,r=0,i=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=Ht(a);a.transform(n,r,i,s,0,0);const c=this._createMaskCanvas(e);a.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let u=0,h=o.length;u<h;u+=2){const d=Se.transform(l,[n,r,i,s,o[u],o[u+1]]);a.drawImage(c.canvas,d[4],d[5])}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const n=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:o,width:a,height:l,transform:c}=s,u=this.cachedCanvases.getCanvas("maskCanvas",a,l),h=u.context;h.save();const d=this.getObject(o,s);U6(h,d),h.globalCompositeOperation="source-in",h.fillStyle=i?r.getPattern(h,this,So(n),ar.FILL):r,h.fillRect(0,0,a,l),h.restore(),n.save(),n.transform(...c),n.scale(1,-1),Ox(n,u.canvas,0,0,a,l,0,-1,1,1),n.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const n=this.getObject(e);if(!n){Ve("Dependent image isn't ready yet");return}this.paintInlineImageXObject(n)}paintImageXObjectRepeat(e,n,r,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){Ve("Dependent image isn't ready yet");return}const o=s.width,a=s.height,l=[];for(let c=0,u=i.length;c<u;c+=2)l.push({transform:[n,0,0,r,i[c],i[c+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(n,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const n=e.width,r=e.height,i=this.ctx;this.save();const{filter:s}=i;s!=="none"&&s!==""&&(i.filter="none"),i.scale(1/n,-1/r);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{const c=this.cachedCanvases.getCanvas("inlineImage",n,r).context;B6(c,e),o=this.applyTransferMapsToCanvas(c)}const a=this._scaleImage(o,So(i));i.imageSmoothingEnabled=z6(Ht(i),e.interpolate),Ox(i,a.img,0,0,a.paintWidth,a.paintHeight,0,-r,n,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,n){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,o=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,o).context;B6(l,e),i=this.applyTransferMapsToCanvas(l)}for(const s of n)r.save(),r.transform(...s.transform),r.scale(1,-1),Ox(r,i,s.x,s.y,s.w,s.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,n){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,n){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const i=this.ctx;this.pendingClip&&(r||(this.pendingClip===H6?i.clip(e,"evenodd"):i.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Ht(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:r,c:i,d:s}=this.ctx.getTransform();let o,a;if(r===0&&i===0){const l=Math.abs(n),c=Math.abs(s);if(l===c)if(e===0)o=a=1/l;else{const u=l*e;o=a=u<1?1/u:1}else if(e===0)o=1/l,a=1/c;else{const u=l*e,h=c*e;o=u<1?1/u:1,a=h<1?1/h:1}}else{const l=Math.abs(n*s-r*i),c=Math.hypot(n,r),u=Math.hypot(i,s);if(e===0)o=u/l,a=c/l;else{const h=e*l;o=u>h?u/h:1,a=c>h?c/h:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e,n){const{ctx:r,current:{lineWidth:i}}=this,[s,o]=this.getScaleForStroking();if(s===o){r.lineWidth=(i||1)*s,r.stroke(e);return}const a=r.getLineDash();n&&r.save(),r.scale(s,o),JO.a=1/s,JO.d=1/o;const l=new Path2D;if(l.addPath(e,JO),a.length>0){const c=Math.max(s,o);r.setLineDash(a.map(u=>u/c)),r.lineDashOffset/=c}r.lineWidth=i||1,r.stroke(l),n&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};bw=new WeakSet,LR=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},ww=new WeakSet,jR=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}},_w=new WeakSet,FR=function(e,n,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(n)),i};let Lp=Cj;for(const t in YE)Lp.prototype[t]!==void 0&&(Lp.prototype[YE[t]]=Lp.prototype[t]);var xw,Aw;class Qo{static get workerPort(){return f(this,xw)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");R(this,xw,e)}static get workerSrc(){return f(this,Aw)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");R(this,Aw,e)}}xw=new WeakMap,Aw=new WeakMap,k(Qo,xw,null),k(Qo,Aw,"");var gg,Ew;class gpe{constructor({parsedData:e,rawData:n}){k(this,gg,void 0);k(this,Ew,void 0);R(this,gg,e),R(this,Ew,n)}getRaw(){return f(this,Ew)}get(e){return f(this,gg).get(e)??null}[Symbol.iterator](){return f(this,gg).entries()}}gg=new WeakMap,Ew=new WeakMap;const ep=Symbol("INTERNAL");var Sw,Tw,Pw,mg;class mpe{constructor(e,{name:n,intent:r,usage:i,rbGroups:s}){k(this,Sw,!1);k(this,Tw,!1);k(this,Pw,!1);k(this,mg,!0);R(this,Sw,!!(e&ji.DISPLAY)),R(this,Tw,!!(e&ji.PRINT)),this.name=n,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(f(this,Pw))return f(this,mg);if(!f(this,mg))return!1;const{print:e,view:n}=this.usage;return f(this,Sw)?(n==null?void 0:n.viewState)!=="OFF":f(this,Tw)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,n,r=!1){e!==ep&&bt("Internal method `_setVisible` called."),R(this,Pw,r),R(this,mg,n)}}Sw=new WeakMap,Tw=new WeakMap,Pw=new WeakMap,mg=new WeakMap;var Pc,yt,yg,vg,Cw,VR;class ype{constructor(e,n=ji.DISPLAY){k(this,Cw);k(this,Pc,null);k(this,yt,new Map);k(this,yg,null);k(this,vg,null);if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,R(this,vg,e.order);for(const r of e.groups)f(this,yt).set(r.id,new mpe(n,r));if(e.baseState==="OFF")for(const r of f(this,yt).values())r._setVisible(ep,!1);for(const r of e.on)f(this,yt).get(r)._setVisible(ep,!0);for(const r of e.off)f(this,yt).get(r)._setVisible(ep,!1);R(this,yg,this.getHash())}}isVisible(e){if(f(this,yt).size===0)return!0;if(!e)return BC("Optional content group not defined."),!0;if(e.type==="OCG")return f(this,yt).has(e.id)?f(this,yt).get(e.id).visible:(Ve(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return j(this,Cw,VR).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!f(this,yt).has(n))return Ve(`Optional content group not found: ${n}`),!0;if(f(this,yt).get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!f(this,yt).has(n))return Ve(`Optional content group not found: ${n}`),!0;if(!f(this,yt).get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!f(this,yt).has(n))return Ve(`Optional content group not found: ${n}`),!0;if(!f(this,yt).get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!f(this,yt).has(n))return Ve(`Optional content group not found: ${n}`),!0;if(f(this,yt).get(n).visible)return!1}return!0}return Ve(`Unknown optional content policy ${e.policy}.`),!0}return Ve(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0,r=!0){var s;const i=f(this,yt).get(e);if(!i){Ve(`Optional content group not found: ${e}`);return}if(r&&n&&i.rbGroups.length)for(const o of i.rbGroups)for(const a of o)a!==e&&((s=f(this,yt).get(a))==null||s._setVisible(ep,!1,!0));i._setVisible(ep,!!n,!0),R(this,Pc,null)}setOCGState({state:e,preserveRB:n}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=f(this,yt).get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,n);break;case"OFF":this.setVisibility(i,!1,n);break;case"Toggle":this.setVisibility(i,!s.visible,n);break}}R(this,Pc,null)}get hasInitialVisibility(){return f(this,yg)===null||this.getHash()===f(this,yg)}getOrder(){return f(this,yt).size?f(this,vg)?f(this,vg).slice():[...f(this,yt).keys()]:null}getGroup(e){return f(this,yt).get(e)||null}getHash(){if(f(this,Pc)!==null)return f(this,Pc);const e=new KG;for(const[n,r]of f(this,yt))e.update(`${n}:${r.visible}`);return R(this,Pc,e.hexdigest())}[Symbol.iterator](){return f(this,yt).entries()}}Pc=new WeakMap,yt=new WeakMap,yg=new WeakMap,vg=new WeakMap,Cw=new WeakSet,VR=function(e){const n=e.length;if(n<2)return!0;const r=e[0];for(let i=1;i<n;i++){const s=e[i];let o;if(Array.isArray(s))o=j(this,Cw,VR).call(this,s);else if(f(this,yt).has(s))o=f(this,yt).get(s).visible;else return Ve(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"};class vpe{constructor(e,{disableRange:n=!1,disableStream:r=!1}){wn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});wn(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var n,r,i,s;e.total===void 0?(r=(n=this._rangeReaders[0])==null?void 0:n.onProgress)==null||r.call(n,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){wn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new bpe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new wpe(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class bpe{constructor(e,n,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=cL(i)?i:null,this._queuedChunks=n||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class wpe{constructor(e,n,r){this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function _pe(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let u=a(n);return u=unescape(u),u=l(u),u=c(u),s(u)}if(n=o(t),n){const u=c(n);return s(u)}if(n=r("filename","i").exec(t),n){n=n[1];let u=a(n);return u=c(u),s(u)}function r(u,h){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(u,h){if(u){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const d=new TextDecoder(u,{fatal:!0}),p=f1(h);h=d.decode(p),e=!1}catch{}}return h}function s(u){return e&&/[\x80-\xff]/.test(u)&&(u=i("utf-8",u),e&&(u=i("iso-8859-1",u))),u}function o(u){const h=[];let d;const p=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(d=p.exec(u))!==null;){let[,g,v,b]=d;if(g=parseInt(g,10),g in h){if(g===0)break;continue}h[g]=[v,b]}const y=[];for(let g=0;g<h.length&&g in h;++g){let[v,b]=h[g];b=a(b),v&&(b=unescape(b),g===0&&(b=l(b))),y.push(b)}return y.join("")}function a(u){if(u.startsWith('"')){const h=u.slice(1).split('\\"');for(let d=0;d<h.length;++d){const p=h[d].indexOf('"');p!==-1&&(h[d]=h[d].slice(0,p),h.length=d+1),h[d]=h[d].replaceAll(/\\(.)/g,"$1")}u=h.join('"')}return u}function l(u){const h=u.indexOf("'");if(h===-1)return u;const d=u.slice(0,h),y=u.slice(h+1).replace(/^[^']*'/,"");return i(d,y)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,d,p,y){if(p==="q"||p==="Q")return y=y.replaceAll("_"," "),y=y.replaceAll(/=([0-9a-fA-F]{2})/g,function(g,v){return String.fromCharCode(parseInt(v,16))}),i(d,y);try{y=atob(y)}catch{}return i(d,y)})}return""}function oq(t,e){const n=new Headers;if(!t||!e||typeof e!="object")return n;for(const r in e){const i=e[r];i!==void 0&&n.append(r,i)}return n}function zC(t){var e;return((e=URL.parse(t))==null?void 0:e.origin)??null}function aq({responseHeaders:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*n)||r||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function lq(t){const e=t.get("Content-Disposition");if(e){let n=_pe(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(cL(n))return n}return null}function y1(t,e){return new QE(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t,t===404||t===0&&e.startsWith("file:"))}function cq(t){return t===200||t===206}function uq(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function hq(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(Ve(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class xpe{constructor(e){de(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=oq(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return wn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Ape(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new Epe(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class Ape{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const r=new Headers(e.headers),i=n.url;fetch(i,uq(r,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=zC(s.url),!cq(s.status))throw y1(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const o=s.headers,{allowRangeRequests:a,suggestedLength:l}=aq({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=lq(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Pu("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:hq(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}class Epe{constructor(e,n,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${n}-${r-1}`);const o=i.url;fetch(o,uq(s,this._withCredentials,this._abortController)).then(a=>{const l=zC(a.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!cq(a.status))throw y1(a.status,o);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:hq(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}const ZO=200,ek=206;function Spe(t){const e=t.response;return typeof e!="string"?e:f1(e).buffer}class Tpe{constructor({url:e,httpHeaders:n,withCredentials:r}){de(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=oq(this.isHttp,n),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const n=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[s,o]of this.headers)n.setRequestHeader(s,o);return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=ek):i.expectedStatus=ZO,n.responseType="arraybuffer",wn(e.onError,"Expected `onError` callback to be provided."),n.onerror=()=>{e.onError(n.status)},n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,n.send(null),r}onProgress(e,n){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,n))}onStateChange(e,n){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const s=i.status||ZO;if(!(s===ZO&&r.expectedStatus===ek)&&s!==r.expectedStatus){r.onError(i.status);return}const a=Spe(i);if(s===ek){const l=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?r.onDone({begin:parseInt(c[1],10),chunk:a}):(Ve('Missing or invalid "Content-Range" header.'),r.onError(0))}else a?r.onDone({begin:0,chunk:a}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class Ppe{constructor(e){this._source=e,this._manager=new Tpe(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return wn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Cpe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const r=new Ipe(this._manager,e,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class Cpe{constructor(e,n){this._manager=e,this._url=n.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e);this._manager._responseOrigin=zC(n.responseURL);const r=n.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(a=>{const[l,...c]=a.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:o}=aq({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=lq(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=y1(e,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var n;(n=this.onProgress)==null||n.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Ipe{constructor(e,n,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:n,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var n;const e=zC((n=this._manager.getRequestXhr(this._requestId))==null?void 0:n.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=y1(e,this._url));for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var n;this.isStreamingSupported||(n=this.onProgress)==null||n.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Ope=/^[a-z][a-z0-9\-+.]+:/i;function kpe(t){if(Ope.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}class Rpe{constructor(e){this.source=e,this.url=kpe(e.url),wn(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return wn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Npe(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new Mpe(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class Npe{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=y1(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Pu("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Mpe{constructor(e,n,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:n,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const lv=Symbol("INITIAL_DATA");var Ci,Iw,BR;class dq{constructor(){k(this,Iw);k(this,Ci,Object.create(null))}get(e,n=null){if(n){const i=j(this,Iw,BR).call(this,e);return i.promise.then(()=>n(i.data)),null}const r=f(this,Ci)[e];if(!r||r.data===lv)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const n=f(this,Ci)[e];return!!n&&n.data!==lv}delete(e){const n=f(this,Ci)[e];return!n||n.data===lv?!1:(delete f(this,Ci)[e],!0)}resolve(e,n=null){const r=j(this,Iw,BR).call(this,e);r.data=n,r.resolve()}clear(){var e;for(const n in f(this,Ci)){const{data:r}=f(this,Ci)[n];(e=r==null?void 0:r.bitmap)==null||e.close()}R(this,Ci,Object.create(null))}*[Symbol.iterator](){for(const e in f(this,Ci)){const{data:n}=f(this,Ci)[e];n!==lv&&(yield[e,n])}}}Ci=new WeakMap,Iw=new WeakSet,BR=function(e){var n;return(n=f(this,Ci))[e]||(n[e]={...Promise.withResolvers(),data:lv})};const Dpe=1e5,W6=30;var m9,Cc,ai,Ow,kw,qh,Ua,Rw,Nw,Kh,bg,wg,Ic,_g,Mw,xg,Xh,Dw,$w,Ag,Yh,Lw,Oc,Eg,qT,fq,KT,pq,jw,UR,Sg,RA,Fw,zR,XT,gq,YT,mq;const Yt=class Yt{constructor({textContentSource:e,container:n,viewport:r}){k(this,qT);k(this,KT);k(this,jw);k(this,Cc,Promise.withResolvers());k(this,ai,null);k(this,Ow,!1);k(this,kw,!!((m9=globalThis.FontInspector)!=null&&m9.enabled));k(this,qh,null);k(this,Ua,null);k(this,Rw,0);k(this,Nw,0);k(this,Kh,null);k(this,bg,null);k(this,wg,0);k(this,Ic,0);k(this,_g,Object.create(null));k(this,Mw,[]);k(this,xg,null);k(this,Xh,[]);k(this,Dw,new WeakMap);k(this,$w,null);var l;if(e instanceof ReadableStream)R(this,xg,e);else if(typeof e=="object")R(this,xg,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');R(this,ai,R(this,bg,n)),R(this,Ic,r.scale*da.pixelRatio),R(this,wg,r.rotation),R(this,Ua,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:o,pageY:a}=r.rawDims;R(this,$w,[1,0,0,-1,-o,a+s]),R(this,Nw,i),R(this,Rw,s),j(l=Yt,XT,gq).call(l),tf(n,r),f(this,Cc).promise.finally(()=>{f(Yt,Eg).delete(this),R(this,Ua,null),R(this,_g,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:n}=ur.platform;return Ze(this,"fontFamilyMap",new Map([["sans-serif",`${e&&n?"Calibri, ":""}sans-serif`],["monospace",`${e&&n?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{f(this,Kh).read().then(({value:n,done:r})=>{if(r){f(this,Cc).resolve();return}f(this,qh)??R(this,qh,n.lang),Object.assign(f(this,_g),n.styles),j(this,qT,fq).call(this,n.items),e()},f(this,Cc).reject)};return R(this,Kh,f(this,xg).getReader()),f(Yt,Eg).add(this),e(),f(this,Cc).promise}update({viewport:e,onBefore:n=null}){var s;const r=e.scale*da.pixelRatio,i=e.rotation;if(i!==f(this,wg)&&(n==null||n(),R(this,wg,i),tf(f(this,bg),{rotation:i})),r!==f(this,Ic)){n==null||n(),R(this,Ic,r);const o={div:null,properties:null,ctx:j(s=Yt,Sg,RA).call(s,f(this,qh))};for(const a of f(this,Xh))o.properties=f(this,Dw).get(a),o.div=a,j(this,jw,UR).call(this,o)}}cancel(){var n;const e=new Pu("TextLayer task cancelled.");(n=f(this,Kh))==null||n.cancel(e).catch(()=>{}),R(this,Kh,null),f(this,Cc).reject(e)}get textDivs(){return f(this,Xh)}get textContentItemsStr(){return f(this,Mw)}static cleanup(){if(!(f(this,Eg).size>0)){f(this,Ag).clear();for(const{canvas:e}of f(this,Yh).values())e.remove();f(this,Yh).clear()}}};Cc=new WeakMap,ai=new WeakMap,Ow=new WeakMap,kw=new WeakMap,qh=new WeakMap,Ua=new WeakMap,Rw=new WeakMap,Nw=new WeakMap,Kh=new WeakMap,bg=new WeakMap,wg=new WeakMap,Ic=new WeakMap,_g=new WeakMap,Mw=new WeakMap,xg=new WeakMap,Xh=new WeakMap,Dw=new WeakMap,$w=new WeakMap,Ag=new WeakMap,Yh=new WeakMap,Lw=new WeakMap,Oc=new WeakMap,Eg=new WeakMap,qT=new WeakSet,fq=function(e){var i,s;if(f(this,Ow))return;(s=f(this,Ua)).ctx??(s.ctx=j(i=Yt,Sg,RA).call(i,f(this,qh)));const n=f(this,Xh),r=f(this,Mw);for(const o of e){if(n.length>Dpe){Ve("Ignoring additional textDivs for performance reasons."),R(this,Ow,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=f(this,ai);R(this,ai,document.createElement("span")),f(this,ai).classList.add("markedContent"),o.id!==null&&f(this,ai).setAttribute("id",`${o.id}`),a.append(f(this,ai))}else o.type==="endMarkedContent"&&R(this,ai,f(this,ai).parentNode);continue}r.push(o.str),j(this,KT,pq).call(this,o)}},KT=new WeakSet,pq=function(e){var g;const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};f(this,Xh).push(n);const i=Se.transform(f(this,$w),e.transform);let s=Math.atan2(i[1],i[0]);const o=f(this,_g)[e.fontName];o.vertical&&(s+=Math.PI/2);let a=f(this,kw)&&o.fontSubstitution||o.fontFamily;a=Yt.fontFamilyMap.get(a)||a;const l=Math.hypot(i[2],i[3]),c=l*j(g=Yt,YT,mq).call(g,a,o,f(this,qh));let u,h;s===0?(u=i[4],h=i[5]-c):(u=i[4]+c*Math.sin(s),h=i[5]-c*Math.cos(s));const d="calc(var(--total-scale-factor) *",p=n.style;f(this,ai)===f(this,bg)?(p.left=`${(100*u/f(this,Nw)).toFixed(2)}%`,p.top=`${(100*h/f(this,Rw)).toFixed(2)}%`):(p.left=`${d}${u.toFixed(2)}px)`,p.top=`${d}${h.toFixed(2)}px)`),p.fontSize=`${d}${(f(Yt,Oc)*l).toFixed(2)}px)`,p.fontFamily=a,r.fontSize=l,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,f(this,kw)&&(n.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let y=!1;if(e.str.length>1)y=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const v=Math.abs(e.transform[0]),b=Math.abs(e.transform[3]);v!==b&&Math.max(v,b)/Math.min(v,b)>1.5&&(y=!0)}if(y&&(r.canvasWidth=o.vertical?e.height:e.width),f(this,Dw).set(n,r),f(this,Ua).div=n,f(this,Ua).properties=r,j(this,jw,UR).call(this,f(this,Ua)),r.hasText&&f(this,ai).append(n),r.hasEOL){const v=document.createElement("br");v.setAttribute("role","presentation"),f(this,ai).append(v)}},jw=new WeakSet,UR=function(e){var a;const{div:n,properties:r,ctx:i}=e,{style:s}=n;let o="";if(f(Yt,Oc)>1&&(o=`scale(${1/f(Yt,Oc)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:l}=s,{canvasWidth:c,fontSize:u}=r;j(a=Yt,Fw,zR).call(a,i,u*f(this,Ic),l);const{width:h}=i.measureText(n.textContent);h>0&&(o=`scaleX(${c*f(this,Ic)/h}) ${o}`)}r.angle!==0&&(o=`rotate(${r.angle}deg) ${o}`),o.length>0&&(s.transform=o)},Sg=new WeakSet,RA=function(e=null){let n=f(this,Yh).get(e||(e=""));if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),f(this,Yh).set(e,n),f(this,Lw).set(n,{size:0,family:""})}return n},Fw=new WeakSet,zR=function(e,n,r){const i=f(this,Lw).get(e);n===i.size&&r===i.family||(e.font=`${n}px ${r}`,i.size=n,i.family=r)},XT=new WeakSet,gq=function(){if(f(this,Oc)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),R(this,Oc,e.getBoundingClientRect().height),e.remove()},YT=new WeakSet,mq=function(e,n,r){const i=f(this,Ag).get(e);if(i)return i;const s=j(this,Sg,RA).call(this,r);s.canvas.width=s.canvas.height=W6,j(this,Fw,zR).call(this,s,W6,e);const o=s.measureText(""),a=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let c=.8;return a?c=a/(a+l):(ur.platform.isFirefox&&Ve("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),n.ascent?c=n.ascent:n.descent&&(c=1+n.descent)),f(this,Ag).set(e,c),c},k(Yt,Sg),k(Yt,Fw),k(Yt,XT),k(Yt,YT),k(Yt,Ag,new Map),k(Yt,Yh,new Map),k(Yt,Lw,new WeakMap),k(Yt,Oc,null),k(Yt,Eg,new Set);let K0=Yt;class X0{static textContent(e){const n=[],r={items:n,styles:Object.create(null)};function i(s){var l;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(X0.shouldBuildText(a))(l=s==null?void 0:s.attributes)!=null&&l.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&n.push({str:o}),!!s.children)for(const c of s.children)i(c)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const $pe=100;function Lpe(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new HR,{docId:n}=e,r=t.url?Wfe(t.url):null,i=t.data?Gfe(t.data):null,s=t.httpHeaders||null,o=t.withCredentials===!0,a=t.password??null,l=t.range instanceof yq?t.range:null,c=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:2**16;let u=t.worker instanceof Y0?t.worker:null;const h=t.verbosity,d=typeof t.docBaseUrl=="string"&&!UC(t.docBaseUrl)?t.docBaseUrl:null,p=Cx(t.cMapUrl),y=t.cMapPacked!==!1,g=t.CMapReaderFactory||(Gr?epe:N6),v=Cx(t.iccUrl),b=Cx(t.standardFontDataUrl),w=t.StandardFontDataFactory||(Gr?tpe:M6),_=Cx(t.wasmUrl),S=t.WasmFactory||(Gr?npe:D6),x=t.stopAtErrors!==!0,T=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,A=t.isEvalSupported!==!1,E=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!Gr,O=typeof t.isImageDecoderSupported=="boolean"?t.isImageDecoderSupported:!Gr&&(ur.platform.isFirefox||!globalThis.chrome),M=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,D=typeof t.disableFontFace=="boolean"?t.disableFontFace:Gr,$=t.fontExtraProperties===!0,L=t.enableXfa===!0,W=t.ownerDocument||globalThis.document,q=t.disableRange===!0,H=t.disableStream===!0,G=t.disableAutoFetch===!0,z=t.pdfBug===!0,X=t.CanvasFactory||(Gr?Zfe:Yfe),ee=t.FilterFactory||(Gr?Jfe:Qfe),ae=t.enableHWA===!0,Z=t.useWasm!==!1,ne=l?l.length:t.length??NaN,Te=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!Gr&&!D,Pe=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:!!(g===N6&&w===M6&&S===D6&&p&&b&&_&&Ov(p,document.baseURI)&&Ov(b,document.baseURI)&&Ov(_,document.baseURI)),je=null;Afe(h);const fe={canvasFactory:new X({ownerDocument:W,enableHWA:ae}),filterFactory:new ee({docId:n,ownerDocument:W}),cMapReaderFactory:Pe?null:new g({baseUrl:p,isCompressed:y}),standardFontDataFactory:Pe?null:new w({baseUrl:b}),wasmFactory:Pe?null:new S({baseUrl:_})};u||(u=Y0.create({verbosity:h,port:Qo.workerPort}),e._worker=u);const Ie={docId:n,apiVersion:"5.3.31",data:i,password:a,disableAutoFetch:G,rangeChunkSize:c,length:ne,docBaseUrl:d,enableXfa:L,evaluatorOptions:{maxImageSize:T,disableFontFace:D,ignoreErrors:x,isEvalSupported:A,isOffscreenCanvasSupported:E,isImageDecoderSupported:O,canvasMaxAreaInBytes:M,fontExtraProperties:$,useSystemFonts:Te,useWasm:Z,useWorkerFetch:Pe,cMapUrl:p,iccUrl:v,standardFontDataUrl:b,wasmUrl:_}},ie={ownerDocument:W,pdfBug:z,styleElement:je,loadingParams:{disableAutoFetch:G,enableXfa:L}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const me=u.messageHandler.sendWithPromise("GetDocRequest",Ie,i?[i.buffer]:null);let pe;if(l)pe=new vpe(l,{disableRange:q,disableStream:H});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const Y=Ov(r)?xpe:Gr?Rpe:Ppe;pe=new Y({url:r,length:ne,httpHeaders:s,withCredentials:o,rangeChunkSize:c,disableRange:q,disableStream:H})}return me.then(Y=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const Me=new Dv(n,Y,u.port),ce=new Vpe(Me,e,pe,ie,fe);e._transport=ce,Me.send("Ready",null)})}).catch(e._capability.reject),e}var QT;const JT=class JT{constructor(){de(this,"_capability",Promise.withResolvers());de(this,"_transport",null);de(this,"_worker",null);de(this,"docId",`d${Fr(JT,QT)._++}`);de(this,"destroyed",!1);de(this,"onPassword",null);de(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,n,r,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((n=this._transport)==null?void 0:n.destroy())}catch(s){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};QT=new WeakMap,k(JT,QT,0);let HR=JT;var Qh,Vw,Bw,Uw,zw;class yq{constructor(e,n,r=!1,i=null){k(this,Qh,Promise.withResolvers());k(this,Vw,[]);k(this,Bw,[]);k(this,Uw,[]);k(this,zw,[]);this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){f(this,zw).push(e)}addProgressListener(e){f(this,Uw).push(e)}addProgressiveReadListener(e){f(this,Bw).push(e)}addProgressiveDoneListener(e){f(this,Vw).push(e)}onDataRange(e,n){for(const r of f(this,zw))r(e,n)}onDataProgress(e,n){f(this,Qh).promise.then(()=>{for(const r of f(this,Uw))r(e,n)})}onDataProgressiveRead(e){f(this,Qh).promise.then(()=>{for(const n of f(this,Bw))n(e)})}onDataProgressiveDone(){f(this,Qh).promise.then(()=>{for(const e of f(this,Vw))e()})}transportReady(){f(this,Qh).resolve()}requestDataRange(e,n){bt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}Qh=new WeakMap,Vw=new WeakMap,Bw=new WeakMap,Uw=new WeakMap,zw=new WeakMap;class jpe{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ze(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var za,Jh,Vv;class Fpe{constructor(e,n,r,i=!1){k(this,Jh);k(this,za,!1);this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=i?new O6:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new dq,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new g1({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ze(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:n,intent:r="display",annotationMode:i=ac.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:u=null,isEditing:h=!1}){var S,x;(S=this._stats)==null||S.time("Overall");const d=this._transport.getRenderingIntent(r,i,u,h),{renderingIntent:p,cacheKey:y}=d;R(this,za,!1),a||(a=this._transport.getOptionalContentConfig(p));let g=this._intentStates.get(y);g||(g=Object.create(null),this._intentStates.set(y,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const v=!!(p&ji.PRINT);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(x=this._stats)==null||x.time("Page Request"),this._pumpOperatorList(d));const b=T=>{var A;g.renderTasks.delete(w),v&&R(this,za,!0),j(this,Jh,Vv).call(this),T?(w.capability.reject(T),this._abortOperatorList({intentState:g,reason:T instanceof Error?T:new Error(T)})):w.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(A=globalThis.Stats)!=null&&A.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},w=new WR({callback:b,params:{canvasContext:e,viewport:n,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!v,pdfBug:this._pdfBug,pageColors:c});(g.renderTasks||(g.renderTasks=new Set)).add(w);const _=w.task;return Promise.all([g.displayReadyCapability.promise,a]).then(([T,A])=>{var E;if(this.destroyed){b();return}if((E=this._stats)==null||E.time("Rendering"),!(A.renderingIntent&p))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");w.initializeGraphics({transparency:T,optionalContentConfig:A}),w.operatorListChanged()}).catch(b),_}getOperatorList({intent:e="display",annotationMode:n=ac.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var c;function s(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}const o=this._transport.getRenderingIntent(e,n,r,i,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>X0.textContent(r));const n=this.streamTextContent(e);return new Promise(function(r,i){function s(){o.read().then(function({value:l,done:c}){if(c){r(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},i)}const o=n.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),R(this,za,!1),Promise.all(e)}cleanup(e=!1){R(this,za,!0);const n=j(this,Jh,Vv).call(this);return e&&n&&this._stats&&(this._stats=new O6),n}_startRenderPage(e,n){var i,s;const r=this._intentStates.get(n);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,n){for(let r=0,i=e.length;r<i;r++)n.operatorList.fnArray.push(e.fnArray[r]),n.operatorList.argsArray.push(e.argsArray[r]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();e.lastChunk&&j(this,Jh,Vv).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:o}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:s,modifiedIds:i},o).getReader(),c=this._intentStates.get(n);c.streamReader=l;const u=()=>{l.read().then(({value:h,done:d})=>{if(d){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,c),u())},h=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const d of c.renderTasks)d.operatorListChanged();j(this,Jh,Vv).call(this)}if(c.displayReadyCapability)c.displayReadyCapability.reject(h);else if(c.opListReadCapability)c.opListReadCapability.reject(h);else throw h}})};u()}_abortOperatorList({intentState:e,reason:n,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof lL){let i=$pe;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},i);return}}if(e.streamReader.cancel(new Pu(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}za=new WeakMap,Jh=new WeakSet,Vv=function(){if(!f(this,za)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),R(this,za,!1),!0};var kc,Gs,Ha,Zh,ZT,ed,td,Tg,NA,eP,vq,tP,bq,nd,Bv,Pg,MA;const Lt=class Lt{constructor({name:e=null,port:n=null,verbosity:r=Efe()}={}){k(this,Tg);k(this,eP);k(this,tP);k(this,nd);k(this,kc,Promise.withResolvers());k(this,Gs,null);k(this,Ha,null);k(this,Zh,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,n){if(f(Lt,td).has(n))throw new Error("Cannot use more than one PDFWorker per port.");f(Lt,td).set(n,this),j(this,eP,vq).call(this,n)}else j(this,tP,bq).call(this)}get promise(){return f(this,kc).promise}get port(){return f(this,Ha)}get messageHandler(){return f(this,Gs)}destroy(){var e,n;this.destroyed=!0,(e=f(this,Zh))==null||e.terminate(),R(this,Zh,null),f(Lt,td).delete(f(this,Ha)),R(this,Ha,null),(n=f(this,Gs))==null||n.destroy(),R(this,Gs,null)}static create(e){const n=f(this,td).get(e==null?void 0:e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new Lt(e)}static get workerSrc(){if(Qo.workerSrc)return Qo.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ze(this,"_setupFakeWorkerGlobal",(async()=>f(this,Pg,MA)?f(this,Pg,MA):(await bfe(()=>import(this.workerSrc),[])).WorkerMessageHandler)())}};kc=new WeakMap,Gs=new WeakMap,Ha=new WeakMap,Zh=new WeakMap,ZT=new WeakMap,ed=new WeakMap,td=new WeakMap,Tg=new WeakSet,NA=function(){f(this,kc).resolve(),f(this,Gs).send("configure",{verbosity:this.verbosity})},eP=new WeakSet,vq=function(e){R(this,Ha,e),R(this,Gs,new Dv("main","worker",e)),f(this,Gs).on("ready",()=>{}),j(this,Tg,NA).call(this)},tP=new WeakSet,bq=function(){if(f(Lt,ed)||f(Lt,Pg,MA)){j(this,nd,Bv).call(this);return}let{workerSrc:e}=Lt;try{Lt._isSameOrigin(window.location,e)||(e=Lt._createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),r=new Dv("main","worker",n),i=()=>{s.abort(),r.destroy(),n.terminate(),this.destroyed?f(this,kc).reject(new Error("Worker was destroyed")):j(this,nd,Bv).call(this)},s=new AbortController;n.addEventListener("error",()=>{f(this,Zh)||i()},{signal:s.signal}),r.on("test",a=>{if(s.abort(),this.destroyed||!a){i();return}R(this,Gs,r),R(this,Ha,n),R(this,Zh,n),j(this,Tg,NA).call(this)}),r.on("ready",a=>{if(s.abort(),this.destroyed){i();return}try{o()}catch{j(this,nd,Bv).call(this)}});const o=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};o();return}catch{BC("The worker has been disabled.")}j(this,nd,Bv).call(this)},nd=new WeakSet,Bv=function(){f(Lt,ed)||(Ve("Setting up fake worker."),R(Lt,ed,!0)),Lt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){f(this,kc).reject(new Error("Worker was destroyed"));return}const n=new Xfe;R(this,Ha,n);const r=`fake${Fr(Lt,ZT)._++}`,i=new Dv(r+"_worker",r,n);e.setup(i,n),R(this,Gs,new Dv(r,r+"_worker",n)),j(this,Tg,NA).call(this)}).catch(e=>{f(this,kc).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Pg=new WeakSet,MA=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},k(Lt,Pg),k(Lt,ZT,0),k(Lt,ed,!1),k(Lt,td,new WeakMap),Gr&&(R(Lt,ed,!0),Qo.workerSrc||(Qo.workerSrc="./pdf.worker.mjs")),Lt._isSameOrigin=(e,n)=>{const r=URL.parse(e);if(!(r!=null&&r.origin)||r.origin==="null")return!1;const i=new URL(n,r);return r.origin===i.origin},Lt._createCDNWrapper=e=>{const n=`await import("${e}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},Lt.fromPort=e=>{if($fe("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Lt.create(e)};let Y0=Lt;var Wa,Bo,Cg,Ig,Ga,rd,Uv;class Vpe{constructor(e,n,r,i,s){k(this,rd);k(this,Wa,new Map);k(this,Bo,new Map);k(this,Cg,new Map);k(this,Ig,new Map);k(this,Ga,null);this.messageHandler=e,this.loadingTask=n,this.commonObjs=new dq,this.fontLoader=new zfe({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ze(this,"annotationStorage",new dL)}getRenderingIntent(e,n=ac.ENABLE,r=null,i=!1,s=!1){let o=ji.DISPLAY,a=kR;switch(e){case"any":o=ji.ANY;break;case"display":break;case"print":o=ji.PRINT;break;default:Ve(`getRenderingIntent - invalid intent: ${e}`)}const l=o&ji.PRINT&&r instanceof YG?r:this.annotationStorage;switch(n){case ac.DISABLE:o+=ji.ANNOTATIONS_DISABLE;break;case ac.ENABLE:break;case ac.ENABLE_FORMS:o+=ji.ANNOTATIONS_FORMS;break;case ac.ENABLE_STORAGE:o+=ji.ANNOTATIONS_STORAGE,a=l.serializable;break;default:Ve(`getRenderingIntent - invalid annotationMode: ${n}`)}i&&(o+=ji.IS_EDITING),s&&(o+=ji.OPLIST);const{ids:c,hash:u}=l.modifiedIds,h=[o,a.hash,u];return{renderingIntent:o,cacheKey:h.join("_"),annotationStorageSerializable:a,modifiedIds:c}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=f(this,Ga))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of f(this,Bo).values())e.push(i._destroy());f(this,Bo).clear(),f(this,Cg).clear(),f(this,Ig).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),f(this,Wa).clear(),this.filterFactory.destroy(),K0.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Pu("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(r,i)=>{wn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){i.close();return}wn(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async r=>{var a;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:o}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((a=n.onProgress)==null||a.call(n,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=n.onProgress)==null||c.call(n,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:o}}),e.on("GetRangeReader",(r,i)=>{wn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){i.close();return}wn(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{s.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new jpe(r,this))}),e.on("DocException",r=>{n._capability.reject(ii(r))}),e.on("PasswordRequest",r=>{R(this,Ga,Promise.withResolvers());try{if(!n.onPassword)throw ii(r);const i=s=>{s instanceof Error?f(this,Ga).reject(s):f(this,Ga).resolve({password:s})};n.onPassword(i,r.code)}catch(i){f(this,Ga).reject(i)}return f(this,Ga).promise}),e.on("DataLoaded",r=>{var i;(i=n.onProgress)==null||i.call(n,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;f(this,Bo).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var o;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in s){const u=s.error;Ve(`Error during font loading: ${u}`),this.commonObjs.resolve(r,u);break}const a=this._params.pdfBug&&((o=globalThis.FontInspector)!=null&&o.enabled)?(u,h)=>globalThis.FontInspector.fontAdded(u,h):null,l=new Hfe(s,a);this.fontLoader.bind(l).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l.fontExtraProperties&&l.data&&(l.data=null),this.commonObjs.resolve(r,l)});break;case"CopyLocalImage":const{imageRef:c}=s;wn(c,"The imageRef must be defined.");for(const u of f(this,Bo).values())for(const[,h]of u.objs)if((h==null?void 0:h.ref)===c)return h.dataLen?(this.commonObjs.resolve(r,structuredClone(h)),h.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,o])=>{var l;if(this.destroyed)return;const a=f(this,Bo).get(i);if(!a.objs.has(r)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(s){case"Image":case"Pattern":a.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=n.onProgress)==null||i.call(n,{loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&Ve("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,r=f(this,Cg).get(n);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&f(this,Ig).set(s.refStr,e);const o=new Fpe(n,s,this,this._params.pdfBug);return f(this,Bo).set(n,o),o});return f(this,Cg).set(n,i),i}getPageIndex(e){return RR(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return j(this,rd,Uv).call(this,"GetFieldObjects")}hasJSActions(){return j(this,rd,Uv).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return j(this,rd,Uv).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return j(this,rd,Uv).call(this,"GetOptionalContentConfig").then(n=>new ype(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=f(this,Wa).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,o;return{info:i[0],metadata:i[1]?new gpe(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return f(this,Wa).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of f(this,Bo).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),f(this,Wa).clear(),this.filterFactory.destroy(!0),K0.cleanup()}}cachedPageNumber(e){if(!RR(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return f(this,Ig).get(n)??null}}Wa=new WeakMap,Bo=new WeakMap,Cg=new WeakMap,Ig=new WeakMap,Ga=new WeakMap,rd=new WeakSet,Uv=function(e,n=null){const r=f(this,Wa).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,n);return f(this,Wa).set(e,i),i};var Rc;class Bpe{constructor(e){k(this,Rc,null);de(this,"onContinue",null);de(this,"onError",null);R(this,Rc,e)}get promise(){return f(this,Rc).capability.promise}cancel(e=0){f(this,Rc).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=f(this,Rc).operatorList;if(!e)return!1;const{annotationCanvasMap:n}=f(this,Rc);return e.form||e.canvas&&(n==null?void 0:n.size)>0}}Rc=new WeakMap;var Nc,id;const rh=class rh{constructor({callback:e,params:n,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:h=!1,pageColors:d=null}){k(this,Nc,null);this.callback=e,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=d,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Bpe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){var a,l;if(this.cancelled)return;if(this._canvas){if(f(rh,id).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");f(rh,id).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:s,background:o}=this.params;this.gfx=new Lp(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,n=0){var r,i,s;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),f(this,Nc)&&(window.cancelAnimationFrame(f(this,Nc)),R(this,Nc,null)),f(rh,id).delete(this._canvas),e||(e=new lL(`Rendering cancelled, page ${this._pageIndex+1}`,n)),this.callback(e),(s=(i=this.task).onError)==null||s.call(i,e)}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?R(this,Nc,window.requestAnimationFrame(()=>{R(this,Nc,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),f(rh,id).delete(this._canvas),this.callback())))}};Nc=new WeakMap,id=new WeakMap,k(rh,id,new WeakSet);let WR=rh;const Upe="5.3.31",zpe="47ad820d9";function G6(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function cv(t){return Math.max(0,Math.min(255,255*t))}class q6{static CMYK_G([e,n,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*n+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=cv(e),[e,e,e]}static G_HTML([e]){const n=G6(e);return`#${n}${n}${n}`}static RGB_G([e,n,r]){return["G",.3*e+.59*n+.11*r]}static RGB_rgb(e){return e.map(cv)}static RGB_HTML(e){return`#${e.map(G6).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb([e,n,r,i]){return[cv(1-Math.min(1,e+i)),cv(1-Math.min(1,r+i)),cv(1-Math.min(1,n+i))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,r]){const i=1-e,s=1-n,o=1-r,a=Math.min(i,s,o);return["CMYK",i,s,o,a]}}class Hpe{create(e,n,r=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${n}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){bt("Abstract method `_createSVG` called.")}}class eS extends Hpe{_createSVG(e){return document.createElementNS(_a,e)}}class wq{static setupStorage(e,n,r,i,s){const o=i.getValue(n,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(n,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{i.setValue(n,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(n,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of r.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(n,{value:c})});break}}static setAttributes({html:e,element:n,storage:r=null,intent:i,linkService:s}){const{attributes:o}=n,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[l,c]of Object.entries(o))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}a&&s.addLinkAttributes(e,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(e,o.dataId,n,r)}static render(e){var h,d;const n=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:s,linkService:r});const a=s!=="richText",l=e.div;if(l.append(o),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}a&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);o.append(p),a&&X0.shouldBuildText(i.name)&&c.push(p)}return{textDivs:c}}const u=[[i,-1,o]];for(;u.length>0;){const[p,y,g]=u.at(-1);if(y+1===p.children.length){u.pop();continue}const v=p.children[++u.at(-1)[1]];if(v===null)continue;const{name:b}=v;if(b==="#text"){const _=document.createTextNode(v.value);c.push(_),g.append(_);continue}const w=(h=v==null?void 0:v.attributes)!=null&&h.xmlns?document.createElementNS(v.attributes.xmlns,b):document.createElement(b);if(g.append(w),v.attributes&&this.setAttributes({html:w,element:v,storage:n,intent:s,linkService:r}),((d=v.children)==null?void 0:d.length)>0)u.push([v,-1,w]);else if(v.value){const _=document.createTextNode(v.value);a&&X0.shouldBuildText(b)&&c.push(_),w.append(_)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const v1=1e3,Wpe=9,rf=new WeakSet;class K6{static create(e){switch(e.data.annotationType){case dn.LINK:return new _q(e);case dn.TEXT:return new Gpe(e);case dn.WIDGET:switch(e.data.fieldType){case"Tx":return new qpe(e);case"Btn":return e.data.radioButton?new Eq(e):e.data.checkBox?new Xpe(e):new Ype(e);case"Ch":return new Qpe(e);case"Sig":return new Kpe(e)}return new Af(e);case dn.POPUP:return new qR(e);case dn.FREETEXT:return new Iq(e);case dn.LINE:return new Zpe(e);case dn.SQUARE:return new ege(e);case dn.CIRCLE:return new tge(e);case dn.POLYLINE:return new Oq(e);case dn.CARET:return new rge(e);case dn.INK:return new gL(e);case dn.POLYGON:return new nge(e);case dn.HIGHLIGHT:return new kq(e);case dn.UNDERLINE:return new ige(e);case dn.SQUIGGLY:return new sge(e);case dn.STRIKEOUT:return new oge(e);case dn.STAMP:return new Rq(e);case dn.FILEATTACHMENT:return new age(e);default:return new cn(e)}}}var sd,Og,kg,Hw,GR;const Ij=class Ij{constructor(e,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){k(this,Hw);k(this,sd,null);k(this,Og,!1);k(this,kg,null);this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,n&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:n,richText:r}){return!!(e!=null&&e.str||n!=null&&n.str||r!=null&&r.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Ij._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;f(this,sd)||R(this,sd,{rect:this.data.rect.slice(0)});const{rect:n}=e;n&&j(this,Hw,GR).call(this,n),(r=f(this,kg))==null||r.popup.updateEdited(e)}resetEdited(){var e;f(this,sd)&&(j(this,Hw,GR).call(this,f(this,sd).rect),(e=f(this,kg))==null||e.popup.resetEdited(),R(this,sd,null))}_createContainer(e){const{data:n,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",n.id),this instanceof Af||(s.tabIndex=v1);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,n.alternativeText&&(s.title=n.alternativeText),n.noRotate&&s.classList.add("norotate"),!n.rect||this instanceof qR){const{rotation:g}=n;return!n.hasOwnCanvas&&g!==0&&this.setRotation(g,s),s}const{width:a,height:l}=this;if(!e&&n.borderStyle.width>0){o.borderWidth=`${n.borderStyle.width}px`;const g=n.borderStyle.horizontalCornerRadius,v=n.borderStyle.verticalCornerRadius;if(g>0||v>0){const w=`calc(${g}px * var(--total-scale-factor)) / calc(${v}px * var(--total-scale-factor))`;o.borderRadius=w}else if(this instanceof Eq){const w=`calc(${a}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;o.borderRadius=w}switch(n.borderStyle.style){case Yf.SOLID:o.borderStyle="solid";break;case Yf.DASHED:o.borderStyle="dashed";break;case Yf.BEVELED:Ve("Unimplemented border style: beveled");break;case Yf.INSET:Ve("Unimplemented border style: inset");break;case Yf.UNDERLINE:o.borderBottomStyle="solid";break}const b=n.borderColor||null;b?(R(this,Og,!0),o.borderColor=Se.makeHexColor(b[0]|0,b[1]|0,b[2]|0)):o.borderWidth=0}const c=Se.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:u,pageHeight:h,pageX:d,pageY:p}=i.rawDims;o.left=`${100*(c[0]-d)/u}%`,o.top=`${100*(c[1]-p)/h}%`;const{rotation:y}=n;return n.hasOwnCanvas||y===0?(o.width=`${100*a/u}%`,o.height=`${100*l/h}%`):this.setRotation(y,s),s}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:o}=this;e%180!==0&&([s,o]=[o,s]),n.style.width=`${100*s/r}%`,n.style.height=`${100*o/i}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,r,i)=>{const s=i.detail[n],o=s[0],a=s.slice(1);i.target.style[r]=q6[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:q6[`${o}_rgb`](a)})};return Ze(this,"_commonActions",{display:n=>{const{display:r}=n.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,n){const r=this._commonActions;for(const i of Object.keys(n.detail)){const s=e[i]||r[i];s==null||s(n)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[i,s]of Object.entries(n)){const o=r[i];if(o){const a={detail:{[i]:s},target:e};o(a),delete n[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,r,i,s]=this.data.rect.map(g=>Math.fround(g));if(e.length===8){const[g,v,b,w]=e.subarray(2,6);if(i===g&&s===v&&n===b&&r===w)return}const{style:o}=this.container;let a;if(f(this,Og)){const{borderColor:g,borderWidth:v}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${g}" stroke-width="${v}">`],this.container.classList.add("hasBorder")}const l=i-n,c=s-r,{svgFactory:u}=this,h=u.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0);const d=u.createElement("defs");h.append(d);const p=u.createElement("clipPath"),y=`clippath_${this.data.id}`;p.setAttribute("id",y),p.setAttribute("clipPathUnits","objectBoundingBox"),d.append(p);for(let g=2,v=e.length;g<v;g+=8){const b=e[g],w=e[g+1],_=e[g+2],S=e[g+3],x=u.createElement("rect"),T=(_-n)/l,A=(s-w)/c,E=(b-_)/l,O=(w-S)/c;x.setAttribute("x",T),x.setAttribute("y",A),x.setAttribute("width",E),x.setAttribute("height",O),p.append(x),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${T}" y="${A}" width="${E}" height="${O}"/>`)}f(this,Og)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(h),this.container.style.clipPath=`url(#${y})`}_createPopup(){const{data:e}=this,n=R(this,kg,new qR({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(n.render())}render(){bt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:o,exportValues:a}of i){if(s===-1||o===n)continue;const l=typeof a=="string"?a:null,c=document.querySelector(`[data-element-id="${o}"]`);if(c&&!rf.has(c)){Ve(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:l,domElement:c})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,o=i.getAttribute("data-element-id");o!==n&&rf.has(i)&&r.push({id:o,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};sd=new WeakMap,Og=new WeakMap,kg=new WeakMap,Hw=new WeakSet,GR=function(e){const{container:{style:n},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;r==null||r.splice(0,4,...e),n.left=`${100*(e[0]-a)/s}%`,n.top=`${100*(o-e[3]+l)/o}%`,i===0?(n.width=`${100*(e[2]-e[0])/s}%`,n.height=`${100*(e[3]-e[1])/o}%`):this.setRotation(i)};let cn=Ij;var qa,Xu,nP,xq,rP,Aq;class _q extends cn{constructor(n,r=null){super(n,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});k(this,qa);k(this,nP);k(this,rP);this.isTooltipOnly=n.data.isTooltipOnly}render(){const{data:n,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",n.id);let s=!1;return n.url?(r.addLinkAttributes(i,n.url,n.newWindow),s=!0):n.action?(this._bindNamedAction(i,n.action),s=!0):n.attachment?(j(this,nP,xq).call(this,i,n.attachment,n.attachmentDest),s=!0):n.setOCGState?(j(this,rP,Aq).call(this,i,n.setOCGState),s=!0):n.dest?(this._bindLink(i,n.dest),s=!0):(n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,n),s=!0),n.resetForm?(this._bindResetFormAction(i,n.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(n,r){n.href=this.linkService.getDestinationHash(r),n.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&j(this,qa,Xu).call(this)}_bindNamedAction(n,r){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(r),!1),j(this,qa,Xu).call(this)}_bindJSAction(n,r){n.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const o=i.get(s);o&&(n[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}n.onclick||(n.onclick=()=>!1),j(this,qa,Xu).call(this)}_bindResetFormAction(n,r){const i=n.onclick;if(i||(n.href=this.linkService.getAnchorUrl("")),j(this,qa,Xu).call(this),!this._fieldObjects){Ve('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(n.onclick=()=>!1);return}n.onclick=()=>{var h;i==null||i();const{fields:s,refs:o,include:a}=r,l=[];if(s.length!==0||o.length!==0){const d=new Set(o);for(const p of s){const y=this._fieldObjects[p]||[];for(const{id:g}of y)d.add(g)}for(const p of Object.values(this._fieldObjects))for(const y of p)d.has(y.id)===a&&l.push(y)}else for(const d of Object.values(this._fieldObjects))l.push(...d);const c=this.annotationStorage,u=[];for(const d of l){const{id:p}=d;switch(u.push(p),d.type){case"text":{const g=d.defaultValue||"";c.setValue(p,{value:g});break}case"checkbox":case"radiobutton":{const g=d.defaultValue===d.exportValues;c.setValue(p,{value:g});break}case"combobox":case"listbox":{const g=d.defaultValue||"";c.setValue(p,{value:g});break}default:continue}const y=document.querySelector(`[data-element-id="${p}"]`);if(y){if(!rf.has(y)){Ve(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}qa=new WeakSet,Xu=function(){this.container.setAttribute("data-internal-link","")},nP=new WeakSet,xq=function(n,r,i=null){n.href=this.linkService.getAnchorUrl(""),r.description&&(n.title=r.description),n.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(r.content,r.filename,i),!1},j(this,qa,Xu).call(this)},rP=new WeakSet,Aq=function(n,r){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(r),!1),j(this,qa,Xu).call(this)};class Gpe extends cn{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Af extends cn{render(){return this.container}showElementAndHideCanvas(e){var n;this.data.hasOwnCanvas&&(((n=e.previousSibling)==null?void 0:n.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return ur.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,r,i,s){r.includes("mouse")?e.addEventListener(r,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(r,o=>{var a;if(r==="blur"){if(!n.focused||!o.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o)}}))})}_setEventListeners(e,n,r,i){var s,o,a;for(const[l,c]of r)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(n||(n={focused:!1})),this._setEventListener(e,n,l,c,i),c==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,n,"blur","Blur",null):c==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":Se.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||Wpe,s=e.style;let o;const a=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a),u=Math.round(c/(qO*i))||1,h=c/u;o=Math.min(i,l(h/qO))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(i,l(c/qO))}s.fontSize=`calc(${o}px * var(--total-scale-factor))`,s.color=Se.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class qpe extends Af{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,r,i){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[n]=r),s.setValue(o.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const o=e.getValue(n,{value:this.data.fieldValue});let a=o.value||"";const l=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let c=o.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=c??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",c??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),rf.add(r),r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=v1,this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",d=>{e.setValue(n,{value:d.target.value}),this.setPropertyOnSiblings(r,"value",d.target.value,"value"),u.formattedValue=null}),r.addEventListener("resetform",d=>{const p=this.data.defaultFieldValue??"";r.value=u.userValue=p,u.formattedValue=null});let h=d=>{const{formattedValue:p}=u;p!=null&&(d.target.value=p),d.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",p=>{var g;if(u.focused)return;const{target:y}=p;u.userValue&&(y.value=u.userValue),u.lastCommittedValue=y.value,u.commitKey=1,(g=this.data.actions)!=null&&g.Focus||(u.focused=!0)}),r.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const y={value(g){u.userValue=g.detail.value??"",e.setValue(n,{value:u.userValue.toString()}),g.target.value=u.userValue},formattedValue(g){const{formattedValue:v}=g.detail;u.formattedValue=v,v!=null&&g.target!==document.activeElement&&(g.target.value=v),e.setValue(n,{formattedValue:v})},selRange(g){g.target.setSelectionRange(...g.detail.selRange)},charLimit:g=>{var _;const{charLimit:v}=g.detail,{target:b}=g;if(v===0){b.removeAttribute("maxLength");return}b.setAttribute("maxLength",v);let w=u.userValue;!w||w.length<=v||(w=w.slice(0,v),b.value=u.userValue=w,e.setValue(n,{value:w}),(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:w,willCommit:!0,commitKey:1,selStart:b.selectionStart,selEnd:b.selectionEnd}}))}};this._dispatchEventFromSandbox(y,p)}),r.addEventListener("keydown",p=>{var v;u.commitKey=1;let y=-1;if(p.key==="Escape"?y=0:p.key==="Enter"&&!this.data.multiLine?y=2:p.key==="Tab"&&(u.commitKey=3),y===-1)return;const{value:g}=p.target;u.lastCommittedValue!==g&&(u.lastCommittedValue=g,u.userValue=g,(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:g,willCommit:!0,commitKey:y,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const d=h;h=null,r.addEventListener("blur",p=>{var g,v;if(!u.focused||!p.relatedTarget)return;(g=this.data.actions)!=null&&g.Blur||(u.focused=!1);const{value:y}=p.target;u.userValue=y,u.lastCommittedValue!==y&&((v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:y,willCommit:!0,commitKey:u.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),d(p)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",p=>{var x;u.lastCommittedValue=null;const{data:y,target:g}=p,{value:v,selectionStart:b,selectionEnd:w}=g;let _=b,S=w;switch(p.inputType){case"deleteWordBackward":{const T=v.substring(0,b).match(/\w*[^\w]*$/);T&&(_-=T[0].length);break}case"deleteWordForward":{const T=v.substring(b).match(/^[^\w]*\w*/);T&&(S+=T[0].length);break}case"deleteContentBackward":b===w&&(_-=1);break;case"deleteContentForward":b===w&&(S+=1);break}p.preventDefault(),(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:v,change:y||"",willCommit:!1,selStart:_,selEnd:S}})}),this._setEventListeners(r,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(h&&r.addEventListener("blur",h),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${p}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Kpe extends Af{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Xpe extends Af{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return rf.add(s),s.setAttribute("data-element-id",r),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=n.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",n.exportValue),s.tabIndex=v1,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,r)){const u=l&&c.exportValue===n.exportValue;c.domElement&&(c.domElement.checked=u),e.setValue(c.id,{value:u})}e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=n.defaultFieldValue||"Off";o.target.checked=a===n.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Eq extends Af{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof i=="string"&&(i=i!==n.buttonValue,e.setValue(r,{value:i})),i)for(const o of this._getElementsByName(n.fieldName,r))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(rf.add(s),s.setAttribute("data-element-id",r),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=n.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=v1,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,r))e.setValue(c.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=n.defaultFieldValue;o.target.checked=a!=null&&a===n.buttonValue}),this.enableScripting&&this.hasJSActions){const o=n.buttonValue;s.addEventListener("updatefromsandbox",a=>{const l={value:c=>{const u=o===c.detail.value;for(const h of this._getElementsByName(c.target.name)){const d=u&&h.id===r;h.domElement&&(h.domElement.checked=d),e.setValue(h.id,{value:d})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Ype extends _q{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class Qpe extends Af{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");rf.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=v1;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",u=>{const h=this.data.defaultFieldValue;for(const d of i.options)d.selected=d.value===h});for(const u of this.data.options){const h=document.createElement("option");h.textContent=u.displayValue,h.value=u.exportValue,r.value.includes(u.exportValue)&&(h.setAttribute("selected",!0),s=!1),i.append(h)}let o=null;if(s){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),i.prepend(u),o=()=>{u.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const a=u=>{const h=u?"value":"textContent",{options:d,multiple:p}=i;return p?Array.prototype.filter.call(d,y=>y.selected).map(y=>y[h]):d.selectedIndex===-1?null:d[d.selectedIndex][h]};let l=a(!1);const c=u=>{const h=u.target.options;return Array.prototype.map.call(h,d=>({displayValue:d.textContent,exportValue:d.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",u=>{const h={value(d){o==null||o();const p=d.detail.value,y=new Set(Array.isArray(p)?p:[p]);for(const g of i.options)g.selected=y.has(g.value);e.setValue(n,{value:a(!0)}),l=a(!1)},multipleSelection(d){i.multiple=!0},remove(d){const p=i.options,y=d.detail.remove;p[y].selected=!1,i.remove(y),p.length>0&&Array.prototype.findIndex.call(p,v=>v.selected)===-1&&(p[0].selected=!0),e.setValue(n,{value:a(!0),items:c(d)}),l=a(!1)},clear(d){for(;i.length!==0;)i.remove(0);e.setValue(n,{value:null,items:[]}),l=a(!1)},insert(d){const{index:p,displayValue:y,exportValue:g}=d.detail.insert,v=i.children[p],b=document.createElement("option");b.textContent=y,b.value=g,v?v.before(b):i.append(b),e.setValue(n,{value:a(!0),items:c(d)}),l=a(!1)},items(d){const{items:p}=d.detail;for(;i.length!==0;)i.remove(0);for(const y of p){const{displayValue:g,exportValue:v}=y,b=document.createElement("option");b.textContent=g,b.value=v,i.append(b)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(n,{value:a(!0),items:c(d)}),l=a(!1)},indices(d){const p=new Set(d.detail.indices);for(const y of d.target.options)y.selected=p.has(y.index);e.setValue(n,{value:a(!0)}),l=a(!1)},editable(d){d.target.disabled=!d.detail.editable}};this._dispatchEventFromSandbox(h,u)}),i.addEventListener("input",u=>{var p;const h=a(!0),d=a(!1);e.setValue(n,{value:h}),u.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:l,change:d,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):i.addEventListener("input",function(u){e.setValue(n,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class qR extends cn{constructor(e){const{data:n,elements:r}=e;super(e,{isRenderable:cn._hasPopupData(n)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new Jpe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",n.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(r=>`${aL}${r}`).join(",")),this.container}}var Rg,iP,sP,Ng,Mg,Qt,Ka,Dg,Ww,Gw,$g,Xa,qs,Ya,qw,Qa,Kw,od,ad,Lg,DA,Xw,KR,oP,Sq,aP,Tq,lP,Pq,cP,Cq,jg,$A,Fg,LA,Yw,XR;class Jpe{constructor({container:e,color:n,elements:r,titleObj:i,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:c,parentRect:u,open:h}){k(this,Lg);k(this,Xw);k(this,oP);k(this,aP);k(this,lP);k(this,cP);k(this,jg);k(this,Fg);k(this,Yw);k(this,Rg,j(this,lP,Pq).bind(this));k(this,iP,j(this,Yw,XR).bind(this));k(this,sP,j(this,Fg,LA).bind(this));k(this,Ng,j(this,jg,$A).bind(this));k(this,Mg,null);k(this,Qt,null);k(this,Ka,null);k(this,Dg,null);k(this,Ww,null);k(this,Gw,null);k(this,$g,null);k(this,Xa,!1);k(this,qs,null);k(this,Ya,null);k(this,qw,null);k(this,Qa,null);k(this,Kw,null);k(this,od,null);k(this,ad,!1);var d;R(this,Qt,e),R(this,Kw,i),R(this,Ka,o),R(this,Qa,a),R(this,Gw,l),R(this,Mg,n),R(this,qw,c),R(this,$g,u),R(this,Ww,r),R(this,Dg,uL.toDateObject(s)),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",f(this,Ng)),p.addEventListener("mouseenter",f(this,sP)),p.addEventListener("mouseleave",f(this,iP)),p.classList.add("popupTriggerArea");for(const p of r)(d=p.container)==null||d.addEventListener("keydown",f(this,Rg));f(this,Qt).hidden=!0,h&&j(this,jg,$A).call(this)}render(){if(f(this,qs))return;const e=R(this,qs,document.createElement("div"));if(e.className="popup",f(this,Mg)){const s=e.style.outlineColor=Se.makeHexColor(...f(this,Mg));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const n=document.createElement("span");n.className="header";const r=document.createElement("h1");if(n.append(r),{dir:r.dir,str:r.textContent}=f(this,Kw),e.append(n),f(this,Dg)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:f(this,Dg).valueOf()})),n.append(s)}const i=f(this,Lg,DA);if(i)wq.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(f(this,Ka));e.append(s)}f(this,Qt).append(e)}_formatContents({str:e,dir:n}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=n;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,o=i.length;s<o;++s){const a=i[s];r.append(document.createTextNode(a)),s<o-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:n}){var r;f(this,od)||R(this,od,{contentsObj:f(this,Ka),richText:f(this,Qa)}),e&&R(this,Ya,null),n&&(R(this,Qa,j(this,aP,Tq).call(this,n)),R(this,Ka,null)),(r=f(this,qs))==null||r.remove(),R(this,qs,null)}resetEdited(){var e;f(this,od)&&({contentsObj:Fr(this,Ka)._,richText:Fr(this,Qa)._}=f(this,od),R(this,od,null),(e=f(this,qs))==null||e.remove(),R(this,qs,null),R(this,Ya,null))}forceHide(){R(this,ad,this.isVisible),f(this,ad)&&(f(this,Qt).hidden=!0)}maybeShow(){f(this,ad)&&(f(this,qs)||j(this,Fg,LA).call(this),R(this,ad,!1),f(this,Qt).hidden=!1)}get isVisible(){return f(this,Qt).hidden===!1}}Rg=new WeakMap,iP=new WeakMap,sP=new WeakMap,Ng=new WeakMap,Mg=new WeakMap,Qt=new WeakMap,Ka=new WeakMap,Dg=new WeakMap,Ww=new WeakMap,Gw=new WeakMap,$g=new WeakMap,Xa=new WeakMap,qs=new WeakMap,Ya=new WeakMap,qw=new WeakMap,Qa=new WeakMap,Kw=new WeakMap,od=new WeakMap,ad=new WeakMap,Lg=new WeakSet,DA=function(){const e=f(this,Qa),n=f(this,Ka);return e!=null&&e.str&&(!(n!=null&&n.str)||n.str===e.str)&&f(this,Qa).html||null},Xw=new WeakSet,KR=function(){var e,n,r;return((r=(n=(e=f(this,Lg,DA))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.fontSize)||0},oP=new WeakSet,Sq=function(){var e,n,r;return((r=(n=(e=f(this,Lg,DA))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.color)||null},aP=new WeakSet,Tq=function(e){const n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:f(this,oP,Sq),fontSize:f(this,Xw,KR)?`calc(${f(this,Xw,KR)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))n.push({name:"span",value:s,attributes:i});return r},lP=new WeakSet,Pq=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&f(this,Xa))&&j(this,jg,$A).call(this)},cP=new WeakSet,Cq=function(){if(f(this,Ya)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:s}}}=f(this,Gw);let o=!!f(this,$g),a=o?f(this,$g):f(this,qw);for(const y of f(this,Ww))if(!a||Se.intersect(y.data.rect,a)!==null){a=y.data.rect,o=!0;break}const l=Se.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),c=5,u=o?a[2]-a[0]+c:0,h=l[0]+u,d=l[1];R(this,Ya,[100*(h-i)/n,100*(d-s)/r]);const{style:p}=f(this,Qt);p.left=`${f(this,Ya)[0]}%`,p.top=`${f(this,Ya)[1]}%`},jg=new WeakSet,$A=function(){R(this,Xa,!f(this,Xa)),f(this,Xa)?(j(this,Fg,LA).call(this),f(this,Qt).addEventListener("click",f(this,Ng)),f(this,Qt).addEventListener("keydown",f(this,Rg))):(j(this,Yw,XR).call(this),f(this,Qt).removeEventListener("click",f(this,Ng)),f(this,Qt).removeEventListener("keydown",f(this,Rg)))},Fg=new WeakSet,LA=function(){f(this,qs)||this.render(),this.isVisible?f(this,Xa)&&f(this,Qt).classList.add("focused"):(j(this,cP,Cq).call(this),f(this,Qt).hidden=!1,f(this,Qt).style.zIndex=parseInt(f(this,Qt).style.zIndex)+1e3)},Yw=new WeakSet,XR=function(){f(this,Qt).classList.remove("focused"),!(f(this,Xa)||!this.isVisible)&&(f(this,Qt).hidden=!0,f(this,Qt).style.zIndex=parseInt(f(this,Qt).style.zIndex)-1e3)};class Iq extends cn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Fe.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Qw;class Zpe extends cn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});k(this,Qw,null)}render(){this.container.classList.add("lineAnnotation");const{data:n,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),o=R(this,Qw,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),o.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),o.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),o.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),o.setAttribute("stroke-width",n.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return f(this,Qw)}addHighlightArea(){this.container.classList.add("highlightArea")}}Qw=new WeakMap;var Jw;class ege extends cn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});k(this,Jw,null)}render(){this.container.classList.add("squareAnnotation");const{data:n,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),o=n.borderStyle.width,a=R(this,Jw,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",r-o),a.setAttribute("height",i-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return f(this,Jw)}addHighlightArea(){this.container.classList.add("highlightArea")}}Jw=new WeakMap;var Zw;class tge extends cn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});k(this,Zw,null)}render(){this.container.classList.add("circleAnnotation");const{data:n,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),o=n.borderStyle.width,a=R(this,Zw,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",r/2),a.setAttribute("cy",i/2),a.setAttribute("rx",r/2-o/2),a.setAttribute("ry",i/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return f(this,Zw)}addHighlightArea(){this.container.classList.add("highlightArea")}}Zw=new WeakMap;var e_;class Oq extends cn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});k(this,e_,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,vertices:r,borderStyle:i,popupRef:s},width:o,height:a}=this;if(!r)return this.container;const l=this.svgFactory.create(o,a,!0);let c=[];for(let h=0,d=r.length;h<d;h+=2){const p=r[h]-n[0],y=n[3]-r[h+1];c.push(`${p},${y}`)}c=c.join(" ");const u=R(this,e_,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",c),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return f(this,e_)}addHighlightArea(){this.container.classList.add("highlightArea")}}e_=new WeakMap;class nge extends Oq{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class rge extends cn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var t_,ld,n_,YR;class gL extends cn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});k(this,n_);k(this,t_,null);k(this,ld,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Fe.HIGHLIGHT:Fe.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,rotation:r,inkLists:i,borderStyle:s,popupRef:o}}=this,{transform:a,width:l,height:c}=j(this,n_,YR).call(this,r,n),u=this.svgFactory.create(l,c,!0),h=R(this,t_,this.svgFactory.createElement("svg:g"));u.append(h),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",a);for(let d=0,p=i.length;d<p;d++){const y=this.svgFactory.createElement(this.svgElementName);f(this,ld).push(y),y.setAttribute("points",i[d].join(",")),h.append(y)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(u),this._editOnDoubleClick(),this.container}updateEdited(n){super.updateEdited(n);const{thickness:r,points:i,rect:s}=n,o=f(this,t_);if(r>=0&&o.setAttribute("stroke-width",r||1),i)for(let a=0,l=f(this,ld).length;a<l;a++)f(this,ld)[a].setAttribute("points",i[a].join(","));if(s){const{transform:a,width:l,height:c}=j(this,n_,YR).call(this,this.data.rotation,s);o.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),o.setAttribute("transform",a)}}getElementsToTriggerPopup(){return f(this,ld)}addHighlightArea(){this.container.classList.add("highlightArea")}}t_=new WeakMap,ld=new WeakMap,n_=new WeakSet,YR=function(n,r){switch(n){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class kq extends cn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Fe.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class ige extends cn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class sge extends cn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class oge extends cn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Rq extends cn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Fe.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var r_,i_,QR;class age extends cn{constructor(n){var i;super(n,{isRenderable:!0});k(this,i_);k(this,r_,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:n,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",j(this,i_,QR).bind(this)),R(this,r_,i);const{isMac:s}=ur.platform;return n.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&j(this,i_,QR).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),n.append(i),n}getElementsToTriggerPopup(){return f(this,r_)}addHighlightArea(){this.container.classList.add("highlightArea")}}r_=new WeakMap,i_=new WeakSet,QR=function(){var n;(n=this.downloadManager)==null||n.openOrDownloadData(this.content,this.filename)};var s_,cd,Mc,o_,a_,ZR,l_,eN;const Oj=class Oj{constructor({div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:o,structTreeLayer:a}){k(this,a_);k(this,l_);k(this,s_,null);k(this,cd,null);k(this,Mc,new Map);k(this,o_,null);this.div=e,R(this,s_,n),R(this,cd,r),R(this,o_,a||null),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return f(this,Mc).size>0}async render(e){var o;const{annotations:n}=e,r=this.div;tf(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new eS,annotationStorage:e.annotationStorage||new dL,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of n){if(a.noHTML)continue;const l=a.annotationType===dn.POPUP;if(l){const h=i.get(a.id);if(!h)continue;s.elements=h}else if(a.rect[2]===a.rect[0]||a.rect[3]===a.rect[1])continue;s.data=a;const c=K6.create(s);if(!c.isRenderable)continue;if(!l&&a.popupRef){const h=i.get(a.popupRef);h?h.push(c):i.set(a.popupRef,[c])}const u=c.render();a.hidden&&(u.style.visibility="hidden"),await j(this,a_,ZR).call(this,u,a.id),c._isEditable&&(f(this,Mc).set(c.data.id,c),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(c))}j(this,l_,eN).call(this)}async addLinkAnnotations(e,n){const r={data:null,layer:this.div,linkService:n,svgFactory:new eS,parent:this};for(const i of e){i.borderStyle||(i.borderStyle=Oj._defaultBorderStyle),r.data=i;const s=K6.create(r);if(!s.isRenderable)continue;const o=s.render();await j(this,a_,ZR).call(this,o,i.id)}}update({viewport:e}){const n=this.div;this.viewport=e,tf(n,{rotation:e.rotation}),j(this,l_,eN).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(f(this,Mc).values())}getEditableAnnotation(e){return f(this,Mc).get(e)}static get _defaultBorderStyle(){return Ze(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Yf.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};s_=new WeakMap,cd=new WeakMap,Mc=new WeakMap,o_=new WeakMap,a_=new WeakSet,ZR=async function(e,n){var o,a;const r=e.firstChild||e,i=r.id=`${aL}${n}`,s=await((o=f(this,o_))==null?void 0:o.getAriaAttributes(i));if(s)for(const[l,c]of s)r.setAttribute(l,c);this.div.append(e),(a=f(this,s_))==null||a.moveElementInDOM(this.div,e,r,!1)},l_=new WeakSet,eN=function(){var n;if(!f(this,cd))return;const e=this.div;for(const[r,i]of f(this,cd)){const s=e.querySelector(`[data-annotation-id="${r}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:o}=s;o?o.nodeName==="CANVAS"?o.replaceWith(i):o.classList.contains("annotationContent")?o.after(i):o.before(i):s.append(i);const a=f(this,Mc).get(r);a&&(a._hasNoCanvas?((n=this._annotationEditorUIManager)==null||n.setMissingCanvas(r,s.id,i),a._hasNoCanvas=!1):a.canvas=i)}f(this,cd).clear()};let JR=Oj;const Rx=/\r\n?|\n/g;var Ks,Ii,c_,ud,Oi,uP,Nq,hP,Mq,dP,Dq,Vg,jA,Bg,FA,Ug,VA,fP,$q,u_,nN,pP,Lq;const xt=class xt extends Pt{constructor(n){super({...n,name:"freeTextEditor"});k(this,uP);k(this,hP);k(this,dP);k(this,Vg);k(this,Ug);k(this,fP);k(this,pP);k(this,Ks,void 0);k(this,Ii,"");k(this,c_,`${this.id}-editor`);k(this,ud,null);k(this,Oi,void 0);R(this,Ks,n.color||xt._defaultColor||Pt._defaultLineColor),R(this,Oi,n.fontSize||xt._defaultFontSize)}static get _keyboardManager(){const n=xt.prototype,r=o=>o.isEmpty(),i=nf.TRANSLATE_SMALL,s=nf.TRANSLATE_BIG;return Ze(this,"_keyboardManager",new m1([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],n.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],n.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],n._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],n._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],n._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],n._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(n,r){Pt.initialize(n,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(n,r){switch(n){case et.FREETEXT_SIZE:xt._defaultFontSize=r;break;case et.FREETEXT_COLOR:xt._defaultColor=r;break}}updateParams(n,r){switch(n){case et.FREETEXT_SIZE:j(this,uP,Nq).call(this,r);break;case et.FREETEXT_COLOR:j(this,hP,Mq).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[et.FREETEXT_SIZE,xt._defaultFontSize],[et.FREETEXT_COLOR,xt._defaultColor||Pt._defaultLineColor]]}get propertiesToUpdate(){return[[et.FREETEXT_SIZE,f(this,Oi)],[et.FREETEXT_COLOR,f(this,Ks)]]}_translateEmpty(n,r){this._uiManager.translateSelectedEditors(n,r,!0)}getInitialTranslation(){const n=this.parentScale;return[-xt._internalPadding*n,-(xt._internalPadding+f(this,Oi))*n]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),R(this,ud,new AbortController);const n=this._uiManager.combinedSignal(f(this,ud));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:n}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:n}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:n}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:n}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:n}),!0}disableEditMode(){var n;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",f(this,c_)),this._isDraggable=!0,(n=f(this,ud))==null||n.abort(),R(this,ud,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(n){this._focusEventsAllowed&&(super.focusin(n),n.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(n){var r;this.width||(this.enableEditMode(),n&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const n=f(this,Ii),r=R(this,Ii,j(this,dP,Dq).call(this).trimEnd());if(n===r)return;const i=s=>{if(R(this,Ii,s),!s){this.remove();return}j(this,Ug,VA).call(this),this._uiManager.rebuild(this),j(this,Vg,jA).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(n)},mustExec:!1}),j(this,Vg,jA).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(n){n.target===this.div&&n.key==="Enter"&&(this.enterInEditMode(),n.preventDefault())}editorDivKeydown(n){xt._keyboardManager.exec(this,n)}editorDivFocus(n){this.isEditing=!0}editorDivBlur(n){this.isEditing=!1}editorDivInput(n){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let n,r;(this._isCopy||this.annotationElementId)&&(n=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",f(this,c_)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${f(this,Oi)}px * var(--total-scale-factor))`,i.color=f(this,Ks),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[u,h]=this.pageDimensions,[d,p]=this.pageTranslation;let y,g;switch(this.rotation){case 0:y=n+(a[0]-d)/u,g=r+this.height-(a[1]-p)/h;break;case 90:y=n+(a[0]-d)/u,g=r-(a[1]-p)/h,[l,c]=[c,-l];break;case 180:y=n-this.width+(a[0]-d)/u,g=r-(a[1]-p)/h,[l,c]=[-l,-c];break;case 270:y=n+(a[0]-d-this.height*h)/u,g=r+(a[1]-p-this.width*u)/h,[l,c]=[-c,l];break}this.setAt(y*s,g*o,l,c)}else this._moveAfterPaste(n,r);j(this,Ug,VA).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(n){var y,g,v;const r=n.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;n.preventDefault();const s=j(y=xt,u_,nN).call(y,r.getData("text")||"").replaceAll(Rx,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:c}=a,u=[],h=[];if(l.nodeType===Node.TEXT_NODE){const b=l.parentElement;if(h.push(l.nodeValue.slice(c).replaceAll(Rx,"")),b!==this.editorDiv){let w=u;for(const _ of this.editorDiv.childNodes){if(_===b){w=h;continue}w.push(j(g=xt,Bg,FA).call(g,_))}}u.push(l.nodeValue.slice(0,c).replaceAll(Rx,""))}else if(l===this.editorDiv){let b=u,w=0;for(const _ of this.editorDiv.childNodes)w++===c&&(b=h),b.push(j(v=xt,Bg,FA).call(v,_))}R(this,Ii,`${u.join(`
`)}${s}${h.join(`
`)}`),j(this,Ug,VA).call(this);const d=new Range;let p=Math.sumPrecise(u.map(b=>b.length));for(const{firstChild:b}of this.editorDiv.childNodes)if(b.nodeType===Node.TEXT_NODE){const w=b.nodeValue.length;if(p<=w){d.setStart(b,p),d.setEnd(b,p);break}p-=w}o.removeAllRanges(),o.addRange(d)}get contentDiv(){return this.editorDiv}static async deserialize(n,r,i){var a;let s=null;if(n instanceof Iq){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:u,rotation:h,id:d,popupRef:p},textContent:y,textPosition:g,parent:{page:{pageNumber:v}}}=n;if(!y||y.length===0)return null;s=n={annotationType:Fe.FREETEXT,color:Array.from(c),fontSize:l,value:y.join(`
`),position:g,pageIndex:v-1,rect:u.slice(0),rotation:h,id:d,deleted:!1,popupRef:p}}const o=await super.deserialize(n,r,i);return R(o,Oi,n.fontSize),R(o,Ks,Se.makeHexColor(...n.color)),R(o,Ii,j(a=xt,u_,nN).call(a,n.value)),o.annotationElementId=n.id||null,o._initialData=s,o}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=xt._internalPadding*this.parentScale,i=this.getRect(r,r),s=Pt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:f(this,Ks)),o={annotationType:Fe.FREETEXT,color:s,fontSize:f(this,Oi),value:j(this,fP,$q).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?(o.isCopy=!0,o):this.annotationElementId&&!j(this,pP,Lq).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(n){const r=super.renderAnnotationElement(n);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${f(this,Oi)}px * var(--total-scale-factor))`,i.color=f(this,Ks),r.replaceChildren();for(const o of f(this,Ii).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),r.append(a)}const s=xt._internalPadding*this.parentScale;return n.updateEdited({rect:this.getRect(s,s),popupContent:f(this,Ii)}),r}resetAnnotationElement(n){super.resetAnnotationElement(n),n.resetEdited()}};Ks=new WeakMap,Ii=new WeakMap,c_=new WeakMap,ud=new WeakMap,Oi=new WeakMap,uP=new WeakSet,Nq=function(n){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-f(this,Oi))*this.parentScale),R(this,Oi,s),j(this,Vg,jA).call(this)},i=f(this,Oi);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:et.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},hP=new WeakSet,Mq=function(n){const r=s=>{R(this,Ks,this.editorDiv.style.color=s)},i=f(this,Ks);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:et.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},dP=new WeakSet,Dq=function(){var i;const n=[];this.editorDiv.normalize();let r=null;for(const s of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(n.push(j(i=xt,Bg,FA).call(i,s)),r=s);return n.join(`
`)},Vg=new WeakSet,jA=function(){const[n,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/n,this.height=i.height/r):(this.width=i.height/n,this.height=i.width/r),this.fixAndSetPosition()},Bg=new WeakSet,FA=function(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll(Rx,"")},Ug=new WeakSet,VA=function(){if(this.editorDiv.replaceChildren(),!!f(this,Ii))for(const n of f(this,Ii).split(`
`)){const r=document.createElement("div");r.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(r)}},fP=new WeakSet,$q=function(){return f(this,Ii).replaceAll(""," ")},u_=new WeakSet,nN=function(n){return n.replaceAll(" ","")},pP=new WeakSet,Lq=function(n){const{value:r,fontSize:i,color:s,pageIndex:o}=this._initialData;return this._hasBeenMoved||n.value!==r||n.fontSize!==i||n.color.some((a,l)=>a!==s[l])||n.pageIndex!==o},k(xt,Bg),k(xt,u_),de(xt,"_freeTextDefaultContent",""),de(xt,"_internalPadding",0),de(xt,"_defaultColor",null),de(xt,"_defaultFontSize",10),de(xt,"_type","freetext"),de(xt,"_editorType",Fe.FREETEXT);let tN=xt;class be{toSVGPath(){bt("Abstract method `toSVGPath` must be implemented.")}get box(){bt("Abstract getter `box` must be implemented.")}serialize(e,n){bt("Abstract method `serialize` must be implemented.")}static _rescale(e,n,r,i,s,o){o||(o=new Float32Array(e.length));for(let a=0,l=e.length;a<l;a+=2)o[a]=n+e[a]*i,o[a+1]=r+e[a+1]*s;return o}static _rescaleAndSwap(e,n,r,i,s,o){o||(o=new Float32Array(e.length));for(let a=0,l=e.length;a<l;a+=2)o[a]=n+e[a+1]*i,o[a+1]=r+e[a]*s;return o}static _translate(e,n,r,i){i||(i=new Float32Array(e.length));for(let s=0,o=e.length;s<o;s+=2)i[s]=n+e[s],i[s+1]=r+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,n,r,i,s){switch(s){case 90:return[1-n/r,e/i];case 180:return[1-e/r,1-n/i];case 270:return[n/r,1-e/i];default:return[e/r,n/i]}}static _normalizePagePoint(e,n,r){switch(r){case 90:return[1-n,e];case 180:return[1-e,1-n];case 270:return[n,1-e];default:return[e,n]}}static createBezierPoints(e,n,r,i,s,o){return[(e+5*r)/6,(n+5*i)/6,(5*r+s)/6,(5*i+o)/6,(r+s)/2,(i+o)/2]}}de(be,"PRECISION",1e-4);var ki,Xs,zg,Hg,Uo,We,hd,dd,h_,d_,Wg,Gg,Dc,f_,gP,mP,fd,zv,yP,jq,vP,Fq,bP,Vq,wP,Bq,_P,Uq,xP,zq;const Ca=class Ca{constructor({x:e,y:n},r,i,s,o,a=0){k(this,fd);k(this,yP);k(this,vP);k(this,bP);k(this,wP);k(this,_P);k(this,xP);k(this,ki,void 0);k(this,Xs,[]);k(this,zg,void 0);k(this,Hg,void 0);k(this,Uo,[]);k(this,We,new Float32Array(18));k(this,hd,void 0);k(this,dd,void 0);k(this,h_,void 0);k(this,d_,void 0);k(this,Wg,void 0);k(this,Gg,void 0);k(this,Dc,[]);R(this,ki,r),R(this,Gg,s*i),R(this,Hg,o),f(this,We).set([NaN,NaN,NaN,NaN,e,n],6),R(this,zg,a),R(this,d_,f(Ca,f_)*i),R(this,h_,f(Ca,mP)*i),R(this,Wg,i),f(this,Dc).push(e,n)}isEmpty(){return isNaN(f(this,We)[8])}add({x:e,y:n}){var O;R(this,hd,e),R(this,dd,n);const[r,i,s,o]=f(this,ki);let[a,l,c,u]=f(this,We).subarray(8,12);const h=e-c,d=n-u,p=Math.hypot(h,d);if(p<f(this,h_))return!1;const y=p-f(this,d_),g=y/p,v=g*h,b=g*d;let w=a,_=l;a=c,l=u,c+=v,u+=b,(O=f(this,Dc))==null||O.push(e,n);const S=-b/y,x=v/y,T=S*f(this,Gg),A=x*f(this,Gg);return f(this,We).set(f(this,We).subarray(2,8),0),f(this,We).set([c+T,u+A],4),f(this,We).set(f(this,We).subarray(14,18),12),f(this,We).set([c-T,u-A],16),isNaN(f(this,We)[6])?(f(this,Uo).length===0&&(f(this,We).set([a+T,l+A],2),f(this,Uo).push(NaN,NaN,NaN,NaN,(a+T-r)/s,(l+A-i)/o),f(this,We).set([a-T,l-A],14),f(this,Xs).push(NaN,NaN,NaN,NaN,(a-T-r)/s,(l-A-i)/o)),f(this,We).set([w,_,a,l,c,u],6),!this.isEmpty()):(f(this,We).set([w,_,a,l,c,u],6),Math.abs(Math.atan2(_-l,w-a)-Math.atan2(b,v))<Math.PI/2?([a,l,c,u]=f(this,We).subarray(2,6),f(this,Uo).push(NaN,NaN,NaN,NaN,((a+c)/2-r)/s,((l+u)/2-i)/o),[a,l,w,_]=f(this,We).subarray(14,18),f(this,Xs).push(NaN,NaN,NaN,NaN,((w+a)/2-r)/s,((_+l)/2-i)/o),!0):([w,_,a,l,c,u]=f(this,We).subarray(0,6),f(this,Uo).push(((w+5*a)/6-r)/s,((_+5*l)/6-i)/o,((5*a+c)/6-r)/s,((5*l+u)/6-i)/o,((a+c)/2-r)/s,((l+u)/2-i)/o),[c,u,a,l,w,_]=f(this,We).subarray(12,18),f(this,Xs).push(((w+5*a)/6-r)/s,((_+5*l)/6-i)/o,((5*a+c)/6-r)/s,((5*l+u)/6-i)/o,((a+c)/2-r)/s,((l+u)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=f(this,Uo),n=f(this,Xs);if(isNaN(f(this,We)[6])&&!this.isEmpty())return j(this,yP,jq).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);j(this,bP,Vq).call(this,r);for(let i=n.length-6;i>=6;i-=6)isNaN(n[i])?r.push(`L${n[i+4]} ${n[i+5]}`):r.push(`C${n[i]} ${n[i+1]} ${n[i+2]} ${n[i+3]} ${n[i+4]} ${n[i+5]}`);return j(this,vP,Fq).call(this,r),r.join(" ")}newFreeDrawOutline(e,n,r,i,s,o){return new Hq(e,n,r,i,s,o)}getOutlines(){var h;const e=f(this,Uo),n=f(this,Xs),r=f(this,We),[i,s,o,a]=f(this,ki),l=new Float32Array((((h=f(this,Dc))==null?void 0:h.length)??0)+2);for(let d=0,p=l.length-2;d<p;d+=2)l[d]=(f(this,Dc)[d]-i)/o,l[d+1]=(f(this,Dc)[d+1]-s)/a;if(l[l.length-2]=(f(this,hd)-i)/o,l[l.length-1]=(f(this,dd)-s)/a,isNaN(r[6])&&!this.isEmpty())return j(this,wP,Bq).call(this,l);const c=new Float32Array(f(this,Uo).length+24+f(this,Xs).length);let u=e.length;for(let d=0;d<u;d+=2){if(isNaN(e[d])){c[d]=c[d+1]=NaN;continue}c[d]=e[d],c[d+1]=e[d+1]}u=j(this,xP,zq).call(this,c,u);for(let d=n.length-6;d>=6;d-=6)for(let p=0;p<6;p+=2){if(isNaN(n[d+p])){c[u]=c[u+1]=NaN,u+=2;continue}c[u]=n[d+p],c[u+1]=n[d+p+1],u+=2}return j(this,_P,Uq).call(this,c,u),this.newFreeDrawOutline(c,l,f(this,ki),f(this,Wg),f(this,zg),f(this,Hg))}};ki=new WeakMap,Xs=new WeakMap,zg=new WeakMap,Hg=new WeakMap,Uo=new WeakMap,We=new WeakMap,hd=new WeakMap,dd=new WeakMap,h_=new WeakMap,d_=new WeakMap,Wg=new WeakMap,Gg=new WeakMap,Dc=new WeakMap,f_=new WeakMap,gP=new WeakMap,mP=new WeakMap,fd=new WeakSet,zv=function(){const e=f(this,We).subarray(4,6),n=f(this,We).subarray(16,18),[r,i,s,o]=f(this,ki);return[(f(this,hd)+(e[0]-n[0])/2-r)/s,(f(this,dd)+(e[1]-n[1])/2-i)/o,(f(this,hd)+(n[0]-e[0])/2-r)/s,(f(this,dd)+(n[1]-e[1])/2-i)/o]},yP=new WeakSet,jq=function(){const[e,n,r,i]=f(this,ki),[s,o,a,l]=j(this,fd,zv).call(this);return`M${(f(this,We)[2]-e)/r} ${(f(this,We)[3]-n)/i} L${(f(this,We)[4]-e)/r} ${(f(this,We)[5]-n)/i} L${s} ${o} L${a} ${l} L${(f(this,We)[16]-e)/r} ${(f(this,We)[17]-n)/i} L${(f(this,We)[14]-e)/r} ${(f(this,We)[15]-n)/i} Z`},vP=new WeakSet,Fq=function(e){const n=f(this,Xs);e.push(`L${n[4]} ${n[5]} Z`)},bP=new WeakSet,Vq=function(e){const[n,r,i,s]=f(this,ki),o=f(this,We).subarray(4,6),a=f(this,We).subarray(16,18),[l,c,u,h]=j(this,fd,zv).call(this);e.push(`L${(o[0]-n)/i} ${(o[1]-r)/s} L${l} ${c} L${u} ${h} L${(a[0]-n)/i} ${(a[1]-r)/s}`)},wP=new WeakSet,Bq=function(e){const n=f(this,We),[r,i,s,o]=f(this,ki),[a,l,c,u]=j(this,fd,zv).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(n[2]-r)/s,(n[3]-i)/o,NaN,NaN,NaN,NaN,(n[4]-r)/s,(n[5]-i)/o,NaN,NaN,NaN,NaN,a,l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,(n[16]-r)/s,(n[17]-i)/o,NaN,NaN,NaN,NaN,(n[14]-r)/s,(n[15]-i)/o],0),this.newFreeDrawOutline(h,e,f(this,ki),f(this,Wg),f(this,zg),f(this,Hg))},_P=new WeakSet,Uq=function(e,n){const r=f(this,Xs);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],n),n+=6},xP=new WeakSet,zq=function(e,n){const r=f(this,We).subarray(4,6),i=f(this,We).subarray(16,18),[s,o,a,l]=f(this,ki),[c,u,h,d]=j(this,fd,zv).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-s)/a,(r[1]-o)/l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,h,d,NaN,NaN,NaN,NaN,(i[0]-s)/a,(i[1]-o)/l],n),n+=24},k(Ca,f_,8),k(Ca,gP,2),k(Ca,mP,f(Ca,f_)+f(Ca,gP));let tS=Ca;var qg,pd,Ja,p_,Ri,g_,tn,AP,Wq;class Hq extends be{constructor(n,r,i,s,o,a){super();k(this,AP);k(this,qg,void 0);k(this,pd,new Float32Array(4));k(this,Ja,void 0);k(this,p_,void 0);k(this,Ri,void 0);k(this,g_,void 0);k(this,tn,void 0);R(this,tn,n),R(this,Ri,r),R(this,qg,i),R(this,g_,s),R(this,Ja,o),R(this,p_,a),this.lastPoint=[NaN,NaN],j(this,AP,Wq).call(this,a);const[l,c,u,h]=f(this,pd);for(let d=0,p=n.length;d<p;d+=2)n[d]=(n[d]-l)/u,n[d+1]=(n[d+1]-c)/h;for(let d=0,p=r.length;d<p;d+=2)r[d]=(r[d]-l)/u,r[d+1]=(r[d+1]-c)/h}toSVGPath(){const n=[`M${f(this,tn)[4]} ${f(this,tn)[5]}`];for(let r=6,i=f(this,tn).length;r<i;r+=6){if(isNaN(f(this,tn)[r])){n.push(`L${f(this,tn)[r+4]} ${f(this,tn)[r+5]}`);continue}n.push(`C${f(this,tn)[r]} ${f(this,tn)[r+1]} ${f(this,tn)[r+2]} ${f(this,tn)[r+3]} ${f(this,tn)[r+4]} ${f(this,tn)[r+5]}`)}return n.push("Z"),n.join(" ")}serialize([n,r,i,s],o){const a=i-n,l=s-r;let c,u;switch(o){case 0:c=be._rescale(f(this,tn),n,s,a,-l),u=be._rescale(f(this,Ri),n,s,a,-l);break;case 90:c=be._rescaleAndSwap(f(this,tn),n,r,a,l),u=be._rescaleAndSwap(f(this,Ri),n,r,a,l);break;case 180:c=be._rescale(f(this,tn),i,r,-a,l),u=be._rescale(f(this,Ri),i,r,-a,l);break;case 270:c=be._rescaleAndSwap(f(this,tn),i,s,-a,-l),u=be._rescaleAndSwap(f(this,Ri),i,s,-a,-l);break}return{outline:Array.from(c),points:[Array.from(u)]}}get box(){return f(this,pd)}newOutliner(n,r,i,s,o,a=0){return new tS(n,r,i,s,o,a)}getNewOutline(n,r){const[i,s,o,a]=f(this,pd),[l,c,u,h]=f(this,qg),d=o*u,p=a*h,y=i*u+l,g=s*h+c,v=this.newOutliner({x:f(this,Ri)[0]*d+y,y:f(this,Ri)[1]*p+g},f(this,qg),f(this,g_),n,f(this,p_),r??f(this,Ja));for(let b=2;b<f(this,Ri).length;b+=2)v.add({x:f(this,Ri)[b]*d+y,y:f(this,Ri)[b+1]*p+g});return v.getOutlines()}}qg=new WeakMap,pd=new WeakMap,Ja=new WeakMap,p_=new WeakMap,Ri=new WeakMap,g_=new WeakMap,tn=new WeakMap,AP=new WeakSet,Wq=function(n){const r=f(this,tn);let i=r[4],s=r[5];const o=[i,s,i,s];let a=i,l=s;const c=n?Math.max:Math.min;for(let h=6,d=r.length;h<d;h+=6){const p=r[h+4],y=r[h+5];if(isNaN(r[h]))Se.pointBoundingBox(p,y,o),l<y?(a=p,l=y):l===y&&(a=c(a,p));else{const g=[1/0,1/0,-1/0,-1/0];Se.bezierBoundingBox(i,s,...r.slice(h,h+6),g),Se.rectBoundingBox(...g,o),l<g[3]?(a=g[2],l=g[3]):l===g[3]&&(a=c(a,g[2]))}i=p,s=y}const u=f(this,pd);u[0]=o[0]-f(this,Ja),u[1]=o[1]-f(this,Ja),u[2]=o[2]-o[0]+2*f(this,Ja),u[3]=o[3]-o[1]+2*f(this,Ja),this.lastPoint=[a,l]};var m_,y_,$c,Ys,EP,Gq,Kg,BA,SP,qq,TP,Kq,v_,iN;class rN{constructor(e,n=0,r=0,i=!0){k(this,EP);k(this,Kg);k(this,SP);k(this,TP);k(this,v_);k(this,m_,void 0);k(this,y_,void 0);k(this,$c,[]);k(this,Ys,[]);const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:y,y:g,width:v,height:b}of e){const w=Math.floor((y-n)/a)*a,_=Math.ceil((y+v+n)/a)*a,S=Math.floor((g-n)/a)*a,x=Math.ceil((g+b+n)/a)*a,T=[w,S,x,!0],A=[_,S,x,!1];f(this,$c).push(T,A),Se.rectBoundingBox(w,S,_,x,s)}const l=s[2]-s[0]+2*r,c=s[3]-s[1]+2*r,u=s[0]-r,h=s[1]-r,d=f(this,$c).at(i?-1:-2),p=[d[0],d[2]];for(const y of f(this,$c)){const[g,v,b]=y;y[0]=(g-u)/l,y[1]=(v-h)/c,y[2]=(b-h)/c}R(this,m_,new Float32Array([u,h,l,c])),R(this,y_,p)}getOutlines(){f(this,$c).sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const e=[];for(const n of f(this,$c))n[3]?(e.push(...j(this,v_,iN).call(this,n)),j(this,SP,qq).call(this,n)):(j(this,TP,Kq).call(this,n),e.push(...j(this,v_,iN).call(this,n)));return j(this,EP,Gq).call(this,e)}}m_=new WeakMap,y_=new WeakMap,$c=new WeakMap,Ys=new WeakMap,EP=new WeakSet,Gq=function(e){const n=[],r=new Set;for(const o of e){const[a,l,c]=o;n.push([a,l,o],[a,c,o])}n.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=n.length;o<a;o+=2){const l=n[o][2],c=n[o+1][2];l.push(c),c.push(l),r.add(l),r.add(c)}const i=[];let s;for(;r.size>0;){const o=r.values().next().value;let[a,l,c,u,h]=o;r.delete(o);let d=a,p=l;for(s=[a,c],i.push(s);;){let y;if(r.has(u))y=u;else if(r.has(h))y=h;else break;r.delete(y),[a,l,c,u,h]=y,d!==a&&(s.push(d,p,a,p===l?l:c),d=a),p=p===l?c:l}s.push(d,p)}return new lge(i,f(this,m_),f(this,y_))},Kg=new WeakSet,BA=function(e){const n=f(this,Ys);let r=0,i=n.length-1;for(;r<=i;){const s=r+i>>1,o=n[s][0];if(o===e)return s;o<e?r=s+1:i=s-1}return i+1},SP=new WeakSet,qq=function([,e,n]){const r=j(this,Kg,BA).call(this,e);f(this,Ys).splice(r,0,[e,n])},TP=new WeakSet,Kq=function([,e,n]){const r=j(this,Kg,BA).call(this,e);for(let i=r;i<f(this,Ys).length;i++){const[s,o]=f(this,Ys)[i];if(s!==e)break;if(s===e&&o===n){f(this,Ys).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,o]=f(this,Ys)[i];if(s!==e)break;if(s===e&&o===n){f(this,Ys).splice(i,1);return}}},v_=new WeakSet,iN=function(e){const[n,r,i]=e,s=[[n,r,i]],o=j(this,Kg,BA).call(this,i);for(let a=0;a<o;a++){const[l,c]=f(this,Ys)[a];for(let u=0,h=s.length;u<h;u++){const[,d,p]=s[u];if(!(c<=d||p<=l)){if(d>=l){if(p>c)s[u][1]=c;else{if(h===1)return[];s.splice(u,1),u--,h--}continue}s[u][2]=l,p>c&&s.push([n,c,p])}}}return s};var b_,Xg;class lge extends be{constructor(n,r,i){super();k(this,b_,void 0);k(this,Xg,void 0);R(this,Xg,n),R(this,b_,r),this.lastPoint=i}toSVGPath(){const n=[];for(const r of f(this,Xg)){let[i,s]=r;n.push(`M${i} ${s}`);for(let o=2;o<r.length;o+=2){const a=r[o],l=r[o+1];a===i?(n.push(`V${l}`),s=l):l===s&&(n.push(`H${a}`),i=a)}n.push("Z")}return n.join(" ")}serialize([n,r,i,s],o){const a=[],l=i-n,c=s-r;for(const u of f(this,Xg)){const h=new Array(u.length);for(let d=0;d<u.length;d+=2)h[d]=n+u[d]*l,h[d+1]=s-u[d+1]*c;a.push(h)}return a}get box(){return f(this,b_)}get classNamesForOutlining(){return["highlightOutline"]}}b_=new WeakMap,Xg=new WeakMap;class sN extends tS{newFreeDrawOutline(e,n,r,i,s,o){return new cge(e,n,r,i,s,o)}}class cge extends Hq{newOutliner(e,n,r,i,s,o=0){return new sN(e,n,r,i,s,o)}}var Qs,gd,Yg,Tn,w_,Qg,__,x_,Lc,Js,Jg,A_,E_,oN,S_,aN,T_,lN,Za,Yu,PP,Xq,zo,Jl;const si=class si{constructor({editor:e=null,uiManager:n=null}){k(this,E_);k(this,S_);k(this,T_);k(this,Za);k(this,PP);k(this,zo);k(this,Qs,null);k(this,gd,null);k(this,Yg,void 0);k(this,Tn,null);k(this,w_,!1);k(this,Qg,!1);k(this,__,null);k(this,x_,void 0);k(this,Lc,null);k(this,Js,null);k(this,Jg,void 0);var r;e?(R(this,Qg,!1),R(this,Jg,et.HIGHLIGHT_COLOR),R(this,__,e)):(R(this,Qg,!0),R(this,Jg,et.HIGHLIGHT_DEFAULT_COLOR)),R(this,Js,(e==null?void 0:e._uiManager)||n),R(this,x_,f(this,Js)._eventBus),R(this,Yg,(e==null?void 0:e.color)||((r=f(this,Js))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),f(si,A_)||R(si,A_,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ze(this,"_keyboardManager",new m1([[["Escape","mac+Escape"],si.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],si.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],si.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],si.prototype._moveToPrevious],[["Home","mac+Home"],si.prototype._moveToBeginning],[["End","mac+End"],si.prototype._moveToEnd]]))}renderButton(){const e=R(this,Qs,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const n=f(this,Js)._signal;e.addEventListener("click",j(this,Za,Yu).bind(this),{signal:n}),e.addEventListener("keydown",j(this,T_,lN).bind(this),{signal:n});const r=R(this,gd,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=f(this,Yg),e.append(r),e}renderMainDropdown(){const e=R(this,Tn,j(this,E_,oN).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===f(this,Qs)){j(this,Za,Yu).call(this,e);return}const n=e.target.getAttribute("data-color");n&&j(this,S_,aN).call(this,n,e)}_moveToNext(e){var n,r;if(!f(this,zo,Jl)){j(this,Za,Yu).call(this,e);return}if(e.target===f(this,Qs)){(n=f(this,Tn).firstChild)==null||n.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var n,r;if(e.target===((n=f(this,Tn))==null?void 0:n.firstChild)||e.target===f(this,Qs)){f(this,zo,Jl)&&this._hideDropdownFromKeyboard();return}f(this,zo,Jl)||j(this,Za,Yu).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var n;if(!f(this,zo,Jl)){j(this,Za,Yu).call(this,e);return}(n=f(this,Tn).firstChild)==null||n.focus()}_moveToEnd(e){var n;if(!f(this,zo,Jl)){j(this,Za,Yu).call(this,e);return}(n=f(this,Tn).lastChild)==null||n.focus()}hideDropdown(){var e,n;(e=f(this,Tn))==null||e.classList.add("hidden"),(n=f(this,Lc))==null||n.abort(),R(this,Lc,null)}_hideDropdownFromKeyboard(){var e;if(!f(this,Qg)){if(!f(this,zo,Jl)){(e=f(this,__))==null||e.unselect();return}this.hideDropdown(),f(this,Qs).focus({preventScroll:!0,focusVisible:f(this,w_)})}}updateColor(e){if(f(this,gd)&&(f(this,gd).style.backgroundColor=e),!f(this,Tn))return;const n=f(this,Js).highlightColors.values();for(const r of f(this,Tn).children)r.setAttribute("aria-selected",n.next().value===e)}destroy(){var e,n;(e=f(this,Qs))==null||e.remove(),R(this,Qs,null),R(this,gd,null),(n=f(this,Tn))==null||n.remove(),R(this,Tn,null)}};Qs=new WeakMap,gd=new WeakMap,Yg=new WeakMap,Tn=new WeakMap,w_=new WeakMap,Qg=new WeakMap,__=new WeakMap,x_=new WeakMap,Lc=new WeakMap,Js=new WeakMap,Jg=new WeakMap,A_=new WeakMap,E_=new WeakSet,oN=function(){const e=document.createElement("div"),n=f(this,Js)._signal;e.addEventListener("contextmenu",wo,{signal:n}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,i]of f(this,Js).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",f(si,A_)[r]);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=i,s.setAttribute("aria-selected",i===f(this,Yg)),s.addEventListener("click",j(this,S_,aN).bind(this,i),{signal:n}),e.append(s)}return e.addEventListener("keydown",j(this,T_,lN).bind(this),{signal:n}),e},S_=new WeakSet,aN=function(e,n){n.stopPropagation(),f(this,x_).dispatch("switchannotationeditorparams",{source:this,type:f(this,Jg),value:e})},T_=new WeakSet,lN=function(e){si._keyboardManager.exec(this,e)},Za=new WeakSet,Yu=function(e){if(f(this,zo,Jl)){this.hideDropdown();return}if(R(this,w_,e.detail===0),f(this,Lc)||(R(this,Lc,new AbortController),window.addEventListener("pointerdown",j(this,PP,Xq).bind(this),{signal:f(this,Js).combinedSignal(f(this,Lc))})),f(this,Tn)){f(this,Tn).classList.remove("hidden");return}const n=R(this,Tn,j(this,E_,oN).call(this));f(this,Qs).append(n)},PP=new WeakSet,Xq=function(e){var n;(n=f(this,Tn))!=null&&n.contains(e.target)||this.hideDropdown()},zo=new WeakSet,Jl=function(){return f(this,Tn)&&!f(this,Tn).classList.contains("hidden")},k(si,A_,null);let nS=si;var Zg,P_,el,md,em,li,C_,I_,yd,ds,Ni,nr,tm,tl,Tr,nm,fs,O_,k_,cN,rm,UA,CP,Yq,IP,Qq,OP,Jq,R_,uN,nl,Qu,jc,tp,kP,Zq,im,zA,vd,Hv,RP,eK,NP,tK,MP,nK,DP,rK,$P,iK;const rt=class rt extends Pt{constructor(n){super({...n,name:"highlightEditor"});k(this,k_);k(this,rm);k(this,CP);k(this,IP);k(this,OP);k(this,R_);k(this,nl);k(this,kP);k(this,im);k(this,vd);k(this,RP);k(this,NP);k(this,$P);k(this,Zg,null);k(this,P_,0);k(this,el,void 0);k(this,md,null);k(this,em,null);k(this,li,null);k(this,C_,null);k(this,I_,0);k(this,yd,null);k(this,ds,null);k(this,Ni,null);k(this,nr,!1);k(this,tm,null);k(this,tl,void 0);k(this,Tr,null);k(this,nm,"");k(this,fs,void 0);k(this,O_,"");this.color=n.color||rt._defaultColor,R(this,fs,n.thickness||rt._defaultThickness),R(this,tl,n.opacity||rt._defaultOpacity),R(this,el,n.boxes||null),R(this,O_,n.methodOfCreation||""),R(this,nm,n.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",n.highlightId>-1?(R(this,nr,!0),j(this,rm,UA).call(this,n),j(this,nl,Qu).call(this)):f(this,el)&&(R(this,Zg,n.anchorNode),R(this,P_,n.anchorOffset),R(this,C_,n.focusNode),R(this,I_,n.focusOffset),j(this,k_,cN).call(this),j(this,nl,Qu).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const n=rt.prototype;return Ze(this,"_keyboardManager",new m1([[["ArrowLeft","mac+ArrowLeft"],n._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],n._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],n._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],n._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:f(this,nr)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:f(this,fs),methodOfCreation:f(this,O_)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(n){return{numberOfColors:n.get("color").size}}static initialize(n,r){var i;Pt.initialize(n,r),rt._defaultColor||(rt._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(n,r){switch(n){case et.HIGHLIGHT_DEFAULT_COLOR:rt._defaultColor=r;break;case et.HIGHLIGHT_THICKNESS:rt._defaultThickness=r;break}}translateInPage(n,r){}get toolbarPosition(){return f(this,tm)}updateParams(n,r){switch(n){case et.HIGHLIGHT_COLOR:j(this,CP,Yq).call(this,r);break;case et.HIGHLIGHT_THICKNESS:j(this,IP,Qq).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[et.HIGHLIGHT_DEFAULT_COLOR,rt._defaultColor],[et.HIGHLIGHT_THICKNESS,rt._defaultThickness]]}get propertiesToUpdate(){return[[et.HIGHLIGHT_COLOR,this.color||rt._defaultColor],[et.HIGHLIGHT_THICKNESS,f(this,fs)||rt._defaultThickness],[et.HIGHLIGHT_FREE,f(this,nr)]]}async addEditToolbar(){const n=await super.addEditToolbar();return n?(this._uiManager.highlightColors&&(R(this,em,new nS({editor:this})),n.addColorPicker(f(this,em))),n):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(j(this,vd,Hv).call(this))}getBaseTranslation(){return[0,0]}getRect(n,r){return super.getRect(n,r,j(this,vd,Hv).call(this))}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),n&&this.div.focus()}remove(){j(this,R_,uN).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(j(this,nl,Qu).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var i;let r=!1;this.parent&&!n?j(this,R_,uN).call(this):n&&(j(this,nl,Qu).call(this,n),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(n),this.show(this._isVisible),r&&this.select()}rotate(n){var s,o,a;const{drawLayer:r}=this.parent;let i;f(this,nr)?(n=(n-this.rotation+360)%360,i=j(s=rt,jc,tp).call(s,f(this,ds).box,n)):i=j(o=rt,jc,tp).call(o,[this.x,this.y,this.width,this.height],n),r.updateProperties(f(this,Ni),{bbox:i,root:{"data-main-rotation":n}}),r.updateProperties(f(this,Tr),{bbox:j(a=rt,jc,tp).call(a,f(this,li).box,n),root:{"data-main-rotation":n}})}render(){if(this.div)return this.div;const n=super.render();f(this,nm)&&(n.setAttribute("aria-label",f(this,nm)),n.setAttribute("role","mark")),f(this,nr)?n.classList.add("free"):this.div.addEventListener("keydown",j(this,kP,Zq).bind(this),{signal:this._uiManager._signal});const r=R(this,yd,document.createElement("div"));n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=f(this,md);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),EG(this,f(this,yd),["pointerover","pointerleave"]),this.enableEditing(),n}pointerover(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(f(this,Tr),{rootClass:{hovered:!0}})}pointerleave(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(f(this,Tr),{rootClass:{hovered:!1}})}_moveCaret(n){switch(this.parent.unselect(this),n){case 0:case 2:j(this,im,zA).call(this,!0);break;case 1:case 3:j(this,im,zA).call(this,!1);break}}select(){var n;super.select(),f(this,Tr)&&((n=this.parent)==null||n.drawLayer.updateProperties(f(this,Tr),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var n;super.unselect(),f(this,Tr)&&((n=this.parent)==null||n.drawLayer.updateProperties(f(this,Tr),{rootClass:{selected:!1}}),f(this,nr)||j(this,im,zA).call(this,!1))}get _mustFixPosition(){return!f(this,nr)}show(n=this._isVisible){super.show(n),this.parent&&(this.parent.drawLayer.updateProperties(f(this,Ni),{rootClass:{hidden:!n}}),this.parent.drawLayer.updateProperties(f(this,Tr),{rootClass:{hidden:!n}}))}static startHighlighting(n,r,{target:i,x:s,y:o}){const{x:a,y:l,width:c,height:u}=i.getBoundingClientRect(),h=new AbortController,d=n.combinedSignal(h),p=y=>{h.abort(),j(this,DP,rK).call(this,n,y)};window.addEventListener("blur",p,{signal:d}),window.addEventListener("pointerup",p,{signal:d}),window.addEventListener("pointerdown",vn,{capture:!0,passive:!1,signal:d}),window.addEventListener("contextmenu",wo,{signal:d}),i.addEventListener("pointermove",j(this,MP,nK).bind(this,n),{signal:d}),this._freeHighlight=new sN({x:s,y:o},[a,l,c,u],n.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(n,r,i){var g,v,b,w;let s=null;if(n instanceof kq){const{data:{quadPoints:_,rect:S,rotation:x,id:T,color:A,opacity:E,popupRef:O},parent:{page:{pageNumber:M}}}=n;s=n={annotationType:Fe.HIGHLIGHT,color:Array.from(A),opacity:E,quadPoints:_,boxes:null,pageIndex:M-1,rect:S.slice(0),rotation:x,id:T,deleted:!1,popupRef:O}}else if(n instanceof gL){const{data:{inkLists:_,rect:S,rotation:x,id:T,color:A,borderStyle:{rawWidth:E},popupRef:O},parent:{page:{pageNumber:M}}}=n;s=n={annotationType:Fe.HIGHLIGHT,color:Array.from(A),thickness:E,inkLists:_,boxes:null,pageIndex:M-1,rect:S.slice(0),rotation:x,id:T,deleted:!1,popupRef:O}}const{color:o,quadPoints:a,inkLists:l,opacity:c}=n,u=await super.deserialize(n,r,i);u.color=Se.makeHexColor(...o),R(u,tl,c||1),l&&R(u,fs,n.thickness),u.annotationElementId=n.id||null,u._initialData=s;const[h,d]=u.pageDimensions,[p,y]=u.pageTranslation;if(a){const _=R(u,el,[]);for(let S=0;S<a.length;S+=8)_.push({x:(a[S]-p)/h,y:1-(a[S+1]-y)/d,width:(a[S+2]-a[S])/h,height:(a[S+1]-a[S+5])/d});j(g=u,k_,cN).call(g),j(v=u,nl,Qu).call(v),u.rotate(u.rotation)}else if(l){R(u,nr,!0);const _=l[0],S={x:_[0]-p,y:d-(_[1]-y)},x=new sN(S,[0,0,h,d],1,f(u,fs)/2,!0,.001);for(let E=0,O=_.length;E<O;E+=2)S.x=_[E]-p,S.y=d-(_[E+1]-y),x.add(S);const{id:T,clipPathId:A}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:u.color,"fill-opacity":u._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:x.toSVGPath()}},!0,!0);j(b=u,rm,UA).call(b,{highlightOutlines:x.getOutlines(),highlightId:T,clipPathId:A}),j(w=u,nl,Qu).call(w),u.rotate(u.parentRotation)}return u}serialize(n=!1){if(this.isEmpty()||n)return null;if(this.deleted)return this.serializeDeleted();const r=this.getRect(0,0),i=Pt._colorManager.convert(this.color),s={annotationType:Fe.HIGHLIGHT,color:i,opacity:f(this,tl),thickness:f(this,fs),quadPoints:j(this,RP,eK).call(this),outlines:j(this,NP,tK).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:j(this,vd,Hv).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!j(this,$P,iK).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Zg=new WeakMap,P_=new WeakMap,el=new WeakMap,md=new WeakMap,em=new WeakMap,li=new WeakMap,C_=new WeakMap,I_=new WeakMap,yd=new WeakMap,ds=new WeakMap,Ni=new WeakMap,nr=new WeakMap,tm=new WeakMap,tl=new WeakMap,Tr=new WeakMap,nm=new WeakMap,fs=new WeakMap,O_=new WeakMap,k_=new WeakSet,cN=function(){const n=new rN(f(this,el),.001);R(this,ds,n.getOutlines()),[this.x,this.y,this.width,this.height]=f(this,ds).box;const r=new rN(f(this,el),.0025,.001,this._uiManager.direction==="ltr");R(this,li,r.getOutlines());const{lastPoint:i}=f(this,li);R(this,tm,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},rm=new WeakSet,UA=function({highlightOutlines:n,highlightId:r,clipPathId:i}){var h,d;R(this,ds,n);const s=1.5;if(R(this,li,n.getNewOutline(f(this,fs)/2+s,.0025)),r>=0)R(this,Ni,r),R(this,md,i),this.parent.drawLayer.finalizeDraw(r,{bbox:n.box,path:{d:n.toSVGPath()}}),R(this,Tr,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:f(this,li).box,path:{d:f(this,li).toSVGPath()}},!0));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(f(this,Ni),{bbox:j(h=rt,jc,tp).call(h,f(this,ds).box,(p-this.rotation+360)%360),path:{d:n.toSVGPath()}}),this.parent.drawLayer.updateProperties(f(this,Tr),{bbox:j(d=rt,jc,tp).call(d,f(this,li).box,p),path:{d:f(this,li).toSVGPath()}})}const[o,a,l,c]=n.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=c;break;case 90:{const[p,y]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*y/p,this.height=c*p/y;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=c;break;case 270:{const[p,y]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*y/p,this.height=c*p/y;break}}const{lastPoint:u}=f(this,li);R(this,tm,[(u[0]-o)/l,(u[1]-a)/c])},CP=new WeakSet,Yq=function(n){const r=(o,a)=>{var l,c;this.color=o,R(this,tl,a),(l=this.parent)==null||l.drawLayer.updateProperties(f(this,Ni),{root:{fill:o,"fill-opacity":a}}),(c=f(this,em))==null||c.updateColor(o)},i=this.color,s=f(this,tl);this.addCommands({cmd:r.bind(this,n,rt._defaultOpacity),undo:r.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:et.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(n)},!0)},IP=new WeakSet,Qq=function(n){const r=f(this,fs),i=s=>{R(this,fs,s),j(this,OP,Jq).call(this,s)};this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:et.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)},OP=new WeakSet,Jq=function(n){if(!f(this,nr))return;j(this,rm,UA).call(this,{highlightOutlines:f(this,ds).getNewOutline(n/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},R_=new WeakSet,uN=function(){f(this,Ni)===null||!this.parent||(this.parent.drawLayer.remove(f(this,Ni)),R(this,Ni,null),this.parent.drawLayer.remove(f(this,Tr)),R(this,Tr,null))},nl=new WeakSet,Qu=function(n=this.parent){f(this,Ni)===null&&({id:Fr(this,Ni)._,clipPathId:Fr(this,md)._}=n.drawLayer.draw({bbox:f(this,ds).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":f(this,tl)},rootClass:{highlight:!0,free:f(this,nr)},path:{d:f(this,ds).toSVGPath()}},!1,!0),R(this,Tr,n.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:f(this,nr)},bbox:f(this,li).box,path:{d:f(this,li).toSVGPath()}},f(this,nr))),f(this,yd)&&(f(this,yd).style.clipPath=f(this,md)))},jc=new WeakSet,tp=function([n,r,i,s],o){switch(o){case 90:return[1-r-s,n,s,i];case 180:return[1-n-i,1-r-s,i,s];case 270:return[r,1-n-i,s,i]}return[n,r,i,s]},kP=new WeakSet,Zq=function(n){rt._keyboardManager.exec(this,n)},im=new WeakSet,zA=function(n){if(!f(this,Zg))return;const r=window.getSelection();n?r.setPosition(f(this,Zg),f(this,P_)):r.setPosition(f(this,C_),f(this,I_))},vd=new WeakSet,Hv=function(){return f(this,nr)?this.rotation:0},RP=new WeakSet,eK=function(){if(f(this,nr))return null;const[n,r]=this.pageDimensions,[i,s]=this.pageTranslation,o=f(this,el),a=new Float32Array(o.length*8);let l=0;for(const{x:c,y:u,width:h,height:d}of o){const p=c*n+i,y=(1-u)*r+s;a[l]=a[l+4]=p,a[l+1]=a[l+3]=y,a[l+2]=a[l+6]=p+h*n,a[l+5]=a[l+7]=y-d*r,l+=8}return a},NP=new WeakSet,tK=function(n){return f(this,ds).serialize(n,j(this,vd,Hv).call(this))},MP=new WeakSet,nK=function(n,r){this._freeHighlight.add(r)&&n.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},DP=new WeakSet,rK=function(n,r){this._freeHighlight.isEmpty()?n.drawLayer.remove(this._freeHighlightId):n.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},$P=new WeakSet,iK=function(n){const{color:r}=this._initialData;return n.color.some((i,s)=>i!==r[s])},k(rt,jc),k(rt,MP),k(rt,DP),de(rt,"_defaultColor",null),de(rt,"_defaultOpacity",1),de(rt,"_defaultThickness",12),de(rt,"_type","highlight"),de(rt,"_editorType",Fe.HIGHLIGHT),de(rt,"_freeHighlightId",-1),de(rt,"_freeHighlight",null),de(rt,"_freeHighlightClipId","");let rS=rt;var bd;class sK{constructor(){k(this,bd,Object.create(null))}updateProperty(e,n){this[e]=n,this.updateSVGProperty(e,n)}updateProperties(e){if(e)for(const[n,r]of Object.entries(e))n.startsWith("_")||this.updateProperty(n,r)}updateSVGProperty(e,n){f(this,bd)[e]=n}toSVGProperties(){const e=f(this,bd);return R(this,bd,Object.create(null)),{root:e}}reset(){R(this,bd,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){bt("Not implemented")}}bd=new WeakMap;var Mi,sm,Vn,wd,_d,Fc,Vc,Bc,xd,N_,hN,M_,dN,D_,fN,Ad,Wv,LP,oK,om,HA,Ed,Gv,Uc,np;const xe=class xe extends Pt{constructor(n){super(n);k(this,N_);k(this,M_);k(this,D_);k(this,Ad);k(this,LP);k(this,om);k(this,Ed);k(this,Uc);k(this,Mi,null);k(this,sm,void 0);de(this,"_drawId",null);R(this,sm,n.mustBeCommitted||!1),this._addOutlines(n)}_addOutlines(n){n.drawOutlines&&(j(this,N_,hN).call(this,n),j(this,Ad,Wv).call(this))}static _mergeSVGProperties(n,r){const i=new Set(Object.keys(n));for(const[s,o]of Object.entries(r))i.has(s)?Object.assign(n[s],o):n[s]=o;return n}static getDefaultDrawingOptions(n){bt("Not implemented")}static get typesMap(){bt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(n,r){const i=this.typesMap.get(n);i&&this._defaultDrawingOptions.updateProperty(i,r),this._currentParent&&(f(xe,Vn).updateProperty(i,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(n,r){const i=this.constructor.typesMap.get(n);i&&this._updateProperty(n,i,r)}static get defaultPropertiesToUpdate(){const n=[],r=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)n.push([i,r[s]]);return n}get propertiesToUpdate(){const n=[],{_drawingOptions:r}=this;for(const[i,s]of this.constructor.typesMap)n.push([i,r[s]]);return n}_updateProperty(n,r,i){const s=this._drawingOptions,o=s[r],a=l=>{var u;s.updateProperty(r,l);const c=f(this,Mi).updateProperty(r,l);c&&j(this,Ed,Gv).call(this,c),(u=this.parent)==null||u.drawLayer.updateProperties(this._drawId,s.toSVGProperties())};this.addCommands({cmd:a.bind(this,i),undo:a.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:n,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,xe._mergeSVGProperties(f(this,Mi).getPathResizingSVGProperties(j(this,om,HA).call(this)),{bbox:j(this,Uc,np).call(this)}))}_onResized(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,xe._mergeSVGProperties(f(this,Mi).getPathResizedSVGProperties(j(this,om,HA).call(this)),{bbox:j(this,Uc,np).call(this)}))}_onTranslating(n,r){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:j(this,Uc,np).call(this)})}_onTranslated(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,xe._mergeSVGProperties(f(this,Mi).getPathTranslatedSVGProperties(j(this,om,HA).call(this),this.parentDimensions),{bbox:j(this,Uc,np).call(this)}))}_onStartDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,f(this,sm)&&(R(this,sm,!1),this.commit(),this.parent.setSelected(this),n&&this.isOnScreen&&this.div.focus())}remove(){j(this,D_,fN).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(j(this,Ad,Wv).call(this),j(this,Ed,Gv).call(this,f(this,Mi).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var i;let r=!1;this.parent&&!n?(this._uiManager.removeShouldRescale(this),j(this,D_,fN).call(this)):n&&(this._uiManager.addShouldRescale(this),j(this,Ad,Wv).call(this,n),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(n),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,xe._mergeSVGProperties({bbox:j(this,Uc,np).call(this)},f(this,Mi).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&j(this,Ed,Gv).call(this,f(this,Mi).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let n,r;this._isCopy&&(n=this.x,r=this.y);const i=super.render();i.classList.add("draw");const s=document.createElement("div");i.append(s),s.setAttribute("aria-hidden","true"),s.className="internal";const[o,a]=this.parentDimensions;return this.setDims(this.width*o,this.height*a),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(n,r),i}static createDrawerInstance(n,r,i,s,o){bt("Not implemented")}static startDrawing(n,r,i,s){var v;const{target:o,offsetX:a,offsetY:l,pointerId:c,pointerType:u}=s;if(f(xe,Vc)&&f(xe,Vc)!==u)return;const{viewport:{rotation:h}}=n,{width:d,height:p}=o.getBoundingClientRect(),y=R(xe,wd,new AbortController),g=n.combinedSignal(y);if(f(xe,Fc)||R(xe,Fc,c),f(xe,Vc)??R(xe,Vc,u),window.addEventListener("pointerup",b=>{var w;f(xe,Fc)===b.pointerId?this._endDraw(b):(w=f(xe,Bc))==null||w.delete(b.pointerId)},{signal:g}),window.addEventListener("pointercancel",b=>{var w;f(xe,Fc)===b.pointerId?this._currentParent.endDrawingSession():(w=f(xe,Bc))==null||w.delete(b.pointerId)},{signal:g}),window.addEventListener("pointerdown",b=>{f(xe,Vc)===b.pointerType&&((f(xe,Bc)||R(xe,Bc,new Set)).add(b.pointerId),f(xe,Vn).isCancellable()&&(f(xe,Vn).removeLastElement(),f(xe,Vn).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",wo,{signal:g}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:g}),o.addEventListener("touchmove",b=>{b.timeStamp===f(xe,xd)&&vn(b)},{signal:g}),n.toggleDrawing(),(v=r._editorUndoBar)==null||v.hide(),f(xe,Vn)){n.drawLayer.updateProperties(this._currentDrawId,f(xe,Vn).startNew(a,l,d,p,h));return}r.updateUIForDefaultProperties(this),R(xe,Vn,this.createDrawerInstance(a,l,d,p,h)),R(xe,_d,this.getDefaultDrawingOptions()),this._currentParent=n,{id:this._currentDrawId}=n.drawLayer.draw(this._mergeSVGProperties(f(xe,_d).toSVGProperties(),f(xe,Vn).defaultSVGProperties),!0,!1)}static _drawMove(n){var o;if(R(xe,xd,-1),!f(xe,Vn))return;const{offsetX:r,offsetY:i,pointerId:s}=n;if(f(xe,Fc)===s){if(((o=f(xe,Bc))==null?void 0:o.size)>=1){this._endDraw(n);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,f(xe,Vn).add(r,i)),R(xe,xd,n.timeStamp),vn(n)}}static _cleanup(n){n&&(this._currentDrawId=-1,this._currentParent=null,R(xe,Vn,null),R(xe,_d,null),R(xe,Vc,null),R(xe,xd,NaN)),f(xe,wd)&&(f(xe,wd).abort(),R(xe,wd,null),R(xe,Fc,NaN),R(xe,Bc,null))}static _endDraw(n){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),(n==null?void 0:n.target)===r.div&&r.drawLayer.updateProperties(this._currentDrawId,f(xe,Vn).end(n.offsetX,n.offsetY)),this.supportMultipleDrawings){const i=f(xe,Vn),s=this._currentDrawId,o=i.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(s,i.setLastElement(o))},undo:()=>{r.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:et.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(n){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(et.DRAW_STEP),!f(xe,Vn).isEmpty()){const{pageDimensions:[i,s],scale:o}=r,a=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:f(xe,Vn).getOutlines(i*o,s*o,o,this._INNER_MARGIN),drawingOptions:f(xe,_d),mustBeCommitted:!n});return this._cleanup(!0),a}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(n){}static deserializeDraw(n,r,i,s,o,a){bt("Not implemented")}static async deserialize(n,r,i){var h,d;const{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}=r.viewport,c=this.deserializeDraw(a,l,s,o,this._INNER_MARGIN,n),u=await super.deserialize(n,r,i);return u.createDrawingOptions(n),j(h=u,N_,hN).call(h,{drawOutlines:c}),j(d=u,Ad,Wv).call(d),u.onScaleChanging(),u.rotate(),u}serializeDraw(n){const[r,i]=this.pageTranslation,[s,o]=this.pageDimensions;return f(this,Mi).serialize([r,i,s,o],n)}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Mi=new WeakMap,sm=new WeakMap,Vn=new WeakMap,wd=new WeakMap,_d=new WeakMap,Fc=new WeakMap,Vc=new WeakMap,Bc=new WeakMap,xd=new WeakMap,N_=new WeakSet,hN=function({drawOutlines:n,drawId:r,drawingOptions:i}){R(this,Mi,n),this._drawingOptions||(this._drawingOptions=i),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,n.defaultProperties)):this._drawId=j(this,M_,dN).call(this,n,this.parent),j(this,Ed,Gv).call(this,n.box)},M_=new WeakSet,dN=function(n,r){const{id:i}=r.drawLayer.draw(xe._mergeSVGProperties(this._drawingOptions.toSVGProperties(),n.defaultSVGProperties),!1,!1);return i},D_=new WeakSet,fN=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Ad=new WeakSet,Wv=function(n=this.parent){if(!(this._drawId!==null&&this.parent===n)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,n.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=j(this,M_,dN).call(this,f(this,Mi),n)}},LP=new WeakSet,oK=function([n,r,i,s]){const{parentDimensions:[o,a],rotation:l}=this;switch(l){case 90:return[r,1-n,i*(a/o),s*(o/a)];case 180:return[1-n,1-r,i,s];case 270:return[1-r,n,i*(a/o),s*(o/a)];default:return[n,r,i,s]}},om=new WeakSet,HA=function(){const{x:n,y:r,width:i,height:s,parentDimensions:[o,a],rotation:l}=this;switch(l){case 90:return[1-r,n,i*(o/a),s*(a/o)];case 180:return[1-n,1-r,i,s];case 270:return[r,1-n,i*(o/a),s*(a/o)];default:return[n,r,i,s]}},Ed=new WeakSet,Gv=function(n){if([this.x,this.y,this.width,this.height]=j(this,LP,oK).call(this,n),this.div){this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)}this._onResized()},Uc=new WeakSet,np=function(){const{x:n,y:r,width:i,height:s,rotation:o,parentRotation:a,parentDimensions:[l,c]}=this;switch((o*4+a)/90){case 1:return[1-r-s,n,s,i];case 2:return[1-n-i,1-r-s,i,s];case 3:return[r,1-n-i,s,i];case 4:return[n,r-i*(l/c),s*(c/l),i*(l/c)];case 5:return[1-r,n,i*(l/c),s*(c/l)];case 6:return[1-n-s*(c/l),1-r,s*(c/l),i*(l/c)];case 7:return[r-i*(l/c),1-n-s*(c/l),i*(l/c),s*(c/l)];case 8:return[n-i,r-s,i,s];case 9:return[1-r,n-i,s,i];case 10:return[1-n,1-r,i,s];case 11:return[r-s,1-n,s,i];case 12:return[n-s*(c/l),r,s*(c/l),i*(l/c)];case 13:return[1-r-i*(l/c),n-s*(c/l),i*(l/c),s*(c/l)];case 14:return[1-n,1-r-i*(l/c),s*(c/l),i*(l/c)];case 15:return[r,1-n,i*(l/c),s*(c/l)];default:return[n,r,i,s]}},de(xe,"_currentDrawId",-1),de(xe,"_currentParent",null),k(xe,Vn,null),k(xe,wd,null),k(xe,_d,null),k(xe,Fc,NaN),k(xe,Vc,null),k(xe,Bc,null),k(xe,xd,NaN),de(xe,"_INNER_MARGIN",3);let iS=xe;var Ho,Bn,Un,Sd,am,zr,rr,ps,Td,Pd,Cd,lm,WA;class uge{constructor(e,n,r,i,s,o){k(this,lm);k(this,Ho,new Float64Array(6));k(this,Bn,void 0);k(this,Un,void 0);k(this,Sd,void 0);k(this,am,void 0);k(this,zr,void 0);k(this,rr,"");k(this,ps,0);k(this,Td,new b1);k(this,Pd,void 0);k(this,Cd,void 0);R(this,Pd,r),R(this,Cd,i),R(this,Sd,s),R(this,am,o),[e,n]=j(this,lm,WA).call(this,e,n);const a=R(this,Bn,[NaN,NaN,NaN,NaN,e,n]);R(this,zr,[e,n]),R(this,Un,[{line:a,points:f(this,zr)}]),f(this,Ho).set(a,0)}updateProperty(e,n){e==="stroke-width"&&R(this,am,n)}isEmpty(){return!f(this,Un)||f(this,Un).length===0}isCancellable(){return f(this,zr).length<=10}add(e,n){[e,n]=j(this,lm,WA).call(this,e,n);const[r,i,s,o]=f(this,Ho).subarray(2,6),a=e-s,l=n-o;return Math.hypot(f(this,Pd)*a,f(this,Cd)*l)<=2?null:(f(this,zr).push(e,n),isNaN(r)?(f(this,Ho).set([s,o,e,n],2),f(this,Bn).push(NaN,NaN,NaN,NaN,e,n),{path:{d:this.toSVGPath()}}):(isNaN(f(this,Ho)[0])&&f(this,Bn).splice(6,6),f(this,Ho).set([r,i,s,o,e,n],0),f(this,Bn).push(...be.createBezierPoints(r,i,s,o,e,n)),{path:{d:this.toSVGPath()}}))}end(e,n){const r=this.add(e,n);return r||(f(this,zr).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,n,r,i,s){R(this,Pd,r),R(this,Cd,i),R(this,Sd,s),[e,n]=j(this,lm,WA).call(this,e,n);const o=R(this,Bn,[NaN,NaN,NaN,NaN,e,n]);R(this,zr,[e,n]);const a=f(this,Un).at(-1);return a&&(a.line=new Float32Array(a.line),a.points=new Float32Array(a.points)),f(this,Un).push({line:o,points:f(this,zr)}),f(this,Ho).set(o,0),R(this,ps,0),this.toSVGPath(),null}getLastElement(){return f(this,Un).at(-1)}setLastElement(e){return f(this,Un)?(f(this,Un).push(e),R(this,Bn,e.line),R(this,zr,e.points),R(this,ps,0),{path:{d:this.toSVGPath()}}):f(this,Td).setLastElement(e)}removeLastElement(){if(!f(this,Un))return f(this,Td).removeLastElement();f(this,Un).pop(),R(this,rr,"");for(let e=0,n=f(this,Un).length;e<n;e++){const{line:r,points:i}=f(this,Un)[e];R(this,Bn,r),R(this,zr,i),R(this,ps,0),this.toSVGPath()}return{path:{d:f(this,rr)}}}toSVGPath(){const e=be.svgRound(f(this,Bn)[4]),n=be.svgRound(f(this,Bn)[5]);if(f(this,zr).length===2)return R(this,rr,`${f(this,rr)} M ${e} ${n} Z`),f(this,rr);if(f(this,zr).length<=6){const i=f(this,rr).lastIndexOf("M");R(this,rr,`${f(this,rr).slice(0,i)} M ${e} ${n}`),R(this,ps,6)}if(f(this,zr).length===4){const i=be.svgRound(f(this,Bn)[10]),s=be.svgRound(f(this,Bn)[11]);return R(this,rr,`${f(this,rr)} L ${i} ${s}`),R(this,ps,12),f(this,rr)}const r=[];f(this,ps)===0&&(r.push(`M ${e} ${n}`),R(this,ps,6));for(let i=f(this,ps),s=f(this,Bn).length;i<s;i+=6){const[o,a,l,c,u,h]=f(this,Bn).slice(i,i+6).map(be.svgRound);r.push(`C${o} ${a} ${l} ${c} ${u} ${h}`)}return R(this,rr,f(this,rr)+r.join(" ")),R(this,ps,f(this,Bn).length),f(this,rr)}getOutlines(e,n,r,i){const s=f(this,Un).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),f(this,Td).build(f(this,Un),e,n,r,f(this,Sd),f(this,am),i),R(this,Ho,null),R(this,Bn,null),R(this,Un,null),R(this,rr,null),f(this,Td)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Ho=new WeakMap,Bn=new WeakMap,Un=new WeakMap,Sd=new WeakMap,am=new WeakMap,zr=new WeakMap,rr=new WeakMap,ps=new WeakMap,Td=new WeakMap,Pd=new WeakMap,Cd=new WeakMap,lm=new WeakSet,WA=function(e,n){return be._normalizePoint(e,n,f(this,Pd),f(this,Cd),f(this,Sd))};var Hr,$_,L_,Di,Wo,Go,cm,um,Id,Zs,Aa,jP,aK,FP,lK,VP,cK;class b1 extends be{constructor(){super(...arguments);k(this,Zs);k(this,jP);k(this,FP);k(this,VP);k(this,Hr,void 0);k(this,$_,0);k(this,L_,void 0);k(this,Di,void 0);k(this,Wo,void 0);k(this,Go,void 0);k(this,cm,void 0);k(this,um,void 0);k(this,Id,void 0)}build(n,r,i,s,o,a,l){R(this,Wo,r),R(this,Go,i),R(this,cm,s),R(this,um,o),R(this,Id,a),R(this,L_,l??0),R(this,Di,n),j(this,FP,lK).call(this)}get thickness(){return f(this,Id)}setLastElement(n){return f(this,Di).push(n),{path:{d:this.toSVGPath()}}}removeLastElement(){return f(this,Di).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const n=[];for(const{line:r}of f(this,Di)){if(n.push(`M${be.svgRound(r[4])} ${be.svgRound(r[5])}`),r.length===6){n.push("Z");continue}if(r.length===12&&isNaN(r[6])){n.push(`L${be.svgRound(r[10])} ${be.svgRound(r[11])}`);continue}for(let i=6,s=r.length;i<s;i+=6){const[o,a,l,c,u,h]=r.subarray(i,i+6).map(be.svgRound);n.push(`C${o} ${a} ${l} ${c} ${u} ${h}`)}}return n.join("")}serialize([n,r,i,s],o){const a=[],l=[],[c,u,h,d]=j(this,jP,aK).call(this);let p,y,g,v,b,w,_,S,x;switch(f(this,um)){case 0:x=be._rescale,p=n,y=r+s,g=i,v=-s,b=n+c*i,w=r+(1-u-d)*s,_=n+(c+h)*i,S=r+(1-u)*s;break;case 90:x=be._rescaleAndSwap,p=n,y=r,g=i,v=s,b=n+u*i,w=r+c*s,_=n+(u+d)*i,S=r+(c+h)*s;break;case 180:x=be._rescale,p=n+i,y=r,g=-i,v=s,b=n+(1-c-h)*i,w=r+u*s,_=n+(1-c)*i,S=r+(u+d)*s;break;case 270:x=be._rescaleAndSwap,p=n+i,y=r+s,g=-i,v=-s,b=n+(1-u-d)*i,w=r+(1-c-h)*s,_=n+(1-u)*i,S=r+(1-c)*s;break}for(const{line:T,points:A}of f(this,Di))a.push(x(T,p,y,g,v,o?new Array(T.length):null)),l.push(x(A,p,y,g,v,o?new Array(A.length):null));return{lines:a,points:l,rect:[b,w,_,S]}}static deserialize(n,r,i,s,o,{paths:{lines:a,points:l},rotation:c,thickness:u}){const h=[];let d,p,y,g,v;switch(c){case 0:v=be._rescale,d=-n/i,p=r/s+1,y=1/i,g=-1/s;break;case 90:v=be._rescaleAndSwap,d=-r/s,p=-n/i,y=1/s,g=1/i;break;case 180:v=be._rescale,d=n/i+1,p=-r/s,y=-1/i,g=1/s;break;case 270:v=be._rescaleAndSwap,d=r/s+1,p=n/i+1,y=-1/s,g=-1/i;break}if(!a){a=[];for(const w of l){const _=w.length;if(_===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(_===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const S=new Float32Array(3*(_-2));a.push(S);let[x,T,A,E]=w.subarray(0,4);S.set([NaN,NaN,NaN,NaN,x,T],0);for(let O=4;O<_;O+=2){const M=w[O],D=w[O+1];S.set(be.createBezierPoints(x,T,A,E,M,D),(O-2)*3),[x,T,A,E]=[A,E,M,D]}}}for(let w=0,_=a.length;w<_;w++)h.push({line:v(a[w].map(S=>S??NaN),d,p,y,g),points:v(l[w].map(S=>S??NaN),d,p,y,g)});const b=new this.prototype.constructor;return b.build(h,i,s,1,c,u,o),b}get box(){return f(this,Hr)}updateProperty(n,r){return n==="stroke-width"?j(this,VP,cK).call(this,r):null}updateParentDimensions([n,r],i){const[s,o]=j(this,Zs,Aa).call(this);R(this,Wo,n),R(this,Go,r),R(this,cm,i);const[a,l]=j(this,Zs,Aa).call(this),c=a-s,u=l-o,h=f(this,Hr);return h[0]-=c,h[1]-=u,h[2]+=2*c,h[3]+=2*u,h}updateRotation(n){return R(this,$_,n),{path:{transform:this.rotationTransform}}}get viewBox(){return f(this,Hr).map(be.svgRound).join(" ")}get defaultProperties(){const[n,r]=f(this,Hr);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${be.svgRound(n)} ${be.svgRound(r)}`}}}get rotationTransform(){const[,,n,r]=f(this,Hr);let i=0,s=0,o=0,a=0,l=0,c=0;switch(f(this,$_)){case 90:s=r/n,o=-n/r,l=n;break;case 180:i=-1,a=-1,l=n,c=r;break;case 270:s=-r/n,o=n/r,c=r;break;default:return""}return`matrix(${i} ${s} ${o} ${a} ${be.svgRound(l)} ${be.svgRound(c)})`}getPathResizingSVGProperties([n,r,i,s]){const[o,a]=j(this,Zs,Aa).call(this),[l,c,u,h]=f(this,Hr);if(Math.abs(u-o)<=be.PRECISION||Math.abs(h-a)<=be.PRECISION){const v=n+i/2-(l+u/2),b=r+s/2-(c+h/2);return{path:{"transform-origin":`${be.svgRound(n)} ${be.svgRound(r)}`,transform:`${this.rotationTransform} translate(${v} ${b})`}}}const d=(i-2*o)/(u-2*o),p=(s-2*a)/(h-2*a),y=u/i,g=h/s;return{path:{"transform-origin":`${be.svgRound(l)} ${be.svgRound(c)}`,transform:`${this.rotationTransform} scale(${y} ${g}) translate(${be.svgRound(o)} ${be.svgRound(a)}) scale(${d} ${p}) translate(${be.svgRound(-o)} ${be.svgRound(-a)})`}}}getPathResizedSVGProperties([n,r,i,s]){const[o,a]=j(this,Zs,Aa).call(this),l=f(this,Hr),[c,u,h,d]=l;if(l[0]=n,l[1]=r,l[2]=i,l[3]=s,Math.abs(h-o)<=be.PRECISION||Math.abs(d-a)<=be.PRECISION){const b=n+i/2-(c+h/2),w=r+s/2-(u+d/2);for(const{line:_,points:S}of f(this,Di))be._translate(_,b,w,_),be._translate(S,b,w,S);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${be.svgRound(n)} ${be.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(i-2*o)/(h-2*o),y=(s-2*a)/(d-2*a),g=-p*(c+o)+n+o,v=-y*(u+a)+r+a;if(p!==1||y!==1||g!==0||v!==0)for(const{line:b,points:w}of f(this,Di))be._rescale(b,g,v,p,y,b),be._rescale(w,g,v,p,y,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${be.svgRound(n)} ${be.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([n,r],i){const[s,o]=i,a=f(this,Hr),l=n-a[0],c=r-a[1];if(f(this,Wo)===s&&f(this,Go)===o)for(const{line:u,points:h}of f(this,Di))be._translate(u,l,c,u),be._translate(h,l,c,h);else{const u=f(this,Wo)/s,h=f(this,Go)/o;R(this,Wo,s),R(this,Go,o);for(const{line:d,points:p}of f(this,Di))be._rescale(d,l,c,u,h,d),be._rescale(p,l,c,u,h,p);a[2]*=u,a[3]*=h}return a[0]=n,a[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${be.svgRound(n)} ${be.svgRound(r)}`}}}get defaultSVGProperties(){const n=f(this,Hr);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${be.svgRound(n[0])} ${be.svgRound(n[1])}`,transform:this.rotationTransform||null},bbox:n}}}Hr=new WeakMap,$_=new WeakMap,L_=new WeakMap,Di=new WeakMap,Wo=new WeakMap,Go=new WeakMap,cm=new WeakMap,um=new WeakMap,Id=new WeakMap,Zs=new WeakSet,Aa=function(n=f(this,Id)){const r=f(this,L_)+n/2*f(this,cm);return f(this,um)%180===0?[r/f(this,Wo),r/f(this,Go)]:[r/f(this,Go),r/f(this,Wo)]},jP=new WeakSet,aK=function(){const[n,r,i,s]=f(this,Hr),[o,a]=j(this,Zs,Aa).call(this,0);return[n+o,r+a,i-2*o,s-2*a]},FP=new WeakSet,lK=function(){const n=R(this,Hr,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of f(this,Di)){if(s.length<=12){for(let l=4,c=s.length;l<c;l+=6)Se.pointBoundingBox(s[l],s[l+1],n);continue}let o=s[4],a=s[5];for(let l=6,c=s.length;l<c;l+=6){const[u,h,d,p,y,g]=s.subarray(l,l+6);Se.bezierBoundingBox(o,a,u,h,d,p,y,g,n),o=y,a=g}}const[r,i]=j(this,Zs,Aa).call(this);n[0]=qr(n[0]-r,0,1),n[1]=qr(n[1]-i,0,1),n[2]=qr(n[2]+r,0,1),n[3]=qr(n[3]+i,0,1),n[2]-=n[0],n[3]-=n[1]},VP=new WeakSet,cK=function(n){const[r,i]=j(this,Zs,Aa).call(this);R(this,Id,n);const[s,o]=j(this,Zs,Aa).call(this),[a,l]=[s-r,o-i],c=f(this,Hr);return c[0]-=a,c[1]-=l,c[2]+=2*a,c[3]+=2*l,c};class HC extends sK{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Pt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,n){e==="stroke-width"&&(n??(n=this["stroke-width"]),n*=this._viewParameters.realScale),super.updateSVGProperty(e,n)}clone(){const e=new HC(this._viewParameters);return e.updateAll(this),e}}var BP,uK;const Ep=class Ep extends iS{constructor(n){super({...n,name:"inkEditor"});k(this,BP);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(n,r){Pt.initialize(n,r),this._defaultDrawingOptions=new HC(r.viewParameters)}static getDefaultDrawingOptions(n){const r=this._defaultDrawingOptions.clone();return r.updateProperties(n),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ze(this,"typesMap",new Map([[et.INK_THICKNESS,"stroke-width"],[et.INK_COLOR,"stroke"],[et.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(n,r,i,s,o){return new uge(n,r,i,s,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(n,r,i,s,o,a){return b1.deserialize(n,r,i,s,o,a)}static async deserialize(n,r,i){let s=null;if(n instanceof gL){const{data:{inkLists:a,rect:l,rotation:c,id:u,color:h,opacity:d,borderStyle:{rawWidth:p},popupRef:y},parent:{page:{pageNumber:g}}}=n;s=n={annotationType:Fe.INK,color:Array.from(h),thickness:p,opacity:d,paths:{points:a},boxes:null,pageIndex:g-1,rect:l.slice(0),rotation:c,id:u,deleted:!1,popupRef:y}}const o=await super.deserialize(n,r,i);return o.annotationElementId=n.id||null,o._initialData=s,o}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:n,_drawingOptions:r,parent:i}=this;r.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(n,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const n=this._currentParent;n&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:n,thickness:r,opacity:i}){this._drawingOptions=Ep.getDefaultDrawingOptions({stroke:Se.makeHexColor(...n),"stroke-width":r,"stroke-opacity":i})}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:i,rect:s}=this.serializeDraw(n),{_drawingOptions:{stroke:o,"stroke-opacity":a,"stroke-width":l}}=this,c={annotationType:Fe.INK,color:Pt._colorManager.convert(o),opacity:a,thickness:l,paths:{lines:r,points:i},pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?(c.isCopy=!0,c):this.annotationElementId&&!j(this,BP,uK).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(n){const{points:r,rect:i}=this.serializeDraw(!1);return n.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:r}),null}};BP=new WeakSet,uK=function(n){const{color:r,thickness:i,opacity:s,pageIndex:o}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||n.color.some((a,l)=>a!==r[l])||n.thickness!==i||n.opacity!==s||n.pageIndex!==o},de(Ep,"_type","ink"),de(Ep,"_editorType",Fe.INK),de(Ep,"_defaultDrawingOptions",null);let pN=Ep;class gN extends b1{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Nx=8,uv=3;var Od,j_,mN,eo,UP,hK,zP,dK,F_,yN,hm,GA,HP,fK,WP,pK,GP,gK,V_,vN,B_,bN,qP,mK;class Pn{static extractContoursFromText(e,{fontFamily:n,fontStyle:r,fontWeight:i},s,o,a,l){let c=new OffscreenCanvas(1,1),u=c.getContext("2d",{alpha:!1});const h=200,d=u.font=`${r} ${i} ${h}px ${n}`,{actualBoundingBoxLeft:p,actualBoundingBoxRight:y,actualBoundingBoxAscent:g,actualBoundingBoxDescent:v,fontBoundingBoxAscent:b,fontBoundingBoxDescent:w,width:_}=u.measureText(e),S=1.5,x=Math.ceil(Math.max(Math.abs(p)+Math.abs(y)||0,_)*S),T=Math.ceil(Math.max(Math.abs(g)+Math.abs(v)||h,Math.abs(b)+Math.abs(w)||h)*S);c=new OffscreenCanvas(x,T),u=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),u.font=d,u.filter="grayscale(1)",u.fillStyle="white",u.fillRect(0,0,x,T),u.fillStyle="black",u.fillText(e,x*(S-1)/2,T*(3-S)/2);const A=j(this,V_,vN).call(this,u.getImageData(0,0,x,T).data),E=j(this,GP,gK).call(this,A),O=j(this,B_,bN).call(this,E),M=j(this,F_,yN).call(this,A,x,T,O);return this.processDrawnLines({lines:{curves:M,width:x,height:T},pageWidth:s,pageHeight:o,rotation:a,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,n,r,i,s){const[o,a,l]=j(this,qP,mK).call(this,e),[c,u]=j(this,WP,pK).call(this,o,a,l,Math.hypot(a,l)*f(this,Od).sigmaSFactor,f(this,Od).sigmaR,f(this,Od).kernelSize),h=j(this,B_,bN).call(this,u),d=j(this,F_,yN).call(this,c,a,l,h);return this.processDrawnLines({lines:{curves:d,width:a,height:l},pageWidth:n,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:n,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:o,areContours:a}){i%180!==0&&([n,r]=[r,n]);const{curves:l,width:c,height:u}=e,h=e.thickness??0,d=[],p=Math.min(n/c,r/u),y=p/n,g=p/r,v=[];for(const{points:w}of l){const _=o?j(this,HP,fK).call(this,w):w;if(!_)continue;v.push(_);const S=_.length,x=new Float32Array(S),T=new Float32Array(3*(S===2?2:S-2));if(d.push({line:T,points:x}),S===2){x[0]=_[0]*y,x[1]=_[1]*g,T.set([NaN,NaN,NaN,NaN,x[0],x[1]],0);continue}let[A,E,O,M]=_;A*=y,E*=g,O*=y,M*=g,x.set([A,E,O,M],0),T.set([NaN,NaN,NaN,NaN,A,E],0);for(let D=4;D<S;D+=2){const $=x[D]=_[D]*y,L=x[D+1]=_[D+1]*g;T.set(be.createBezierPoints(A,E,O,M,$,L),(D-2)*3),[A,E,O,M]=[O,M,$,L]}}if(d.length===0)return null;const b=a?new gN:new b1;return b.build(d,n,r,1,i,a?0:h,s),{outline:b,newCurves:v,areContours:a,thickness:h,width:c,height:u}}static async compressSignature({outlines:e,areContours:n,thickness:r,width:i,height:s}){let o=1/0,a=-1/0,l=0;for(const _ of e){l+=_.length;for(let S=2,x=_.length;S<x;S++){const T=_[S]-_[S-2];o=Math.min(o,T),a=Math.max(a,T)}}let c;o>=-128&&a<=127?c=Int8Array:o>=-32768&&a<=32767?c=Int16Array:c=Int32Array;const u=e.length,h=Nx+uv*u,d=new Uint32Array(h);let p=0;d[p++]=h*Uint32Array.BYTES_PER_ELEMENT+(l-2*u)*c.BYTES_PER_ELEMENT,d[p++]=0,d[p++]=i,d[p++]=s,d[p++]=n?0:1,d[p++]=Math.max(0,Math.floor(r??0)),d[p++]=u,d[p++]=c.BYTES_PER_ELEMENT;for(const _ of e)d[p++]=_.length-2,d[p++]=_[0],d[p++]=_[1];const y=new CompressionStream("deflate-raw"),g=y.writable.getWriter();await g.ready,g.write(d);const v=c.prototype.constructor;for(const _ of e){const S=new v(_.length-2);for(let x=2,T=_.length;x<T;x++)S[x-2]=_[x]-_[x-2];g.write(S)}g.close();const b=await new Response(y.readable).arrayBuffer(),w=new Uint8Array(b);return mG(w)}static async decompressSignature(e){try{const n=Nfe(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(n).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let o=null,a=0;for await(const _ of r)o||(o=new Uint8Array(new Uint32Array(_.buffer,0,4)[0])),o.set(_,a),a+=_.length;const l=new Uint32Array(o.buffer,0,o.length>>2),c=l[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const u=l[2],h=l[3],d=l[4]===0,p=l[5],y=l[6],g=l[7],v=[],b=(Nx+uv*y)*Uint32Array.BYTES_PER_ELEMENT;let w;switch(g){case Int8Array.BYTES_PER_ELEMENT:w=new Int8Array(o.buffer,b);break;case Int16Array.BYTES_PER_ELEMENT:w=new Int16Array(o.buffer,b);break;case Int32Array.BYTES_PER_ELEMENT:w=new Int32Array(o.buffer,b);break}a=0;for(let _=0;_<y;_++){const S=l[uv*_+Nx],x=new Float32Array(S+2);v.push(x);for(let T=0;T<uv-1;T++)x[T]=l[uv*_+Nx+T+1];for(let T=0;T<S;T++)x[T+2]=x[T]+w[a++]}return{areContours:d,thickness:p,outlines:v,width:u,height:h}}catch(n){return Ve(`decompressSignature: ${n}`),null}}}Od=new WeakMap,j_=new WeakSet,mN=function(e,n,r,i){return r-=e,i-=n,r===0?i>0?0:4:r===1?i+6:2-i},eo=new WeakMap,UP=new WeakSet,hK=function(e,n,r,i,s,o,a){const l=j(this,j_,mN).call(this,r,i,s,o);for(let c=0;c<8;c++){const u=(-c+l-a+16)%8,h=f(this,eo)[2*u],d=f(this,eo)[2*u+1];if(e[(r+h)*n+(i+d)]!==0)return u}return-1},zP=new WeakSet,dK=function(e,n,r,i,s,o,a){const l=j(this,j_,mN).call(this,r,i,s,o);for(let c=0;c<8;c++){const u=(c+l+a+16)%8,h=f(this,eo)[2*u],d=f(this,eo)[2*u+1];if(e[(r+h)*n+(i+d)]!==0)return u}return-1},F_=new WeakSet,yN=function(e,n,r,i){const s=e.length,o=new Int32Array(s);for(let u=0;u<s;u++)o[u]=e[u]<=i?1:0;for(let u=1;u<r-1;u++)o[u*n]=o[u*n+n-1]=0;for(let u=0;u<n;u++)o[u]=o[n*r-1-u]=0;let a=1,l;const c=[];for(let u=1;u<r-1;u++){l=1;for(let h=1;h<n-1;h++){const d=u*n+h,p=o[d];if(p===0)continue;let y=u,g=h;if(p===1&&o[d-1]===0)a+=1,g-=1;else if(p>=1&&o[d+1]===0)a+=1,g+=1,p>1&&(l=p);else{p!==1&&(l=Math.abs(p));continue}const v=[h,u],b=g===h+1,w={isHole:b,points:v,id:a,parent:0};c.push(w);let _;for(const D of c)if(D.id===l){_=D;break}_?_.isHole?w.parent=b?_.parent:l:w.parent=b?l:_.parent:w.parent=b?l:0;const S=j(this,UP,hK).call(this,o,n,u,h,y,g,0);if(S===-1){o[d]=-a,o[d]!==1&&(l=Math.abs(o[d]));continue}let x=f(this,eo)[2*S],T=f(this,eo)[2*S+1];const A=u+x,E=h+T;y=A,g=E;let O=u,M=h;for(;;){const D=j(this,zP,dK).call(this,o,n,O,M,y,g,1);x=f(this,eo)[2*D],T=f(this,eo)[2*D+1];const $=O+x,L=M+T;v.push(L,$);const W=O*n+M;if(o[W+1]===0?o[W]=-a:o[W]===1&&(o[W]=a),$===u&&L===h&&O===A&&M===E){o[d]!==1&&(l=Math.abs(o[d]));break}else y=O,g=M,O=$,M=L}}}return c},hm=new WeakSet,GA=function(e,n,r,i){if(r-n<=4){for(let A=n;A<r-2;A+=2)i.push(e[A],e[A+1]);return}const s=e[n],o=e[n+1],a=e[r-4]-s,l=e[r-3]-o,c=Math.hypot(a,l),u=a/c,h=l/c,d=u*o-h*s,p=l/a,y=1/c,g=Math.atan(p),v=Math.cos(g),b=Math.sin(g),w=y*(Math.abs(v)+Math.abs(b)),_=y*(1-w+w**2),S=Math.max(Math.atan(Math.abs(b+v)*_),Math.atan(Math.abs(b-v)*_));let x=0,T=n;for(let A=n+2;A<r-2;A+=2){const E=Math.abs(d-u*e[A+1]+h*e[A]);E>x&&(T=A,x=E)}x>(c*S)**2?(j(this,hm,GA).call(this,e,n,T+2,i),j(this,hm,GA).call(this,e,T,r,i)):i.push(s,o)},HP=new WeakSet,fK=function(e){const n=[],r=e.length;return j(this,hm,GA).call(this,e,0,r,n),n.push(e[r-2],e[r-1]),n.length<=4?null:n},WP=new WeakSet,pK=function(e,n,r,i,s,o){const a=new Float32Array(o**2),l=-2*i**2,c=o>>1;for(let g=0;g<o;g++){const v=(g-c)**2;for(let b=0;b<o;b++)a[g*o+b]=Math.exp((v+(b-c)**2)/l)}const u=new Float32Array(256),h=-2*s**2;for(let g=0;g<256;g++)u[g]=Math.exp(g**2/h);const d=e.length,p=new Uint8Array(d),y=new Uint32Array(256);for(let g=0;g<r;g++)for(let v=0;v<n;v++){const b=g*n+v,w=e[b];let _=0,S=0;for(let T=0;T<o;T++){const A=g+T-c;if(!(A<0||A>=r))for(let E=0;E<o;E++){const O=v+E-c;if(O<0||O>=n)continue;const M=e[A*n+O],D=a[T*o+E]*u[Math.abs(M-w)];_+=M*D,S+=D}}const x=p[b]=Math.round(_/S);y[x]++}return[p,y]},GP=new WeakSet,gK=function(e){const n=new Uint32Array(256);for(const r of e)n[r]++;return n},V_=new WeakSet,vN=function(e){const n=e.length,r=new Uint8ClampedArray(n>>2);let i=-1/0,s=1/0;for(let a=0,l=r.length;a<l;a++){if(e[(a<<2)+3]===0){i=r[a]=255;continue}const u=r[a]=e[a<<2];u>i&&(i=u),u<s&&(s=u)}const o=255/(i-s);for(let a=0;a<n;a++)r[a]=(r[a]-s)*o;return r},B_=new WeakSet,bN=function(e){let n,r=-1/0,i=-1/0;const s=e.findIndex(l=>l!==0);let o=s,a=s;for(n=s;n<256;n++){const l=e[n];l>r&&(n-o>i&&(i=n-o,a=n-1),r=l,o=n)}for(n=a-1;n>=0&&!(e[n]>e[n+1]);n--);return n},qP=new WeakSet,mK=function(e){const n=e,{width:r,height:i}=e,{maxDim:s}=f(this,Od);let o=r,a=i;if(r>s||i>s){let d=r,p=i,y=Math.log2(Math.max(r,i)/s);const g=Math.floor(y);y=y===g?g-1:g;for(let b=0;b<y;b++){o=Math.ceil(d/2),a=Math.ceil(p/2);const w=new OffscreenCanvas(o,a);w.getContext("2d").drawImage(e,0,0,d,p,0,0,o,a),d=o,p=a,e!==n&&e.close(),e=w.transferToImageBitmap()}const v=Math.min(s/o,s/a);o=Math.round(o*v),a=Math.round(a*v)}const c=new OffscreenCanvas(o,a).getContext("2d",{willReadFrequently:!0});c.filter="grayscale(1)",c.drawImage(e,0,0,e.width,e.height,0,0,o,a);const u=c.getImageData(0,0,o,a).data;return[j(this,V_,vN).call(this,u),o,a]},k(Pn,j_),k(Pn,UP),k(Pn,zP),k(Pn,F_),k(Pn,hm),k(Pn,HP),k(Pn,WP),k(Pn,GP),k(Pn,V_),k(Pn,B_),k(Pn,qP),k(Pn,Od,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),k(Pn,eo,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class mL extends sK{constructor(){super(),super.updateProperties({fill:Pt._defaultLineColor,"stroke-width":0})}clone(){const e=new mL;return e.updateAll(this),e}}class yL extends HC{constructor(e){super(e),super.updateProperties({stroke:Pt._defaultLineColor,"stroke-width":1})}clone(){const e=new yL(this._viewParameters);return e.updateAll(this),e}}var zc,$i,Hc,Wc;const Ai=class Ai extends iS{constructor(n){super({...n,mustBeCommitted:!0,name:"signatureEditor"});k(this,zc,!1);k(this,$i,null);k(this,Hc,null);k(this,Wc,null);this._willKeepAspectRatio=!0,R(this,Hc,n.signatureData||null),R(this,$i,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(n,r){Pt.initialize(n,r),this._defaultDrawingOptions=new mL,this._defaultDrawnSignatureOptions=new yL(r.viewParameters)}static getDefaultDrawingOptions(n){const r=this._defaultDrawingOptions.clone();return r.updateProperties(n),r}static get supportMultipleDrawings(){return!1}static get typesMap(){return Ze(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!f(this,$i)}}static computeTelemetryFinalData(n){const r=n.get("hasDescription");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let n,r;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,n=this.x,r=this.y),super.render(),this._drawId===null)if(f(this,Hc)){const{lines:s,mustSmooth:o,areContours:a,description:l,uuid:c,heightInPage:u}=f(this,Hc),{rawDims:{pageWidth:h,pageHeight:d},rotation:p}=this.parent.viewport,y=Pn.processDrawnLines({lines:s,pageWidth:h,pageHeight:d,rotation:p,innerMargin:Ai._INNER_MARGIN,mustSmooth:o,areContours:a});this.addSignature(y,u,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return i&&(this._isCopy=!0,this._moveAfterPaste(n,r)),this.div}setUuid(n){R(this,Wc,n),this.addEditToolbar()}getUuid(){return f(this,Wc)}get description(){return f(this,$i)}set description(n){R(this,$i,n),super.addEditToolbar().then(r=>{r==null||r.updateEditSignatureButton(n)})}getSignaturePreview(){const{newCurves:n,areContours:r,thickness:i,width:s,height:o}=f(this,Hc),a=Math.max(s,o),l=Pn.processDrawnLines({lines:{curves:n.map(c=>({points:c})),thickness:i,width:s,height:o},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:r});return{areContours:r,outline:l.outline}}async addEditToolbar(){const n=await super.addEditToolbar();return n?(this._uiManager.signatureManager&&f(this,$i)!==null&&(await n.addEditSignatureButton(this._uiManager.signatureManager,f(this,Wc),f(this,$i)),n.show()),n):null}addSignature(n,r,i,s){const{x:o,y:a}=this,{outline:l}=R(this,Hc,n);R(this,zc,l instanceof gN),R(this,$i,i),this.div.setAttribute("data-l10n-args",JSON.stringify({description:i}));let c;f(this,zc)?c=Ai.getDefaultDrawingOptions():(c=Ai._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[u,h]=this.parentDimensions,[,d]=this.pageDimensions;let p=r/d;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(u*this.width,h*this.height),this.x=o,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(n){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return Pn.process(n,r,i,s,Ai._INNER_MARGIN)}getFromText(n,r){const{rawDims:{pageWidth:i,pageHeight:s},rotation:o}=this.parent.viewport;return Pn.extractContoursFromText(n,r,i,s,o,Ai._INNER_MARGIN)}getDrawnSignature(n){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return Pn.processDrawnLines({lines:n,pageWidth:r,pageHeight:i,rotation:s,innerMargin:Ai._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:n,thickness:r}){n?this._drawingOptions=Ai.getDefaultDrawingOptions():(this._drawingOptions=Ai._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":r}))}serialize(n=!1){if(this.isEmpty())return null;const{lines:r,points:i,rect:s}=this.serializeDraw(n),{_drawingOptions:{"stroke-width":o}}=this,a={annotationType:Fe.SIGNATURE,isSignature:!0,areContours:f(this,zc),color:[0,0,0],thickness:f(this,zc)?0:o,pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?(a.paths={lines:r,points:i},a.uuid=f(this,Wc),a.isCopy=!0):a.lines=r,f(this,$i)&&(a.accessibilityData={type:"Figure",alt:f(this,$i)}),a}static deserializeDraw(n,r,i,s,o,a){return a.areContours?gN.deserialize(n,r,i,s,o,a):b1.deserialize(n,r,i,s,o,a)}static async deserialize(n,r,i){var o;const s=await super.deserialize(n,r,i);return R(s,zc,n.areContours),R(s,$i,((o=n.accessibilityData)==null?void 0:o.alt)||""),R(s,Wc,n.uuid),s}};zc=new WeakMap,$i=new WeakMap,Hc=new WeakMap,Wc=new WeakMap,de(Ai,"_type","signature"),de(Ai,"_editorType",Fe.SIGNATURE),de(Ai,"_defaultDrawingOptions",null);let wN=Ai;var jt,zn,Gc,rl,qc,dm,il,kd,qo,Li,fm,Rd,qv,Nd,Kv,pm,qA,gm,KA,mm,XA,U_,xN,ym,YA,KP,yK;class _N extends Pt{constructor(n){super({...n,name:"stampEditor"});k(this,Rd);k(this,Nd);k(this,pm);k(this,gm);k(this,mm);k(this,U_);k(this,ym);k(this,KP);k(this,jt,null);k(this,zn,null);k(this,Gc,null);k(this,rl,null);k(this,qc,null);k(this,dm,"");k(this,il,null);k(this,kd,!1);k(this,qo,null);k(this,Li,!1);k(this,fm,!1);R(this,rl,n.bitmapUrl),R(this,qc,n.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(n,r){Pt.initialize(n,r)}static isHandlingMimeForPasting(n){return pR.includes(n)}static paste(n,r){r.pasteEditor({mode:Fe.STAMP},{bitmapFile:n.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var n;return{type:"stamp",hasAltText:!!((n=this.altTextData)!=null&&n.altText)}}static computeTelemetryFinalData(n){const r=n.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(n=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:o,height:a}=n||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:s,width:o,height:a,channels:s.length/(o*a)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),r&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var n;f(this,zn)&&(R(this,jt,null),this._uiManager.imageManager.deleteId(f(this,zn)),(n=f(this,il))==null||n.remove(),R(this,il,null),f(this,qo)&&(clearTimeout(f(this,qo)),R(this,qo,null))),super.remove()}rebuild(){if(!this.parent){f(this,zn)&&j(this,pm,qA).call(this);return}super.rebuild(),this.div!==null&&(f(this,zn)&&f(this,il)===null&&j(this,pm,qA).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(n){this._isDraggable=!0,n&&this.div.focus()}isEmpty(){return!(f(this,Gc)||f(this,jt)||f(this,rl)||f(this,qc)||f(this,zn)||f(this,kd))}get isResizable(){return!0}render(){if(this.div)return this.div;let n,r;return this._isCopy&&(n=this.x,r=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),f(this,kd)||(f(this,jt)?j(this,gm,KA).call(this):j(this,pm,qA).call(this)),this._isCopy&&this._moveAfterPaste(n,r),this._uiManager.addShouldRescale(this),this.div}setCanvas(n,r){const{id:i,bitmap:s}=this._uiManager.imageManager.getFromCanvas(n,r);r.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(R(this,zn,i),s&&R(this,jt,s),R(this,kd,!1),j(this,gm,KA).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;f(this,qo)!==null&&clearTimeout(f(this,qo)),R(this,qo,setTimeout(()=>{R(this,qo,null),j(this,U_,xN).call(this)},200))}copyCanvas(n,r,i=!1){var p;n||(n=224);const{width:s,height:o}=f(this,jt),a=new da;let l=f(this,jt),c=s,u=o,h=null;if(r){if(s>r||o>r){const E=Math.min(r/s,r/o);c=Math.floor(s*E),u=Math.floor(o*E)}h=document.createElement("canvas");const y=h.width=Math.ceil(c*a.sx),g=h.height=Math.ceil(u*a.sy);f(this,Li)||(l=j(this,mm,XA).call(this,y,g));const v=h.getContext("2d");v.filter=this._uiManager.hcmFilter;let b="white",w="#cfcfd8";this._uiManager.hcmFilter!=="none"?w="black":(p=window.matchMedia)!=null&&p.call(window,"(prefers-color-scheme: dark)").matches&&(b="#8f8f9d",w="#42414d");const _=15,S=_*a.sx,x=_*a.sy,T=new OffscreenCanvas(S*2,x*2),A=T.getContext("2d");A.fillStyle=b,A.fillRect(0,0,S*2,x*2),A.fillStyle=w,A.fillRect(0,0,S,x),A.fillRect(S,x,S,x),v.fillStyle=v.createPattern(T,"repeat"),v.fillRect(0,0,y,g),v.drawImage(l,0,0,l.width,l.height,0,0,y,g)}let d=null;if(i){let y,g;if(a.symmetric&&l.width<n&&l.height<n)y=l.width,g=l.height;else if(l=f(this,jt),s>n||o>n){const w=Math.min(n/s,n/o);y=Math.floor(s*w),g=Math.floor(o*w),f(this,Li)||(l=j(this,mm,XA).call(this,y,g))}const b=new OffscreenCanvas(y,g).getContext("2d",{willReadFrequently:!0});b.drawImage(l,0,0,l.width,l.height,0,0,y,g),d={width:y,height:g,data:b.getImageData(0,0,y,g).data}}return{canvas:h,width:c,height:u,imageData:d}}static async deserialize(n,r,i){var v;let s=null,o=!1;if(n instanceof Rq){const{data:{rect:b,rotation:w,id:_,structParent:S,popupRef:x},container:T,parent:{page:{pageNumber:A}},canvas:E}=n;let O,M;E?(delete n.canvas,{id:O,bitmap:M}=i.imageManager.getFromCanvas(T.id,E),E.remove()):(o=!0,n._hasNoCanvas=!0);const D=((v=await r._structTree.getAriaAttributes(`${aL}${_}`))==null?void 0:v.get("aria-label"))||"";s=n={annotationType:Fe.STAMP,bitmapId:O,bitmap:M,pageIndex:A-1,rect:b.slice(0),rotation:w,id:_,deleted:!1,accessibilityData:{decorative:!1,altText:D},isSvg:!1,structParent:S,popupRef:x}}const a=await super.deserialize(n,r,i),{rect:l,bitmap:c,bitmapUrl:u,bitmapId:h,isSvg:d,accessibilityData:p}=n;o?(i.addMissingCanvas(n.id,a),R(a,kd,!0)):h&&i.imageManager.isValidId(h)?(R(a,zn,h),c&&R(a,jt,c)):R(a,rl,u),R(a,Li,d);const[y,g]=a.pageDimensions;return a.width=(l[2]-l[0])/y,a.height=(l[3]-l[1])/g,a.annotationElementId=n.id||null,p&&(a.altTextData=p),a._initialData=s,R(a,fm,!!s),a}serialize(n=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:Fe.STAMP,bitmapId:f(this,zn),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:f(this,Li),structTreeParentId:this._structTreeParentId};if(n)return i.bitmapUrl=j(this,ym,YA).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:s,altText:o}=this.serializeAltText(!1);if(!s&&o&&(i.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const l=j(this,KP,yK).call(this,i);if(l.isSame)return null;l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,r===null)return i;r.stamps||(r.stamps=new Map);const a=f(this,Li)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(f(this,zn)))r.stamps.set(f(this,zn),{area:a,serialized:i}),i.bitmap=j(this,ym,YA).call(this,!1);else if(f(this,Li)){const l=r.stamps.get(f(this,zn));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=j(this,ym,YA).call(this,!1))}return i}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}}jt=new WeakMap,zn=new WeakMap,Gc=new WeakMap,rl=new WeakMap,qc=new WeakMap,dm=new WeakMap,il=new WeakMap,kd=new WeakMap,qo=new WeakMap,Li=new WeakMap,fm=new WeakMap,Rd=new WeakSet,qv=function(n,r=!1){if(!n){this.remove();return}R(this,jt,n.bitmap),r||(R(this,zn,n.id),R(this,Li,n.isSvg)),n.file&&R(this,dm,n.file.name),j(this,gm,KA).call(this)},Nd=new WeakSet,Kv=function(){if(R(this,Gc,null),this._uiManager.enableWaiting(!1),!!f(this,il)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,jt)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,jt)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},pm=new WeakSet,qA=function(){if(f(this,zn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(f(this,zn)).then(i=>j(this,Rd,qv).call(this,i,!0)).finally(()=>j(this,Nd,Kv).call(this));return}if(f(this,rl)){const i=f(this,rl);R(this,rl,null),this._uiManager.enableWaiting(!0),R(this,Gc,this._uiManager.imageManager.getFromUrl(i).then(s=>j(this,Rd,qv).call(this,s)).finally(()=>j(this,Nd,Kv).call(this)));return}if(f(this,qc)){const i=f(this,qc);R(this,qc,null),this._uiManager.enableWaiting(!0),R(this,Gc,this._uiManager.imageManager.getFromFile(i).then(s=>j(this,Rd,qv).call(this,s)).finally(()=>j(this,Nd,Kv).call(this)));return}const n=document.createElement("input");n.type="file",n.accept=pR.join(",");const r=this._uiManager._signal;R(this,Gc,new Promise(i=>{n.addEventListener("change",async()=>{if(!n.files||n.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(n.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),j(this,Rd,qv).call(this,s)}i()},{signal:r}),n.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>j(this,Nd,Kv).call(this))),n.click()},gm=new WeakSet,KA=function(){var h;const{div:n}=this;let{width:r,height:i}=f(this,jt);const[s,o]=this.pageDimensions,a=.75;if(this.width)r=this.width*s,i=this.height*o;else if(r>a*s||i>a*o){const d=Math.min(a*s/r,a*o/i);r*=d,i*=d}const[l,c]=this.parentDimensions;this.setDims(r*l/s,i*c/o),this._uiManager.enableWaiting(!1);const u=R(this,il,document.createElement("canvas"));u.setAttribute("role","img"),this.addContainer(u),this.width=r/s,this.height=i/o,(h=this._initialOptions)!=null&&h.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(n.hidden=!1),j(this,U_,xN).call(this),f(this,fm)||(this.parent.addUndoableEditor(this),R(this,fm,!0)),this._reportTelemetry({action:"inserted_image"}),f(this,dm)&&this.div.setAttribute("aria-description",f(this,dm))},mm=new WeakSet,XA=function(n,r){const{width:i,height:s}=f(this,jt);let o=i,a=s,l=f(this,jt);for(;o>2*n||a>2*r;){const c=o,u=a;o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const h=new OffscreenCanvas(o,a);h.getContext("2d").drawImage(l,0,0,c,u,0,0,o,a),l=h.transferToImageBitmap()}return l},U_=new WeakSet,xN=function(){const[n,r]=this.parentDimensions,{width:i,height:s}=this,o=new da,a=Math.ceil(i*n*o.sx),l=Math.ceil(s*r*o.sy),c=f(this,il);if(!c||c.width===a&&c.height===l)return;c.width=a,c.height=l;const u=f(this,Li)?f(this,jt):j(this,mm,XA).call(this,a,l),h=c.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(u,0,0,u.width,u.height,0,0,a,l)},ym=new WeakSet,YA=function(n){if(n){if(f(this,Li)){const s=this._uiManager.imageManager.getSvgUrl(f(this,zn));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=f(this,jt),r.getContext("2d").drawImage(f(this,jt),0,0),r.toDataURL()}if(f(this,Li)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*Cu.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*Cu.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(f(this,jt),0,0,f(this,jt).width,f(this,jt).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(f(this,jt))},KP=new WeakSet,yK=function(n){var a;const{pageIndex:r,accessibilityData:{altText:i}}=this._initialData,s=n.pageIndex===r,o=(((a=n.accessibilityData)==null?void 0:a.alt)||"")===i;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&s&&o,isSameAltText:o}},de(_N,"_type","stamp"),de(_N,"_editorType",Fe.STAMP);var Md,vm,Ko,Kc,sl,gs,Xc,bm,Dd,to,ol,Pr,al,Ae,Yc,XP,vK,ms,Co,z_,EN,H_,SN,wm,QA;const Fs=class Fs{constructor({uiManager:e,pageIndex:n,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:o,drawLayer:a,textLayer:l,viewport:c,l10n:u}){k(this,XP);k(this,ms);k(this,z_);k(this,H_);k(this,wm);k(this,Md,void 0);k(this,vm,!1);k(this,Ko,null);k(this,Kc,null);k(this,sl,null);k(this,gs,new Map);k(this,Xc,!1);k(this,bm,!1);k(this,Dd,!1);k(this,to,null);k(this,ol,null);k(this,Pr,null);k(this,al,null);k(this,Ae,void 0);const h=[...f(Fs,Yc).values()];if(!Fs._initialized){Fs._initialized=!0;for(const d of h)d.initialize(u,e)}e.registerEditorTypes(h),R(this,Ae,e),this.pageIndex=n,this.div=r,R(this,Md,s),R(this,Ko,o),this.viewport=c,R(this,Pr,l),this.drawLayer=a,this._structTree=i,f(this,Ae).addLayer(this)}get isEmpty(){return f(this,gs).size===0}get isInvisible(){return this.isEmpty&&f(this,Ae).getMode()===Fe.NONE}updateToolbar(e){f(this,Ae).updateToolbar(e)}updateMode(e=f(this,Ae).getMode()){switch(j(this,wm,QA).call(this),e){case Fe.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Fe.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Fe.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;for(const r of f(Fs,Yc).values())n.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var n;return e===((n=f(this,Pr))==null?void 0:n.div)}setEditingState(e){f(this,Ae).setEditingState(e)}addCommands(e){f(this,Ae).addCommands(e)}cleanUndoStack(e){f(this,Ae).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var n;(n=f(this,Ko))==null||n.div.classList.toggle("disabled",!e)}async enable(){R(this,Dd,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of f(this,gs).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(f(this,Ae).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!f(this,Ko)){R(this,Dd,!1);return}const n=f(this,Ko).getEditableAnnotations();for(const r of n){if(r.hide(),f(this,Ae).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}R(this,Dd,!1)}disable(){var i;R(this,bm,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,n=new Map;for(const s of f(this,gs).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else n.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(f(this,Ko)){const s=f(this,Ko).getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(f(this,Ae).isDeletedAnnotationElement(a))continue;let l=n.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=e.get(a),l&&(f(this,Ae).addChangedExistingAnnotation(l),l.renderAnnotationElement(o)&&l.show(!1)),o.show()}}j(this,wm,QA).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of f(Fs,Yc).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),R(this,bm,!1)}getEditableAnnotation(e){var n;return((n=f(this,Ko))==null?void 0:n.getEditableAnnotation(e))||null}setActiveEditor(e){f(this,Ae).getActive()!==e&&f(this,Ae).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=f(this,Pr))!=null&&e.div&&!f(this,al)){R(this,al,new AbortController);const n=f(this,Ae).combinedSignal(f(this,al));f(this,Pr).div.addEventListener("pointerdown",j(this,XP,vK).bind(this),{signal:n}),f(this,Pr).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=f(this,Pr))!=null&&e.div&&f(this,al)&&(f(this,al).abort(),R(this,al,null),f(this,Pr).div.classList.remove("highlighting"))}enableClick(){if(f(this,Kc))return;R(this,Kc,new AbortController);const e=f(this,Ae).combinedSignal(f(this,Kc));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:e}),this.div.addEventListener("pointercancel",n,{signal:e})}disableClick(){var e;(e=f(this,Kc))==null||e.abort(),R(this,Kc,null)}attach(e){f(this,gs).set(e.id,e);const{annotationElementId:n}=e;n&&f(this,Ae).isDeletedAnnotationElement(n)&&f(this,Ae).removeDeletedAnnotationElement(e)}detach(e){var n;f(this,gs).delete(e.id),(n=f(this,Md))==null||n.removePointerInTextLayer(e.contentDiv),!f(this,bm)&&e.annotationElementId&&f(this,Ae).addDeletedAnnotationElement(e)}remove(e){this.detach(e),f(this,Ae).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var n;e.parent!==this&&(e.parent&&e.annotationElementId&&(f(this,Ae).addDeletedAnnotationElement(e.annotationElementId),Pt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(n=e.parent)==null||n.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),f(this,Ae).addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!f(this,Dd)),f(this,Ae).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!f(this,sl)&&(e._focusEventsAllowed=!1,R(this,sl,setTimeout(()=>{R(this,sl,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:f(this,Ae)._signal}),n.focus())},0))),e._structTreeParentId=(r=f(this,Md))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getNextId(){return f(this,Ae).getId()}combinedSignal(e){return f(this,Ae).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=f(this,ms,Co))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,n){this.updateToolbar(e),await f(this,Ae).updateMode(e.mode);const{offsetX:r,offsetY:i}=j(this,H_,SN).call(this),s=this.getNextId(),o=j(this,z_,EN).call(this,{parent:this,id:s,x:r,y:i,uiManager:f(this,Ae),isCentered:!0,...n});o&&this.add(o)}async deserialize(e){var n;return await((n=f(Fs,Yc).get(e.annotationType??e.annotationEditorType))==null?void 0:n.deserialize(e,this,f(this,Ae)))||null}createAndAddNewEditor(e,n,r={}){const i=this.getNextId(),s=j(this,z_,EN).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:f(this,Ae),isCentered:n,...r});return s&&this.add(s),s}addNewEditor(e={}){this.createAndAddNewEditor(j(this,H_,SN).call(this),!0,e)}setSelected(e){f(this,Ae).setSelected(e)}toggleSelected(e){f(this,Ae).toggleSelected(e)}unselect(e){f(this,Ae).unselect(e)}pointerup(e){var i;const{isMac:n}=ur.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div||!f(this,Xc)||(R(this,Xc,!1),(i=f(this,ms,Co))!=null&&i.isDrawer&&f(this,ms,Co).supportMultipleDrawings))return;if(!f(this,vm)){R(this,vm,!0);return}const r=f(this,Ae).getMode();if(r===Fe.STAMP||r===Fe.SIGNATURE){f(this,Ae).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(f(this,Ae).getMode()===Fe.HIGHLIGHT&&this.enableTextSelection(),f(this,Xc)){R(this,Xc,!1);return}const{isMac:n}=ur.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;if(R(this,Xc,!0),(i=f(this,ms,Co))!=null&&i.isDrawer){this.startDrawingSession(e);return}const r=f(this,Ae).getActive();R(this,vm,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),f(this,to)){f(this,ms,Co).startDrawing(this,f(this,Ae),!1,e);return}f(this,Ae).setCurrentDrawingSession(this),R(this,to,new AbortController);const n=f(this,Ae).combinedSignal(f(this,to));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(R(this,ol,null),this.commitOrRemove())},{signal:n}),f(this,ms,Co).startDrawing(this,f(this,Ae),!1,e)}pause(e){if(e){const{activeElement:n}=document;this.div.contains(n)&&R(this,ol,n);return}f(this,ol)&&setTimeout(()=>{var n;(n=f(this,ol))==null||n.focus(),R(this,ol,null)},0)}endDrawingSession(e=!1){return f(this,to)?(f(this,Ae).setCurrentDrawingSession(null),f(this,to).abort(),R(this,to,null),R(this,ol,null),f(this,ms,Co).endDrawing(e)):null}findNewParent(e,n,r){const i=f(this,Ae).findParent(n,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return f(this,to)?(this.endDrawingSession(),!0):!1}onScaleChanging(){f(this,to)&&f(this,ms,Co).onScaleChangingWhenDrawing(this)}destroy(){var e,n;this.commitOrRemove(),((e=f(this,Ae).getActive())==null?void 0:e.parent)===this&&(f(this,Ae).commitOrRemove(),f(this,Ae).setActiveEditor(null)),f(this,sl)&&(clearTimeout(f(this,sl)),R(this,sl,null));for(const r of f(this,gs).values())(n=f(this,Md))==null||n.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,f(this,gs).clear(),f(this,Ae).removeLayer(this)}render({viewport:e}){this.viewport=e,tf(this.div,e);for(const n of f(this,Ae).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){f(this,Ae).commitOrRemove(),j(this,wm,QA).call(this);const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,tf(this.div,{rotation:r}),n!==r)for(const i of f(this,gs).values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return f(this,Ae).viewParameters.realScale}};Md=new WeakMap,vm=new WeakMap,Ko=new WeakMap,Kc=new WeakMap,sl=new WeakMap,gs=new WeakMap,Xc=new WeakMap,bm=new WeakMap,Dd=new WeakMap,to=new WeakMap,ol=new WeakMap,Pr=new WeakMap,al=new WeakMap,Ae=new WeakMap,Yc=new WeakMap,XP=new WeakSet,vK=function(e){f(this,Ae).unselectAll();const{target:n}=e;if(n===f(this,Pr).div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&f(this,Pr).div.contains(n)){const{isMac:r}=ur.platform;if(e.button!==0||e.ctrlKey&&r)return;f(this,Ae).showAllEditors("highlight",!0,!0),f(this,Pr).div.classList.add("free"),this.toggleDrawing(),rS.startHighlighting(this,f(this,Ae).direction==="ltr",{target:f(this,Pr).div,x:e.x,y:e.y}),f(this,Pr).div.addEventListener("pointerup",()=>{f(this,Pr).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:f(this,Ae)._signal}),e.preventDefault()}},ms=new WeakSet,Co=function(){return f(Fs,Yc).get(f(this,Ae).getMode())},z_=new WeakSet,EN=function(e){const n=f(this,ms,Co);return n?new n.prototype.constructor(e):null},H_=new WeakSet,SN=function(){const{x:e,y:n,width:r,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),o=Math.max(0,n),a=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,n+i),c=(s+a)/2-e,u=(o+l)/2-n,[h,d]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:h,offsetY:d}},wm=new WeakSet,QA=function(){for(const e of f(this,gs).values())e.isEmpty()&&e.remove()},de(Fs,"_initialized",!1),k(Fs,Yc,new Map([tN,pN,_N,rS,wN].map(e=>[e._editorType,e])));let AN=Fs;var no,Wr,$d,W_,YP,bK,G_,PN,QP,wK,q_,CN;const En=class En{constructor({pageIndex:e}){k(this,G_);k(this,QP);k(this,q_);k(this,no,null);k(this,Wr,new Map);k(this,$d,new Map);this.pageIndex=e}setParent(e){if(!f(this,no)){R(this,no,e);return}if(f(this,no)!==e){if(f(this,Wr).size>0)for(const n of f(this,Wr).values())n.remove(),e.append(n);R(this,no,e)}}static get _svgFactory(){return Ze(this,"_svgFactory",new eS)}draw(e,n=!1,r=!1){const i=Fr(En,W_)._++,s=j(this,G_,PN).call(this),o=En._svgFactory.createElement("defs");s.append(o);const a=En._svgFactory.createElement("path");o.append(a);const l=`path_p${this.pageIndex}_${i}`;a.setAttribute("id",l),a.setAttribute("vector-effect","non-scaling-stroke"),n&&f(this,$d).set(i,a);const c=r?j(this,QP,wK).call(this,o,l):null,u=En._svgFactory.createElement("use");return s.append(u),u.setAttribute("href",`#${l}`),this.updateProperties(s,e),f(this,Wr).set(i,s),{id:i,clipPathId:`url(#${c})`}}drawOutline(e,n){const r=Fr(En,W_)._++,i=j(this,G_,PN).call(this),s=En._svgFactory.createElement("defs");i.append(s);const o=En._svgFactory.createElement("path");s.append(o);const a=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",a),o.setAttribute("vector-effect","non-scaling-stroke");let l;if(n){const h=En._svgFactory.createElement("mask");s.append(h),l=`mask_p${this.pageIndex}_${r}`,h.setAttribute("id",l),h.setAttribute("maskUnits","objectBoundingBox");const d=En._svgFactory.createElement("rect");h.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const p=En._svgFactory.createElement("use");h.append(p),p.setAttribute("href",`#${a}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const c=En._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${a}`),l&&c.setAttribute("mask",`url(#${l})`);const u=c.cloneNode();return i.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),this.updateProperties(i,e),f(this,Wr).set(r,i),r}finalizeDraw(e,n){f(this,$d).delete(e),this.updateProperties(e,n)}updateProperties(e,n){var l;if(!n)return;const{root:r,bbox:i,rootClass:s,path:o}=n,a=typeof e=="number"?f(this,Wr).get(e):e;if(a){if(r&&j(this,q_,CN).call(this,a,r),i&&j(l=En,YP,bK).call(l,a,i),s){const{classList:c}=a;for(const[u,h]of Object.entries(s))c.toggle(u,h)}if(o){const u=a.firstChild.firstChild;j(this,q_,CN).call(this,u,o)}}}updateParent(e,n){if(n===this)return;const r=f(this,Wr).get(e);r&&(f(n,no).append(r),f(this,Wr).delete(e),f(n,Wr).set(e,r))}remove(e){f(this,$d).delete(e),f(this,no)!==null&&(f(this,Wr).get(e).remove(),f(this,Wr).delete(e))}destroy(){R(this,no,null);for(const e of f(this,Wr).values())e.remove();f(this,Wr).clear(),f(this,$d).clear()}};no=new WeakMap,Wr=new WeakMap,$d=new WeakMap,W_=new WeakMap,YP=new WeakSet,bK=function(e,[n,r,i,s]){const{style:o}=e;o.top=`${100*r}%`,o.left=`${100*n}%`,o.width=`${100*i}%`,o.height=`${100*s}%`},G_=new WeakSet,PN=function(){const e=En._svgFactory.create(1,1,!0);return f(this,no).append(e),e.setAttribute("aria-hidden",!0),e},QP=new WeakSet,wK=function(e,n){const r=En._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${n}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=En._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${n}`),s.classList.add("clip"),i},q_=new WeakSet,CN=function(e,n){for(const[r,i]of Object.entries(n))i===null?e.removeAttribute(r):e.setAttribute(r,i)},k(En,YP),k(En,W_,0);let TN=En;globalThis._pdfjsTestingUtils={HighlightOutliner:rN};globalThis.pdfjsLib={AbortException:Pu,AnnotationEditorLayer:AN,AnnotationEditorParamsType:et,AnnotationEditorType:Fe,AnnotationEditorUIManager:nf,AnnotationLayer:JR,AnnotationMode:ac,AnnotationType:dn,build:zpe,ColorPicker:nS,createValidAbsoluteUrl:dG,DOMSVGFactory:eS,DrawLayer:TN,FeatureTest:ur,fetchData:p1,getDocument:Lpe,getFilenameFromUrl:Mfe,getPdfFilenameFromUrl:Dfe,getUuid:gG,getXfaPageViewport:Lfe,GlobalWorkerOptions:Qo,ImageKind:_A,InvalidPDFException:dR,isDataScheme:UC,isPdfFile:cL,isValidExplicitDest:Kfe,MathClamp:qr,noContextMenu:wo,normalizeUnicode:kfe,OPS:YE,OutputScale:da,PasswordResponses:xfe,PDFDataRangeTransport:yq,PDFDateString:uL,PDFWorker:Y0,PermissionFlag:_fe,PixelsPerInch:Cu,RenderingCancelledException:lL,ResponseException:QE,setLayerDimensions:tf,shadow:Ze,SignatureExtractor:Pn,stopEvent:vn,SupportedImageMimeTypes:pR,TextLayer:K0,TouchManager:ZE,updateUrlHash:fG,Util:Se,VerbosityLevel:FC,version:Upe,XfaLayer:wq};const hge="/assets/pdf.worker-8e08ca25.mjs";function tk(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function dge(t,e=[]){let n=[];function r(s,o){const a=I.createContext(o),l=n.length;n=[...n,o];const c=h=>{var b;const{scope:d,children:p,...y}=h,g=((b=d==null?void 0:d[t])==null?void 0:b[l])||a,v=I.useMemo(()=>y,Object.values(y));return C.jsx(g.Provider,{value:v,children:p})};c.displayName=s+"Provider";function u(h,d){var g;const p=((g=d==null?void 0:d[t])==null?void 0:g[l])||a,y=I.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(o=>I.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return I.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,fge(i,...e)]}function fge(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function jp(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function _K(t,e=[]){let n=[];function r(s,o){const a=I.createContext(o),l=n.length;n=[...n,o];const c=h=>{var b;const{scope:d,children:p,...y}=h,g=((b=d==null?void 0:d[t])==null?void 0:b[l])||a,v=I.useMemo(()=>y,Object.values(y));return C.jsx(g.Provider,{value:v,children:p})};c.displayName=s+"Provider";function u(h,d){var g;const p=((g=d==null?void 0:d[t])==null?void 0:g[l])||a,y=I.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(o=>I.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return I.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,pge(i,...e)]}function pge(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function X6(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function gge(...t){return e=>{let n=!1;const r=t.map(i=>{const s=X6(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():X6(t[i],null)}}}}function IN(...t){return I.useCallback(gge(...t),t)}function mge(t){const e=t+"CollectionProvider",[n,r]=_K(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:b}=g,w=U.useRef(null),_=U.useRef(new Map).current;return C.jsx(i,{scope:v,itemMap:_,collectionRef:w,children:b})};o.displayName=e;const a=t+"CollectionSlot",l=W0(a),c=U.forwardRef((g,v)=>{const{scope:b,children:w}=g,_=s(a,b),S=IN(v,_.collectionRef);return C.jsx(l,{ref:S,children:w})});c.displayName=a;const u=t+"CollectionItemSlot",h="data-radix-collection-item",d=W0(u),p=U.forwardRef((g,v)=>{const{scope:b,children:w,..._}=g,S=U.useRef(null),x=IN(v,S),T=s(u,b);return U.useEffect(()=>(T.itemMap.set(S,{ref:S,..._}),()=>void T.itemMap.delete(S))),C.jsx(d,{[h]:"",ref:x,children:w})});p.displayName=u;function y(g){const v=s(t+"CollectionConsumer",g);return U.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const _=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((T,A)=>_.indexOf(T.ref.current)-_.indexOf(A.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},y,r]}var xK=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},yge=X_[" useId ".trim().toString()]||(()=>{}),vge=0;function bge(t){const[e,n]=I.useState(yge());return xK(()=>{t||n(r=>r??String(vge++))},[t]),t||(e?`radix-${e}`:"")}var wge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],AK=wge.reduce((t,e)=>{const n=W0(`Primitive.${e}`),r=I.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function _ge(t){const e=I.useRef(t);return I.useEffect(()=>{e.current=t}),I.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var xge=X_[" useInsertionEffect ".trim().toString()]||xK;function Age({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=Ege({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const u=I.useRef(t!==void 0);I.useEffect(()=>{const h=u.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=I.useCallback(u=>{var h;if(a){const d=Sge(u)?u(t):u;d!==t&&((h=o.current)==null||h.call(o,d))}else s(u)},[a,t,s,o]);return[l,c]}function Ege({defaultProp:t,onChange:e}){const[n,r]=I.useState(t),i=I.useRef(n),s=I.useRef(e);return xge(()=>{s.current=e},[e]),I.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function Sge(t){return typeof t=="function"}var Tge=I.createContext(void 0);function Pge(t){const e=I.useContext(Tge);return t||e||"ltr"}var nk="rovingFocusGroup.onEntryFocus",Cge={bubbles:!1,cancelable:!0},w1="RovingFocusGroup",[ON,EK,Ige]=mge(w1),[Oge,SK]=_K(w1,[Ige]),[kge,Rge]=Oge(w1),TK=I.forwardRef((t,e)=>C.jsx(ON.Provider,{scope:t.__scopeRovingFocusGroup,children:C.jsx(ON.Slot,{scope:t.__scopeRovingFocusGroup,children:C.jsx(Nge,{...t,ref:e})})}));TK.displayName=w1;var Nge=I.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=t,d=I.useRef(null),p=IN(e,d),y=Pge(s),[g,v]=Age({prop:o,defaultProp:a??null,onChange:l,caller:w1}),[b,w]=I.useState(!1),_=_ge(c),S=EK(n),x=I.useRef(!1),[T,A]=I.useState(0);return I.useEffect(()=>{const E=d.current;if(E)return E.addEventListener(nk,_),()=>E.removeEventListener(nk,_)},[_]),C.jsx(kge,{scope:n,orientation:r,dir:y,loop:i,currentTabStopId:g,onItemFocus:I.useCallback(E=>v(E),[v]),onItemShiftTab:I.useCallback(()=>w(!0),[]),onFocusableItemAdd:I.useCallback(()=>A(E=>E+1),[]),onFocusableItemRemove:I.useCallback(()=>A(E=>E-1),[]),children:C.jsx(AK.div,{tabIndex:b||T===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...t.style},onMouseDown:jp(t.onMouseDown,()=>{x.current=!0}),onFocus:jp(t.onFocus,E=>{const O=!x.current;if(E.target===E.currentTarget&&O&&!b){const M=new CustomEvent(nk,Cge);if(E.currentTarget.dispatchEvent(M),!M.defaultPrevented){const D=S().filter(H=>H.focusable),$=D.find(H=>H.active),L=D.find(H=>H.id===g),q=[$,L,...D].filter(Boolean).map(H=>H.ref.current);IK(q,u)}}x.current=!1}),onBlur:jp(t.onBlur,()=>w(!1))})})}),PK="RovingFocusGroupItem",CK=I.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=t,l=bge(),c=s||l,u=Rge(PK,n),h=u.currentTabStopId===c,d=EK(n),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:g}=u;return I.useEffect(()=>{if(r)return p(),()=>y()},[r,p,y]),C.jsx(ON.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:C.jsx(AK.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:jp(t.onMouseDown,v=>{r?u.onItemFocus(c):v.preventDefault()}),onFocus:jp(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:jp(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const b=$ge(v,u.orientation,u.dir);if(b!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let _=d().filter(S=>S.focusable).map(S=>S.ref.current);if(b==="last")_.reverse();else if(b==="prev"||b==="next"){b==="prev"&&_.reverse();const S=_.indexOf(v.currentTarget);_=u.loop?Lge(_,S+1):_.slice(S+1)}setTimeout(()=>IK(_))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});CK.displayName=PK;var Mge={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Dge(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function $ge(t,e,n){const r=Dge(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Mge[r]}function IK(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Lge(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var jge=TK,Fge=CK;function Y6(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Vge(...t){return e=>{let n=!1;const r=t.map(i=>{const s=Y6(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Y6(t[i],null)}}}}function Bge(...t){return I.useCallback(Vge(...t),t)}var Q6=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{};function Uge(t,e){return I.useReducer((n,r)=>e[n][r]??n,t)}var OK=t=>{const{present:e,children:n}=t,r=zge(e),i=typeof n=="function"?n({present:r.isPresent}):I.Children.only(n),s=Bge(r.ref,Hge(i));return typeof n=="function"||r.isPresent?I.cloneElement(i,{ref:s}):null};OK.displayName="Presence";function zge(t){const[e,n]=I.useState(),r=I.useRef(null),i=I.useRef(t),s=I.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Uge(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const c=Mx(r.current);s.current=a==="mounted"?c:"none"},[a]),Q6(()=>{const c=r.current,u=i.current;if(u!==t){const d=s.current,p=Mx(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&d!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Q6(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=p=>{const g=Mx(r.current).includes(p.animationName);if(p.target===e&&g&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},d=p=>{p.target===e&&(s.current=Mx(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:I.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Mx(t){return(t==null?void 0:t.animationName)||"none"}function Hge(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Wge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],WC=Wge.reduce((t,e)=>{const n=W0(`Primitive.${e}`),r=I.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),Gge=I.createContext(void 0);function qge(t){const e=I.useContext(Gge);return t||e||"ltr"}var kK=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},Kge=X_[" useInsertionEffect ".trim().toString()]||kK;function Xge({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=Yge({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const u=I.useRef(t!==void 0);I.useEffect(()=>{const h=u.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=I.useCallback(u=>{var h;if(a){const d=Qge(u)?u(t):u;d!==t&&((h=o.current)==null||h.call(o,d))}else s(u)},[a,t,s,o]);return[l,c]}function Yge({defaultProp:t,onChange:e}){const[n,r]=I.useState(t),i=I.useRef(n),s=I.useRef(e);return Kge(()=>{s.current=e},[e]),I.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function Qge(t){return typeof t=="function"}var Jge=X_[" useId ".trim().toString()]||(()=>{}),Zge=0;function eme(t){const[e,n]=I.useState(Jge());return kK(()=>{t||n(r=>r??String(Zge++))},[t]),t||(e?`radix-${e}`:"")}var GC="Tabs",[tme,BFe]=dge(GC,[SK]),RK=SK(),[nme,vL]=tme(GC),NK=I.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=qge(a),[h,d]=Xge({prop:r,onChange:i,defaultProp:s??"",caller:GC});return C.jsx(nme,{scope:n,baseId:eme(),value:h,onValueChange:d,orientation:o,dir:u,activationMode:l,children:C.jsx(WC.div,{dir:u,"data-orientation":o,...c,ref:e})})});NK.displayName=GC;var MK="TabsList",DK=I.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=vL(MK,n),o=RK(n);return C.jsx(jge,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:C.jsx(WC.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});DK.displayName=MK;var $K="TabsTrigger",LK=I.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=vL($K,n),a=RK(n),l=VK(o.baseId,r),c=BK(o.baseId,r),u=r===o.value;return C.jsx(Fge,{asChild:!0,...a,focusable:!i,active:u,children:C.jsx(WC.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:tk(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:tk(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:tk(t.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!i&&h&&o.onValueChange(r)})})})});LK.displayName=$K;var jK="TabsContent",FK=I.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=vL(jK,n),l=VK(a.baseId,r),c=BK(a.baseId,r),u=r===a.value,h=I.useRef(u);return I.useEffect(()=>{const d=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(d)},[]),C.jsx(OK,{present:i||u,children:({present:d})=>C.jsx(WC.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!d,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:d&&s})})});FK.displayName=jK;function VK(t,e){return`${t}-trigger-${e}`}function BK(t,e){return`${t}-content-${e}`}var rme=NK,UK=DK,zK=LK,HK=FK;const ime=rme,WK=I.forwardRef(({className:t,...e},n)=>C.jsx(UK,{ref:n,className:xn("flex w-full h-12 items-center justify-center rounded-2xl bg-gray-100 p-2 gap-2",t),...e}));WK.displayName=UK.displayName;const kN=I.forwardRef(({className:t,...e},n)=>C.jsx(zK,{ref:n,className:xn("flex-1 w-full inline-flex items-center justify-center whitespace-nowrap rounded-xl px-6 py-2 text-base font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-300 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-indigo-600 data-[state=active]:text-white data-[state=active]:shadow-md data-[state=active]:border-transparent data-[state=inactive]:bg-white data-[state=inactive]:text-gray-900 data-[state=inactive]:border-2 data-[state=inactive]:border-blue-300 data-[state=inactive]:shadow-none",t),...e}));kN.displayName=zK.displayName;const RN=I.forwardRef(({className:t,...e},n)=>C.jsx(HK,{ref:n,className:xn("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));RN.displayName=HK.displayName;var sme=Array.isArray,bi=sme,ome=typeof K1=="object"&&K1&&K1.Object===Object&&K1,GK=ome,ame=GK,lme=typeof self=="object"&&self&&self.Object===Object&&self,cme=ame||lme||Function("return this")(),ga=cme,ume=ga,hme=ume.Symbol,_1=hme,J6=_1,qK=Object.prototype,dme=qK.hasOwnProperty,fme=qK.toString,hv=J6?J6.toStringTag:void 0;function pme(t){var e=dme.call(t,hv),n=t[hv];try{t[hv]=void 0;var r=!0}catch{}var i=fme.call(t);return r&&(e?t[hv]=n:delete t[hv]),i}var gme=pme,mme=Object.prototype,yme=mme.toString;function vme(t){return yme.call(t)}var bme=vme,Z6=_1,wme=gme,_me=bme,xme="[object Null]",Ame="[object Undefined]",e5=Z6?Z6.toStringTag:void 0;function Eme(t){return t==null?t===void 0?Ame:xme:e5&&e5 in Object(t)?wme(t):_me(t)}var jl=Eme;function Sme(t){return t!=null&&typeof t=="object"}var Fl=Sme,Tme=jl,Pme=Fl,Cme="[object Symbol]";function Ime(t){return typeof t=="symbol"||Pme(t)&&Tme(t)==Cme}var Ty=Ime,Ome=bi,kme=Ty,Rme=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nme=/^\w*$/;function Mme(t,e){if(Ome(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||kme(t)?!0:Nme.test(t)||!Rme.test(t)||e!=null&&t in Object(e)}var bL=Mme;function Dme(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ru=Dme;const Py=dt(Ru);var $me=jl,Lme=Ru,jme="[object AsyncFunction]",Fme="[object Function]",Vme="[object GeneratorFunction]",Bme="[object Proxy]";function Ume(t){if(!Lme(t))return!1;var e=$me(t);return e==Fme||e==Vme||e==jme||e==Bme}var wL=Ume;const De=dt(wL);var zme=ga,Hme=zme["__core-js_shared__"],Wme=Hme,rk=Wme,t5=function(){var t=/[^.]+$/.exec(rk&&rk.keys&&rk.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Gme(t){return!!t5&&t5 in t}var qme=Gme,Kme=Function.prototype,Xme=Kme.toString;function Yme(t){if(t!=null){try{return Xme.call(t)}catch{}try{return t+""}catch{}}return""}var KK=Yme,Qme=wL,Jme=qme,Zme=Ru,eye=KK,tye=/[\\^$.*+?()[\]{}|]/g,nye=/^\[object .+?Constructor\]$/,rye=Function.prototype,iye=Object.prototype,sye=rye.toString,oye=iye.hasOwnProperty,aye=RegExp("^"+sye.call(oye).replace(tye,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function lye(t){if(!Zme(t)||Jme(t))return!1;var e=Qme(t)?aye:nye;return e.test(eye(t))}var cye=lye;function uye(t,e){return t==null?void 0:t[e]}var hye=uye,dye=cye,fye=hye;function pye(t,e){var n=fye(t,e);return dye(n)?n:void 0}var Ef=pye,gye=Ef,mye=gye(Object,"create"),qC=mye,n5=qC;function yye(){this.__data__=n5?n5(null):{},this.size=0}var vye=yye;function bye(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var wye=bye,_ye=qC,xye="__lodash_hash_undefined__",Aye=Object.prototype,Eye=Aye.hasOwnProperty;function Sye(t){var e=this.__data__;if(_ye){var n=e[t];return n===xye?void 0:n}return Eye.call(e,t)?e[t]:void 0}var Tye=Sye,Pye=qC,Cye=Object.prototype,Iye=Cye.hasOwnProperty;function Oye(t){var e=this.__data__;return Pye?e[t]!==void 0:Iye.call(e,t)}var kye=Oye,Rye=qC,Nye="__lodash_hash_undefined__";function Mye(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Rye&&e===void 0?Nye:e,this}var Dye=Mye,$ye=vye,Lye=wye,jye=Tye,Fye=kye,Vye=Dye;function Cy(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Cy.prototype.clear=$ye;Cy.prototype.delete=Lye;Cy.prototype.get=jye;Cy.prototype.has=Fye;Cy.prototype.set=Vye;var Bye=Cy;function Uye(){this.__data__=[],this.size=0}var zye=Uye;function Hye(t,e){return t===e||t!==t&&e!==e}var _L=Hye,Wye=_L;function Gye(t,e){for(var n=t.length;n--;)if(Wye(t[n][0],e))return n;return-1}var KC=Gye,qye=KC,Kye=Array.prototype,Xye=Kye.splice;function Yye(t){var e=this.__data__,n=qye(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Xye.call(e,n,1),--this.size,!0}var Qye=Yye,Jye=KC;function Zye(t){var e=this.__data__,n=Jye(e,t);return n<0?void 0:e[n][1]}var eve=Zye,tve=KC;function nve(t){return tve(this.__data__,t)>-1}var rve=nve,ive=KC;function sve(t,e){var n=this.__data__,r=ive(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var ove=sve,ave=zye,lve=Qye,cve=eve,uve=rve,hve=ove;function Iy(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Iy.prototype.clear=ave;Iy.prototype.delete=lve;Iy.prototype.get=cve;Iy.prototype.has=uve;Iy.prototype.set=hve;var XC=Iy,dve=Ef,fve=ga,pve=dve(fve,"Map"),xL=pve,r5=Bye,gve=XC,mve=xL;function yve(){this.size=0,this.__data__={hash:new r5,map:new(mve||gve),string:new r5}}var vve=yve;function bve(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var wve=bve,_ve=wve;function xve(t,e){var n=t.__data__;return _ve(e)?n[typeof e=="string"?"string":"hash"]:n.map}var YC=xve,Ave=YC;function Eve(t){var e=Ave(this,t).delete(t);return this.size-=e?1:0,e}var Sve=Eve,Tve=YC;function Pve(t){return Tve(this,t).get(t)}var Cve=Pve,Ive=YC;function Ove(t){return Ive(this,t).has(t)}var kve=Ove,Rve=YC;function Nve(t,e){var n=Rve(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Mve=Nve,Dve=vve,$ve=Sve,Lve=Cve,jve=kve,Fve=Mve;function Oy(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Oy.prototype.clear=Dve;Oy.prototype.delete=$ve;Oy.prototype.get=Lve;Oy.prototype.has=jve;Oy.prototype.set=Fve;var AL=Oy,XK=AL,Vve="Expected a function";function EL(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Vve);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(EL.Cache||XK),n}EL.Cache=XK;var YK=EL;const Bve=dt(YK);var Uve=YK,zve=500;function Hve(t){var e=Uve(t,function(r){return n.size===zve&&n.clear(),r}),n=e.cache;return e}var Wve=Hve,Gve=Wve,qve=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kve=/\\(\\)?/g,Xve=Gve(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(qve,function(n,r,i,s){e.push(i?s.replace(Kve,"$1"):r||n)}),e}),Yve=Xve;function Qve(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var SL=Qve,i5=_1,Jve=SL,Zve=bi,e0e=Ty,t0e=1/0,s5=i5?i5.prototype:void 0,o5=s5?s5.toString:void 0;function QK(t){if(typeof t=="string")return t;if(Zve(t))return Jve(t,QK)+"";if(e0e(t))return o5?o5.call(t):"";var e=t+"";return e=="0"&&1/t==-t0e?"-0":e}var n0e=QK,r0e=n0e;function i0e(t){return t==null?"":r0e(t)}var JK=i0e,s0e=bi,o0e=bL,a0e=Yve,l0e=JK;function c0e(t,e){return s0e(t)?t:o0e(t,e)?[t]:a0e(l0e(t))}var ZK=c0e,u0e=Ty,h0e=1/0;function d0e(t){if(typeof t=="string"||u0e(t))return t;var e=t+"";return e=="0"&&1/t==-h0e?"-0":e}var QC=d0e,f0e=ZK,p0e=QC;function g0e(t,e){e=f0e(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[p0e(e[n++])];return n&&n==r?t:void 0}var TL=g0e,m0e=TL;function y0e(t,e,n){var r=t==null?void 0:m0e(t,e);return r===void 0?n:r}var eX=y0e;const Yi=dt(eX);function v0e(t){return t==null}var b0e=v0e;const Be=dt(b0e);var w0e=jl,_0e=bi,x0e=Fl,A0e="[object String]";function E0e(t){return typeof t=="string"||!_0e(t)&&x0e(t)&&w0e(t)==A0e}var S0e=E0e;const sf=dt(S0e);var tX={exports:{}},mt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PL=Symbol.for("react.element"),CL=Symbol.for("react.portal"),JC=Symbol.for("react.fragment"),ZC=Symbol.for("react.strict_mode"),eI=Symbol.for("react.profiler"),tI=Symbol.for("react.provider"),nI=Symbol.for("react.context"),T0e=Symbol.for("react.server_context"),rI=Symbol.for("react.forward_ref"),iI=Symbol.for("react.suspense"),sI=Symbol.for("react.suspense_list"),oI=Symbol.for("react.memo"),aI=Symbol.for("react.lazy"),P0e=Symbol.for("react.offscreen"),nX;nX=Symbol.for("react.module.reference");function Is(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case PL:switch(t=t.type,t){case JC:case eI:case ZC:case iI:case sI:return t;default:switch(t=t&&t.$$typeof,t){case T0e:case nI:case rI:case aI:case oI:case tI:return t;default:return e}}case CL:return e}}}mt.ContextConsumer=nI;mt.ContextProvider=tI;mt.Element=PL;mt.ForwardRef=rI;mt.Fragment=JC;mt.Lazy=aI;mt.Memo=oI;mt.Portal=CL;mt.Profiler=eI;mt.StrictMode=ZC;mt.Suspense=iI;mt.SuspenseList=sI;mt.isAsyncMode=function(){return!1};mt.isConcurrentMode=function(){return!1};mt.isContextConsumer=function(t){return Is(t)===nI};mt.isContextProvider=function(t){return Is(t)===tI};mt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===PL};mt.isForwardRef=function(t){return Is(t)===rI};mt.isFragment=function(t){return Is(t)===JC};mt.isLazy=function(t){return Is(t)===aI};mt.isMemo=function(t){return Is(t)===oI};mt.isPortal=function(t){return Is(t)===CL};mt.isProfiler=function(t){return Is(t)===eI};mt.isStrictMode=function(t){return Is(t)===ZC};mt.isSuspense=function(t){return Is(t)===iI};mt.isSuspenseList=function(t){return Is(t)===sI};mt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===JC||t===eI||t===ZC||t===iI||t===sI||t===P0e||typeof t=="object"&&t!==null&&(t.$$typeof===aI||t.$$typeof===oI||t.$$typeof===tI||t.$$typeof===nI||t.$$typeof===rI||t.$$typeof===nX||t.getModuleId!==void 0)};mt.typeOf=Is;tX.exports=mt;var C0e=tX.exports,I0e=jl,O0e=Fl,k0e="[object Number]";function R0e(t){return typeof t=="number"||O0e(t)&&I0e(t)==k0e}var rX=R0e;const N0e=dt(rX);var M0e=rX;function D0e(t){return M0e(t)&&t!=+t}var $0e=D0e;const x1=dt($0e);var Xr=function(e){return e===0?0:e>0?1:-1},dh=function(e){return sf(e)&&e.indexOf("%")===e.length-1},ge=function(e){return N0e(e)&&!x1(e)},Rn=function(e){return ge(e)||sf(e)},L0e=0,ky=function(e){var n=++L0e;return"".concat(e||"").concat(n)},Yr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ge(e)&&!sf(e))return r;var s;if(dh(e)){var o=e.indexOf("%");s=n*parseFloat(e.slice(0,o))/100}else s=+e;return x1(s)&&(s=r),i&&s>n&&(s=n),s},lc=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},j0e=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Hi=function(e,n){return ge(e)&&ge(n)?function(r){return e+r*(n-e)}:function(){return n}};function sS(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Yi(r,e))===n})}var F0e=function(e,n){return ge(e)&&ge(n)?e-n:sf(e)&&sf(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Fp(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function NN(t){"@babel/helpers - typeof";return NN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NN(t)}var V0e=["viewBox","children"],B0e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],a5=["points","pathLength"],ik={svg:V0e,polygon:a5,polyline:a5},IL=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],oS=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(I.isValidElement(e)&&(r=e.props),!Py(r))return null;var i={};return Object.keys(r).forEach(function(s){IL.includes(s)&&(i[s]=n||function(o){return r[s](r,o)})}),i},U0e=function(e,n,r){return function(i){return e(n,r,i),null}},of=function(e,n,r){if(!Py(e)||NN(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];IL.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=U0e(o,n,r))}),i},z0e=["children"],H0e=["children"];function l5(t,e){if(t==null)return{};var n=W0e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function W0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function MN(t){"@babel/helpers - typeof";return MN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MN(t)}var c5={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},yl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},u5=null,sk=null,OL=function t(e){if(e===u5&&Array.isArray(sk))return sk;var n=[];return I.Children.forEach(e,function(r){Be(r)||(C0e.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),sk=n,u5=e,n};function Qi(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return yl(i)}):r=[yl(e)],OL(t).forEach(function(i){var s=Yi(i,"type.displayName")||Yi(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function Vi(t,e){var n=Qi(t,e);return n&&n[0]}var h5=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ge(r)||r<=0||!ge(i)||i<=0)},G0e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],q0e=function(e){return e&&e.type&&sf(e.type)&&G0e.indexOf(e.type)>=0},K0e=function(e){return e&&MN(e)==="object"&&"clipDot"in e},X0e=function(e,n,r,i){var s,o=(s=ik==null?void 0:ik[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!De(e)&&(i&&o.includes(n)||B0e.includes(n))||r&&IL.includes(n)},Oe=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(I.isValidElement(e)&&(i=e.props),!Py(i))return null;var s={};return Object.keys(i).forEach(function(o){var a;X0e((a=i)===null||a===void 0?void 0:a[o],o,n,r)&&(s[o]=i[o])}),s},DN=function t(e,n){if(e===n)return!0;var r=I.Children.count(e);if(r!==I.Children.count(n))return!1;if(r===0)return!0;if(r===1)return d5(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],o=n[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!d5(s,o))return!1}return!0},d5=function(e,n){if(Be(e)&&Be(n))return!0;if(!Be(e)&&!Be(n)){var r=e.props||{},i=r.children,s=l5(r,z0e),o=n.props||{},a=o.children,l=l5(o,H0e);return i&&a?Fp(s,l)&&DN(i,a):!i&&!a?Fp(s,l):!1}return!1},f5=function(e,n){var r=[],i={};return OL(e).forEach(function(s,o){if(q0e(s))r.push(s);else if(s){var a=yl(s.type),l=n[a]||{},c=l.handler,u=l.once;if(c&&(!u||!i[a])){var h=c(s,a,o);r.push(h),i[a]=!0}}}),r},Y0e=function(e){var n=e&&e.type;return n&&c5[n]?c5[n]:null},Q0e=function(e,n){return OL(n).indexOf(e)},J0e=["children","width","height","viewBox","className","style","title","desc"];function $N(){return $N=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$N.apply(this,arguments)}function Z0e(t,e){if(t==null)return{};var n=ebe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ebe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function LN(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,o=t.style,a=t.title,l=t.desc,c=Z0e(t,J0e),u=i||{width:n,height:r,x:0,y:0},h=Ue("recharts-surface",s);return U.createElement("svg",$N({},Oe(c,!0,"svg"),{className:h,width:n,height:r,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),U.createElement("title",null,a),U.createElement("desc",null,l),e)}var tbe=["children","className"];function jN(){return jN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jN.apply(this,arguments)}function nbe(t,e){if(t==null)return{};var n=rbe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var at=U.forwardRef(function(t,e){var n=t.children,r=t.className,i=nbe(t,tbe),s=Ue("recharts-layer",r);return U.createElement("g",jN({className:s},Oe(i,!0),{ref:e}),n)}),mo=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function ibe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var sbe=ibe,obe=sbe;function abe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:obe(t,e,n)}var lbe=abe,cbe="\\ud800-\\udfff",ube="\\u0300-\\u036f",hbe="\\ufe20-\\ufe2f",dbe="\\u20d0-\\u20ff",fbe=ube+hbe+dbe,pbe="\\ufe0e\\ufe0f",gbe="\\u200d",mbe=RegExp("["+gbe+cbe+fbe+pbe+"]");function ybe(t){return mbe.test(t)}var iX=ybe;function vbe(t){return t.split("")}var bbe=vbe,sX="\\ud800-\\udfff",wbe="\\u0300-\\u036f",_be="\\ufe20-\\ufe2f",xbe="\\u20d0-\\u20ff",Abe=wbe+_be+xbe,Ebe="\\ufe0e\\ufe0f",Sbe="["+sX+"]",FN="["+Abe+"]",VN="\\ud83c[\\udffb-\\udfff]",Tbe="(?:"+FN+"|"+VN+")",oX="[^"+sX+"]",aX="(?:\\ud83c[\\udde6-\\uddff]){2}",lX="[\\ud800-\\udbff][\\udc00-\\udfff]",Pbe="\\u200d",cX=Tbe+"?",uX="["+Ebe+"]?",Cbe="(?:"+Pbe+"(?:"+[oX,aX,lX].join("|")+")"+uX+cX+")*",Ibe=uX+cX+Cbe,Obe="(?:"+[oX+FN+"?",FN,aX,lX,Sbe].join("|")+")",kbe=RegExp(VN+"(?="+VN+")|"+Obe+Ibe,"g");function Rbe(t){return t.match(kbe)||[]}var Nbe=Rbe,Mbe=bbe,Dbe=iX,$be=Nbe;function Lbe(t){return Dbe(t)?$be(t):Mbe(t)}var jbe=Lbe,Fbe=lbe,Vbe=iX,Bbe=jbe,Ube=JK;function zbe(t){return function(e){e=Ube(e);var n=Vbe(e)?Bbe(e):void 0,r=n?n[0]:e.charAt(0),i=n?Fbe(n,1).join(""):e.slice(1);return r[t]()+i}}var Hbe=zbe,Wbe=Hbe,Gbe=Wbe("toUpperCase"),qbe=Gbe;const lI=dt(qbe);function St(t){return function(){return t}}const hX=Math.cos,aS=Math.sin,_o=Math.sqrt,lS=Math.PI,cI=2*lS,BN=Math.PI,UN=2*BN,Ju=1e-6,Kbe=UN-Ju;function dX(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Xbe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return dX;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Ybe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?dX:Xbe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-e,c=i-n,u=o-e,h=a-n,d=u*u+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Ju)if(!(Math.abs(h*l-c*u)>Ju)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-o,y=i-a,g=l*l+c*c,v=p*p+y*y,b=Math.sqrt(g),w=Math.sqrt(d),_=s*Math.tan((BN-Math.acos((g+d-v)/(2*b*w)))/2),S=_/w,x=_/b;Math.abs(S-1)>Ju&&this._append`L${e+S*u},${n+S*h}`,this._append`A${s},${s},0,0,${+(h*p>u*y)},${this._x1=e+x*l},${this._y1=n+x*c}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),c=e+a,u=n+l,h=1^o,d=o?i-s:s-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Ju||Math.abs(this._y1-u)>Ju)&&this._append`L${c},${u}`,r&&(d<0&&(d=d%UN+UN),d>Kbe?this._append`A${r},${r},0,1,${h},${e-a},${n-l}A${r},${r},0,1,${h},${this._x1=c},${this._y1=u}`:d>Ju&&this._append`A${r},${r},0,${+(d>=BN)},${h},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function kL(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Ybe(e)}function RL(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function fX(t){this._context=t}fX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function uI(t){return new fX(t)}function pX(t){return t[0]}function gX(t){return t[1]}function mX(t,e){var n=St(!0),r=null,i=uI,s=null,o=kL(a);t=typeof t=="function"?t:t===void 0?pX:St(t),e=typeof e=="function"?e:e===void 0?gX:St(e);function a(l){var c,u=(l=RL(l)).length,h,d=!1,p;for(r==null&&(s=i(p=o())),c=0;c<=u;++c)!(c<u&&n(h=l[c],c,l))===d&&((d=!d)?s.lineStart():s.lineEnd()),d&&s.point(+t(h,c,l),+e(h,c,l));if(p)return s=null,p+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:St(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:St(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:St(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),a):r},a}function Dx(t,e,n){var r=null,i=St(!0),s=null,o=uI,a=null,l=kL(c);t=typeof t=="function"?t:t===void 0?pX:St(+t),e=typeof e=="function"?e:St(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?gX:St(+n);function c(h){var d,p,y,g=(h=RL(h)).length,v,b=!1,w,_=new Array(g),S=new Array(g);for(s==null&&(a=o(w=l())),d=0;d<=g;++d){if(!(d<g&&i(v=h[d],d,h))===b)if(b=!b)p=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),y=d-1;y>=p;--y)a.point(_[y],S[y]);a.lineEnd(),a.areaEnd()}b&&(_[d]=+t(v,d,h),S[d]=+e(v,d,h),a.point(r?+r(v,d,h):_[d],n?+n(v,d,h):S[d]))}if(w)return a=null,w+""||null}function u(){return mX().defined(i).curve(o).context(s)}return c.x=function(h){return arguments.length?(t=typeof h=="function"?h:St(+h),r=null,c):t},c.x0=function(h){return arguments.length?(t=typeof h=="function"?h:St(+h),c):t},c.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:St(+h),c):r},c.y=function(h){return arguments.length?(e=typeof h=="function"?h:St(+h),n=null,c):e},c.y0=function(h){return arguments.length?(e=typeof h=="function"?h:St(+h),c):e},c.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:St(+h),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(h){return arguments.length?(i=typeof h=="function"?h:St(!!h),c):i},c.curve=function(h){return arguments.length?(o=h,s!=null&&(a=o(s)),c):o},c.context=function(h){return arguments.length?(h==null?s=a=null:a=o(s=h),c):s},c}class yX{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Qbe(t){return new yX(t,!0)}function Jbe(t){return new yX(t,!1)}const NL={draw(t,e){const n=_o(e/lS);t.moveTo(n,0),t.arc(0,0,n,0,cI)}},Zbe={draw(t,e){const n=_o(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},vX=_o(1/3),ewe=vX*2,twe={draw(t,e){const n=_o(e/ewe),r=n*vX;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},nwe={draw(t,e){const n=_o(e),r=-n/2;t.rect(r,r,n,n)}},rwe=.8908130915292852,bX=aS(lS/10)/aS(7*lS/10),iwe=aS(cI/10)*bX,swe=-hX(cI/10)*bX,owe={draw(t,e){const n=_o(e*rwe),r=iwe*n,i=swe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const o=cI*s/5,a=hX(o),l=aS(o);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},ok=_o(3),awe={draw(t,e){const n=-_o(e/(ok*3));t.moveTo(0,n*2),t.lineTo(-ok*n,-n),t.lineTo(ok*n,-n),t.closePath()}},ss=-.5,os=_o(3)/2,zN=1/_o(12),lwe=(zN/2+1)*3,cwe={draw(t,e){const n=_o(e/lwe),r=n/2,i=n*zN,s=r,o=n*zN+n,a=-s,l=o;t.moveTo(r,i),t.lineTo(s,o),t.lineTo(a,l),t.lineTo(ss*r-os*i,os*r+ss*i),t.lineTo(ss*s-os*o,os*s+ss*o),t.lineTo(ss*a-os*l,os*a+ss*l),t.lineTo(ss*r+os*i,ss*i-os*r),t.lineTo(ss*s+os*o,ss*o-os*s),t.lineTo(ss*a+os*l,ss*l-os*a),t.closePath()}};function uwe(t,e){let n=null,r=kL(i);t=typeof t=="function"?t:St(t||NL),e=typeof e=="function"?e:St(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:St(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:St(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function cS(){}function uS(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function wX(t){this._context=t}wX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:uS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:uS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hwe(t){return new wX(t)}function _X(t){this._context=t}_X.prototype={areaStart:cS,areaEnd:cS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:uS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dwe(t){return new _X(t)}function xX(t){this._context=t}xX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:uS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fwe(t){return new xX(t)}function AX(t){this._context=t}AX.prototype={areaStart:cS,areaEnd:cS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function pwe(t){return new AX(t)}function p5(t){return t<0?-1:1}function g5(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(p5(s)+p5(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function m5(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ak(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,a=(s-r)/3;t._context.bezierCurveTo(r+a,i+a*e,s-a,o-a*n,s,o)}function hS(t){this._context=t}hS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ak(this,this._t0,m5(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ak(this,m5(this,n=g5(this,t,e)),n);break;default:ak(this,this._t0,n=g5(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function EX(t){this._context=new SX(t)}(EX.prototype=Object.create(hS.prototype)).point=function(t,e){hS.prototype.point.call(this,e,t)};function SX(t){this._context=t}SX.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function gwe(t){return new hS(t)}function mwe(t){return new EX(t)}function TX(t){this._context=t}TX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=y5(t),i=y5(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function y5(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function ywe(t){return new TX(t)}function hI(t,e){this._context=t,this._t=e}hI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function vwe(t){return new hI(t,.5)}function bwe(t){return new hI(t,0)}function wwe(t){return new hI(t,1)}function Vm(t,e){if((o=t.length)>1)for(var n=1,r,i,s=t[e[0]],o,a=s.length;n<o;++n)for(i=s,s=t[e[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function HN(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function _we(t,e){return t[e]}function xwe(t){const e=[];return e.key=t,e}function Awe(){var t=St([]),e=HN,n=Vm,r=_we;function i(s){var o=Array.from(t.apply(this,arguments),xwe),a,l=o.length,c=-1,u;for(const h of s)for(a=0,++c;a<l;++a)(o[a][c]=[0,+r(h,o[a].key,c,s)]).data=h;for(a=0,u=RL(e(o));a<l;++a)o[u[a]].index=a;return n(o,u),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:St(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:St(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?HN:typeof s=="function"?s:St(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Vm,i):n},i}function Ewe(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Vm(t,e)}}function Swe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var o=0,a=0;o<i;++o)a+=t[o][n][1]||0;r[n][1]+=r[n][0]=-a/2}Vm(t,e)}}function Twe(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var a=0,l=0,c=0;a<o;++a){for(var u=t[e[a]],h=u[r][1]||0,d=u[r-1][1]||0,p=(h-d)/2,y=0;y<a;++y){var g=t[e[y]],v=g[r][1]||0,b=g[r-1][1]||0;p+=v-b}l+=h,c+=p*h}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Vm(t,e)}}function Q0(t){"@babel/helpers - typeof";return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q0(t)}var Pwe=["type","size","sizeType"];function WN(){return WN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WN.apply(this,arguments)}function v5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v5(Object(n),!0).forEach(function(r){Cwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cwe(t,e,n){return e=Iwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iwe(t){var e=Owe(t,"string");return Q0(e)=="symbol"?e:e+""}function Owe(t,e){if(Q0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Q0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kwe(t,e){if(t==null)return{};var n=Rwe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var PX={symbolCircle:NL,symbolCross:Zbe,symbolDiamond:twe,symbolSquare:nwe,symbolStar:owe,symbolTriangle:awe,symbolWye:cwe},Nwe=Math.PI/180,Mwe=function(e){var n="symbol".concat(lI(e));return PX[n]||NL},Dwe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Nwe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},$we=function(e,n){PX["symbol".concat(lI(e))]=n},ML=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,o=e.sizeType,a=o===void 0?"area":o,l=kwe(e,Pwe),c=b5(b5({},l),{},{type:r,size:s,sizeType:a}),u=function(){var v=Mwe(r),b=uwe().type(v).size(Dwe(s,a,r));return b()},h=c.className,d=c.cx,p=c.cy,y=Oe(c,!0);return d===+d&&p===+p&&s===+s?U.createElement("path",WN({},y,{className:Ue("recharts-symbols",h),transform:"translate(".concat(d,", ").concat(p,")"),d:u()})):null};ML.registerSymbol=$we;function Bm(t){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bm(t)}function GN(){return GN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GN.apply(this,arguments)}function w5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lwe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w5(Object(n),!0).forEach(function(r){J0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IX(r.key),r)}}function Fwe(t,e,n){return e&&_5(t.prototype,e),n&&_5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vwe(t,e,n){return e=dS(e),Bwe(t,CX()?Reflect.construct(e,n||[],dS(t).constructor):e.apply(t,n))}function Bwe(t,e){if(e&&(Bm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uwe(t)}function Uwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CX=function(){return!!t})()}function dS(t){return dS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dS(t)}function zwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qN(t,e)}function qN(t,e){return qN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qN(t,e)}function J0(t,e,n){return e=IX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IX(t){var e=Hwe(t,"string");return Bm(e)=="symbol"?e:e+""}function Hwe(t,e){if(Bm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var as=32,DL=function(t){function e(){return jwe(this,e),Vwe(this,e,arguments)}return zwe(e,t),Fwe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=as/2,o=as/6,a=as/3,l=r.inactive?i:r.color;if(r.type==="plainline")return U.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:as,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return U.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(s,`
            H`).concat(as,"M").concat(2*a,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return U.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(as/8,"h").concat(as,"v").concat(as*3/4,"h").concat(-as,"z"),className:"recharts-legend-icon"});if(U.isValidElement(r.legendIcon)){var c=Lwe({},r);return delete c.legendIcon,U.cloneElement(r.legendIcon,c)}return U.createElement(ML,{fill:l,cx:s,cy:s,size:as,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,o=i.iconSize,a=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:as,height:as},h={display:a==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,y){var g=p.formatter||l,v=Ue(J0(J0({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=De(p.value)?null:p.value;mo(!De(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?c:p.color;return U.createElement("li",GN({className:v,style:h,key:"legend-item-".concat(y)},of(r.props,p,y)),U.createElement(LN,{width:o,height:o,viewBox:u,style:d},r.renderIcon(p)),U.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(b,p,y):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,o=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return U.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(I.PureComponent);J0(DL,"displayName","Legend");J0(DL,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Wwe=XC;function Gwe(){this.__data__=new Wwe,this.size=0}var qwe=Gwe;function Kwe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Xwe=Kwe;function Ywe(t){return this.__data__.get(t)}var Qwe=Ywe;function Jwe(t){return this.__data__.has(t)}var Zwe=Jwe,e_e=XC,t_e=xL,n_e=AL,r_e=200;function i_e(t,e){var n=this.__data__;if(n instanceof e_e){var r=n.__data__;if(!t_e||r.length<r_e-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new n_e(r)}return n.set(t,e),this.size=n.size,this}var s_e=i_e,o_e=XC,a_e=qwe,l_e=Xwe,c_e=Qwe,u_e=Zwe,h_e=s_e;function Ry(t){var e=this.__data__=new o_e(t);this.size=e.size}Ry.prototype.clear=a_e;Ry.prototype.delete=l_e;Ry.prototype.get=c_e;Ry.prototype.has=u_e;Ry.prototype.set=h_e;var OX=Ry,d_e="__lodash_hash_undefined__";function f_e(t){return this.__data__.set(t,d_e),this}var p_e=f_e;function g_e(t){return this.__data__.has(t)}var m_e=g_e,y_e=AL,v_e=p_e,b_e=m_e;function fS(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new y_e;++e<n;)this.add(t[e])}fS.prototype.add=fS.prototype.push=v_e;fS.prototype.has=b_e;var kX=fS;function w_e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var RX=w_e;function __e(t,e){return t.has(e)}var NX=__e,x_e=kX,A_e=RX,E_e=NX,S_e=1,T_e=2;function P_e(t,e,n,r,i,s){var o=n&S_e,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),u=s.get(e);if(c&&u)return c==e&&u==t;var h=-1,d=!0,p=n&T_e?new x_e:void 0;for(s.set(t,e),s.set(e,t);++h<a;){var y=t[h],g=e[h];if(r)var v=o?r(g,y,h,e,t,s):r(y,g,h,t,e,s);if(v!==void 0){if(v)continue;d=!1;break}if(p){if(!A_e(e,function(b,w){if(!E_e(p,w)&&(y===b||i(y,b,n,r,s)))return p.push(w)})){d=!1;break}}else if(!(y===g||i(y,g,n,r,s))){d=!1;break}}return s.delete(t),s.delete(e),d}var MX=P_e,C_e=ga,I_e=C_e.Uint8Array,O_e=I_e;function k_e(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var R_e=k_e;function N_e(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var $L=N_e,x5=_1,A5=O_e,M_e=_L,D_e=MX,$_e=R_e,L_e=$L,j_e=1,F_e=2,V_e="[object Boolean]",B_e="[object Date]",U_e="[object Error]",z_e="[object Map]",H_e="[object Number]",W_e="[object RegExp]",G_e="[object Set]",q_e="[object String]",K_e="[object Symbol]",X_e="[object ArrayBuffer]",Y_e="[object DataView]",E5=x5?x5.prototype:void 0,lk=E5?E5.valueOf:void 0;function Q_e(t,e,n,r,i,s,o){switch(n){case Y_e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case X_e:return!(t.byteLength!=e.byteLength||!s(new A5(t),new A5(e)));case V_e:case B_e:case H_e:return M_e(+t,+e);case U_e:return t.name==e.name&&t.message==e.message;case W_e:case q_e:return t==e+"";case z_e:var a=$_e;case G_e:var l=r&j_e;if(a||(a=L_e),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=F_e,o.set(t,e);var u=D_e(a(t),a(e),r,i,s,o);return o.delete(t),u;case K_e:if(lk)return lk.call(t)==lk.call(e)}return!1}var J_e=Q_e;function Z_e(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var DX=Z_e,e1e=DX,t1e=bi;function n1e(t,e,n){var r=e(t);return t1e(t)?r:e1e(r,n(t))}var r1e=n1e;function i1e(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var s1e=i1e;function o1e(){return[]}var a1e=o1e,l1e=s1e,c1e=a1e,u1e=Object.prototype,h1e=u1e.propertyIsEnumerable,S5=Object.getOwnPropertySymbols,d1e=S5?function(t){return t==null?[]:(t=Object(t),l1e(S5(t),function(e){return h1e.call(t,e)}))}:c1e,f1e=d1e;function p1e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var g1e=p1e,m1e=jl,y1e=Fl,v1e="[object Arguments]";function b1e(t){return y1e(t)&&m1e(t)==v1e}var w1e=b1e,T5=w1e,_1e=Fl,$X=Object.prototype,x1e=$X.hasOwnProperty,A1e=$X.propertyIsEnumerable,E1e=T5(function(){return arguments}())?T5:function(t){return _1e(t)&&x1e.call(t,"callee")&&!A1e.call(t,"callee")},LL=E1e,pS={exports:{}};function S1e(){return!1}var T1e=S1e;pS.exports;(function(t,e){var n=ga,r=T1e,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(pS,pS.exports);var LX=pS.exports,P1e=9007199254740991,C1e=/^(?:0|[1-9]\d*)$/;function I1e(t,e){var n=typeof t;return e=e??P1e,!!e&&(n=="number"||n!="symbol"&&C1e.test(t))&&t>-1&&t%1==0&&t<e}var jL=I1e,O1e=9007199254740991;function k1e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=O1e}var FL=k1e,R1e=jl,N1e=FL,M1e=Fl,D1e="[object Arguments]",$1e="[object Array]",L1e="[object Boolean]",j1e="[object Date]",F1e="[object Error]",V1e="[object Function]",B1e="[object Map]",U1e="[object Number]",z1e="[object Object]",H1e="[object RegExp]",W1e="[object Set]",G1e="[object String]",q1e="[object WeakMap]",K1e="[object ArrayBuffer]",X1e="[object DataView]",Y1e="[object Float32Array]",Q1e="[object Float64Array]",J1e="[object Int8Array]",Z1e="[object Int16Array]",exe="[object Int32Array]",txe="[object Uint8Array]",nxe="[object Uint8ClampedArray]",rxe="[object Uint16Array]",ixe="[object Uint32Array]",Nt={};Nt[Y1e]=Nt[Q1e]=Nt[J1e]=Nt[Z1e]=Nt[exe]=Nt[txe]=Nt[nxe]=Nt[rxe]=Nt[ixe]=!0;Nt[D1e]=Nt[$1e]=Nt[K1e]=Nt[L1e]=Nt[X1e]=Nt[j1e]=Nt[F1e]=Nt[V1e]=Nt[B1e]=Nt[U1e]=Nt[z1e]=Nt[H1e]=Nt[W1e]=Nt[G1e]=Nt[q1e]=!1;function sxe(t){return M1e(t)&&N1e(t.length)&&!!Nt[R1e(t)]}var oxe=sxe;function axe(t){return function(e){return t(e)}}var jX=axe,gS={exports:{}};gS.exports;(function(t,e){var n=GK,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(gS,gS.exports);var lxe=gS.exports,cxe=oxe,uxe=jX,P5=lxe,C5=P5&&P5.isTypedArray,hxe=C5?uxe(C5):cxe,FX=hxe,dxe=g1e,fxe=LL,pxe=bi,gxe=LX,mxe=jL,yxe=FX,vxe=Object.prototype,bxe=vxe.hasOwnProperty;function wxe(t,e){var n=pxe(t),r=!n&&fxe(t),i=!n&&!r&&gxe(t),s=!n&&!r&&!i&&yxe(t),o=n||r||i||s,a=o?dxe(t.length,String):[],l=a.length;for(var c in t)(e||bxe.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||mxe(c,l)))&&a.push(c);return a}var _xe=wxe,xxe=Object.prototype;function Axe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||xxe;return t===n}var Exe=Axe;function Sxe(t,e){return function(n){return t(e(n))}}var VX=Sxe,Txe=VX,Pxe=Txe(Object.keys,Object),Cxe=Pxe,Ixe=Exe,Oxe=Cxe,kxe=Object.prototype,Rxe=kxe.hasOwnProperty;function Nxe(t){if(!Ixe(t))return Oxe(t);var e=[];for(var n in Object(t))Rxe.call(t,n)&&n!="constructor"&&e.push(n);return e}var Mxe=Nxe,Dxe=wL,$xe=FL;function Lxe(t){return t!=null&&$xe(t.length)&&!Dxe(t)}var A1=Lxe,jxe=_xe,Fxe=Mxe,Vxe=A1;function Bxe(t){return Vxe(t)?jxe(t):Fxe(t)}var dI=Bxe,Uxe=r1e,zxe=f1e,Hxe=dI;function Wxe(t){return Uxe(t,Hxe,zxe)}var Gxe=Wxe,I5=Gxe,qxe=1,Kxe=Object.prototype,Xxe=Kxe.hasOwnProperty;function Yxe(t,e,n,r,i,s){var o=n&qxe,a=I5(t),l=a.length,c=I5(e),u=c.length;if(l!=u&&!o)return!1;for(var h=l;h--;){var d=a[h];if(!(o?d in e:Xxe.call(e,d)))return!1}var p=s.get(t),y=s.get(e);if(p&&y)return p==e&&y==t;var g=!0;s.set(t,e),s.set(e,t);for(var v=o;++h<l;){d=a[h];var b=t[d],w=e[d];if(r)var _=o?r(w,b,d,e,t,s):r(b,w,d,t,e,s);if(!(_===void 0?b===w||i(b,w,n,r,s):_)){g=!1;break}v||(v=d=="constructor")}if(g&&!v){var S=t.constructor,x=e.constructor;S!=x&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof x=="function"&&x instanceof x)&&(g=!1)}return s.delete(t),s.delete(e),g}var Qxe=Yxe,Jxe=Ef,Zxe=ga,eAe=Jxe(Zxe,"DataView"),tAe=eAe,nAe=Ef,rAe=ga,iAe=nAe(rAe,"Promise"),sAe=iAe,oAe=Ef,aAe=ga,lAe=oAe(aAe,"Set"),BX=lAe,cAe=Ef,uAe=ga,hAe=cAe(uAe,"WeakMap"),dAe=hAe,KN=tAe,XN=xL,YN=sAe,QN=BX,JN=dAe,UX=jl,Ny=KK,O5="[object Map]",fAe="[object Object]",k5="[object Promise]",R5="[object Set]",N5="[object WeakMap]",M5="[object DataView]",pAe=Ny(KN),gAe=Ny(XN),mAe=Ny(YN),yAe=Ny(QN),vAe=Ny(JN),Zu=UX;(KN&&Zu(new KN(new ArrayBuffer(1)))!=M5||XN&&Zu(new XN)!=O5||YN&&Zu(YN.resolve())!=k5||QN&&Zu(new QN)!=R5||JN&&Zu(new JN)!=N5)&&(Zu=function(t){var e=UX(t),n=e==fAe?t.constructor:void 0,r=n?Ny(n):"";if(r)switch(r){case pAe:return M5;case gAe:return O5;case mAe:return k5;case yAe:return R5;case vAe:return N5}return e});var bAe=Zu,ck=OX,wAe=MX,_Ae=J_e,xAe=Qxe,D5=bAe,$5=bi,L5=LX,AAe=FX,EAe=1,j5="[object Arguments]",F5="[object Array]",$x="[object Object]",SAe=Object.prototype,V5=SAe.hasOwnProperty;function TAe(t,e,n,r,i,s){var o=$5(t),a=$5(e),l=o?F5:D5(t),c=a?F5:D5(e);l=l==j5?$x:l,c=c==j5?$x:c;var u=l==$x,h=c==$x,d=l==c;if(d&&L5(t)){if(!L5(e))return!1;o=!0,u=!1}if(d&&!u)return s||(s=new ck),o||AAe(t)?wAe(t,e,n,r,i,s):_Ae(t,e,l,n,r,i,s);if(!(n&EAe)){var p=u&&V5.call(t,"__wrapped__"),y=h&&V5.call(e,"__wrapped__");if(p||y){var g=p?t.value():t,v=y?e.value():e;return s||(s=new ck),i(g,v,n,r,s)}}return d?(s||(s=new ck),xAe(t,e,n,r,i,s)):!1}var PAe=TAe,CAe=PAe,B5=Fl;function zX(t,e,n,r,i){return t===e?!0:t==null||e==null||!B5(t)&&!B5(e)?t!==t&&e!==e:CAe(t,e,n,r,zX,i)}var VL=zX,IAe=OX,OAe=VL,kAe=1,RAe=2;function NAe(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],c=t[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var h=new IAe;if(r)var d=r(c,u,l,t,e,h);if(!(d===void 0?OAe(u,c,kAe|RAe,r,h):d))return!1}}return!0}var MAe=NAe,DAe=Ru;function $Ae(t){return t===t&&!DAe(t)}var HX=$Ae,LAe=HX,jAe=dI;function FAe(t){for(var e=jAe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,LAe(i)]}return e}var VAe=FAe;function BAe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var WX=BAe,UAe=MAe,zAe=VAe,HAe=WX;function WAe(t){var e=zAe(t);return e.length==1&&e[0][2]?HAe(e[0][0],e[0][1]):function(n){return n===t||UAe(n,t,e)}}var GAe=WAe;function qAe(t,e){return t!=null&&e in Object(t)}var KAe=qAe,XAe=ZK,YAe=LL,QAe=bi,JAe=jL,ZAe=FL,eEe=QC;function tEe(t,e,n){e=XAe(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=eEe(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&ZAe(i)&&JAe(o,i)&&(QAe(t)||YAe(t)))}var nEe=tEe,rEe=KAe,iEe=nEe;function sEe(t,e){return t!=null&&iEe(t,e,rEe)}var oEe=sEe,aEe=VL,lEe=eX,cEe=oEe,uEe=bL,hEe=HX,dEe=WX,fEe=QC,pEe=1,gEe=2;function mEe(t,e){return uEe(t)&&hEe(e)?dEe(fEe(t),e):function(n){var r=lEe(n,t);return r===void 0&&r===e?cEe(n,t):aEe(e,r,pEe|gEe)}}var yEe=mEe;function vEe(t){return t}var My=vEe;function bEe(t){return function(e){return e==null?void 0:e[t]}}var wEe=bEe,_Ee=TL;function xEe(t){return function(e){return _Ee(e,t)}}var AEe=xEe,EEe=wEe,SEe=AEe,TEe=bL,PEe=QC;function CEe(t){return TEe(t)?EEe(PEe(t)):SEe(t)}var IEe=CEe,OEe=GAe,kEe=yEe,REe=My,NEe=bi,MEe=IEe;function DEe(t){return typeof t=="function"?t:t==null?REe:typeof t=="object"?NEe(t)?kEe(t[0],t[1]):OEe(t):MEe(t)}var ma=DEe;function $Ee(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var GX=$Ee;function LEe(t){return t!==t}var jEe=LEe;function FEe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var VEe=FEe,BEe=GX,UEe=jEe,zEe=VEe;function HEe(t,e,n){return e===e?zEe(t,e,n):BEe(t,UEe,n)}var WEe=HEe,GEe=WEe;function qEe(t,e){var n=t==null?0:t.length;return!!n&&GEe(t,e,0)>-1}var KEe=qEe;function XEe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var YEe=XEe;function QEe(){}var JEe=QEe,uk=BX,ZEe=JEe,eSe=$L,tSe=1/0,nSe=uk&&1/eSe(new uk([,-0]))[1]==tSe?function(t){return new uk(t)}:ZEe,rSe=nSe,iSe=kX,sSe=KEe,oSe=YEe,aSe=NX,lSe=rSe,cSe=$L,uSe=200;function hSe(t,e,n){var r=-1,i=sSe,s=t.length,o=!0,a=[],l=a;if(n)o=!1,i=oSe;else if(s>=uSe){var c=e?null:lSe(t);if(c)return cSe(c);o=!1,i=aSe,l=new iSe}else l=e?[]:a;e:for(;++r<s;){var u=t[r],h=e?e(u):u;if(u=n||u!==0?u:0,o&&h===h){for(var d=l.length;d--;)if(l[d]===h)continue e;e&&l.push(h),a.push(u)}else i(l,h,n)||(l!==a&&l.push(h),a.push(u))}return a}var dSe=hSe,fSe=ma,pSe=dSe;function gSe(t,e){return t&&t.length?pSe(t,fSe(e)):[]}var mSe=gSe;const U5=dt(mSe);function qX(t,e,n){return e===!0?U5(t,n):De(e)?U5(t,e):t}function Um(t){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Um(t)}var ySe=["ref"];function z5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z5(Object(n),!0).forEach(function(r){fI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XX(r.key),r)}}function bSe(t,e,n){return e&&H5(t.prototype,e),n&&H5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wSe(t,e,n){return e=mS(e),_Se(t,KX()?Reflect.construct(e,n||[],mS(t).constructor):e.apply(t,n))}function _Se(t,e){if(e&&(Um(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xSe(t)}function xSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KX=function(){return!!t})()}function mS(t){return mS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mS(t)}function ASe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZN(t,e)}function ZN(t,e){return ZN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZN(t,e)}function fI(t,e,n){return e=XX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XX(t){var e=ESe(t,"string");return Um(e)=="symbol"?e:e+""}function ESe(t,e){if(Um(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SSe(t,e){if(t==null)return{};var n=TSe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function PSe(t){return t.value}function CSe(t,e){if(U.isValidElement(t))return U.cloneElement(t,e);if(typeof t=="function")return U.createElement(t,e);e.ref;var n=SSe(e,ySe);return U.createElement(DL,n)}var W5=1,Cr=function(t){function e(){var n;vSe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=wSe(this,e,[].concat(i)),fI(n,"lastBoundingBox",{width:-1,height:-1}),n}return ASe(e,t),bSe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>W5||Math.abs(i.height-this.lastBoundingBox.height)>W5)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?wa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,o=i.align,a=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,h,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();h={left:((c||0)-p.width)/2}}else h=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var y=this.getBBoxSnapshot();d={top:((u||0)-y.height)/2}}else d=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return wa(wa({},h),d)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,o=i.width,a=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,h=wa(wa({position:"absolute",width:o||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return U.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(p){r.wrapperNode=p}},CSe(s,wa(wa({},this.props),{},{payload:qX(u,c,PSe)})))}}],[{key:"getWithHeight",value:function(r,i){var s=wa(wa({},this.defaultProps),r.props),o=s.layout;return o==="vertical"&&ge(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(I.PureComponent);fI(Cr,"displayName","Legend");fI(Cr,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var G5=_1,ISe=LL,OSe=bi,q5=G5?G5.isConcatSpreadable:void 0;function kSe(t){return OSe(t)||ISe(t)||!!(q5&&t&&t[q5])}var RSe=kSe,NSe=DX,MSe=RSe;function YX(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=MSe),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?YX(a,e-1,n,r,i):NSe(i,a):r||(i[i.length]=a)}return i}var QX=YX;function DSe(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var $Se=DSe,LSe=$Se,jSe=LSe(),FSe=jSe,VSe=FSe,BSe=dI;function USe(t,e){return t&&VSe(t,e,BSe)}var JX=USe,zSe=A1;function HSe(t,e){return function(n,r){if(n==null)return n;if(!zSe(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var WSe=HSe,GSe=JX,qSe=WSe,KSe=qSe(GSe),BL=KSe,XSe=BL,YSe=A1;function QSe(t,e){var n=-1,r=YSe(t)?Array(t.length):[];return XSe(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var ZX=QSe;function JSe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var ZSe=JSe,K5=Ty;function eTe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=K5(t),o=e!==void 0,a=e===null,l=e===e,c=K5(e);if(!a&&!c&&!s&&t>e||s&&o&&l&&!a&&!c||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!c&&t<e||c&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}var tTe=eTe,nTe=tTe;function rTe(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var l=nTe(i[r],s[r]);if(l){if(r>=a)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var iTe=rTe,hk=SL,sTe=TL,oTe=ma,aTe=ZX,lTe=ZSe,cTe=jX,uTe=iTe,hTe=My,dTe=bi;function fTe(t,e,n){e.length?e=hk(e,function(s){return dTe(s)?function(o){return sTe(o,s.length===1?s[0]:s)}:s}):e=[hTe];var r=-1;e=hk(e,cTe(oTe));var i=aTe(t,function(s,o,a){var l=hk(e,function(c){return c(s)});return{criteria:l,index:++r,value:s}});return lTe(i,function(s,o){return uTe(s,o,n)})}var pTe=fTe;function gTe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var mTe=gTe,yTe=mTe,X5=Math.max;function vTe(t,e,n){return e=X5(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=X5(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),yTe(t,this,a)}}var bTe=vTe;function wTe(t){return function(){return t}}var _Te=wTe,xTe=Ef,ATe=function(){try{var t=xTe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),eY=ATe,ETe=_Te,Y5=eY,STe=My,TTe=Y5?function(t,e){return Y5(t,"toString",{configurable:!0,enumerable:!1,value:ETe(e),writable:!0})}:STe,PTe=TTe,CTe=800,ITe=16,OTe=Date.now;function kTe(t){var e=0,n=0;return function(){var r=OTe(),i=ITe-(r-n);if(n=r,i>0){if(++e>=CTe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var RTe=kTe,NTe=PTe,MTe=RTe,DTe=MTe(NTe),$Te=DTe,LTe=My,jTe=bTe,FTe=$Te;function VTe(t,e){return FTe(jTe(t,e,LTe),t+"")}var BTe=VTe,UTe=_L,zTe=A1,HTe=jL,WTe=Ru;function GTe(t,e,n){if(!WTe(n))return!1;var r=typeof e;return(r=="number"?zTe(n)&&HTe(e,n.length):r=="string"&&e in n)?UTe(n[e],t):!1}var pI=GTe,qTe=QX,KTe=pTe,XTe=BTe,Q5=pI,YTe=XTe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&Q5(t,e[0],e[1])?e=[]:n>2&&Q5(e[0],e[1],e[2])&&(e=[e[0]]),KTe(t,qTe(e,1),[])}),QTe=YTe;const UL=dt(QTe);function Z0(t){"@babel/helpers - typeof";return Z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z0(t)}function eM(){return eM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eM.apply(this,arguments)}function JTe(t,e){return nPe(t)||tPe(t,e)||ePe(t,e)||ZTe()}function ZTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ePe(t,e){if(t){if(typeof t=="string")return J5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J5(t,e)}}function J5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tPe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function nPe(t){if(Array.isArray(t))return t}function Z5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z5(Object(n),!0).forEach(function(r){rPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rPe(t,e,n){return e=iPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iPe(t){var e=sPe(t,"string");return Z0(e)=="symbol"?e:e+""}function sPe(t,e){if(Z0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Z0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oPe(t){return Array.isArray(t)&&Rn(t[0])&&Rn(t[1])?t.join(" ~ "):t}var aPe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,a=o===void 0?{}:o,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,h=e.formatter,d=e.itemSorter,p=e.wrapperClassName,y=e.labelClassName,g=e.label,v=e.labelFormatter,b=e.accessibilityLayer,w=b===void 0?!1:b,_=function(){if(u&&u.length){var $={padding:0,margin:0},L=(d?UL(u,d):u).map(function(W,q){if(W.type==="none")return null;var H=dk({display:"block",paddingTop:4,paddingBottom:4,color:W.color||"#000"},a),G=W.formatter||h||oPe,z=W.value,X=W.name,ee=z,ae=X;if(G&&ee!=null&&ae!=null){var Z=G(z,X,W,q,u);if(Array.isArray(Z)){var ne=JTe(Z,2);ee=ne[0],ae=ne[1]}else ee=Z}return U.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:H},Rn(ae)?U.createElement("span",{className:"recharts-tooltip-item-name"},ae):null,Rn(ae)?U.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,U.createElement("span",{className:"recharts-tooltip-item-value"},ee),U.createElement("span",{className:"recharts-tooltip-item-unit"},W.unit||""))});return U.createElement("ul",{className:"recharts-tooltip-item-list",style:$},L)}return null},S=dk({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),x=dk({margin:0},c),T=!Be(g),A=T?g:"",E=Ue("recharts-default-tooltip",p),O=Ue("recharts-tooltip-label",y);T&&v&&u!==void 0&&u!==null&&(A=v(g,u));var M=w?{role:"status","aria-live":"assertive"}:{};return U.createElement("div",eM({className:E,style:S},M),U.createElement("p",{className:O,style:x},U.isValidElement(A)?A:"".concat(A)),_())};function eb(t){"@babel/helpers - typeof";return eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eb(t)}function Lx(t,e,n){return e=lPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lPe(t){var e=cPe(t,"string");return eb(e)=="symbol"?e:e+""}function cPe(t,e){if(eb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(eb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dv="recharts-tooltip-wrapper",uPe={visibility:"hidden"};function hPe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ue(dv,Lx(Lx(Lx(Lx({},"".concat(dv,"-right"),ge(n)&&e&&ge(e.x)&&n>=e.x),"".concat(dv,"-left"),ge(n)&&e&&ge(e.x)&&n<e.x),"".concat(dv,"-bottom"),ge(r)&&e&&ge(e.y)&&r>=e.y),"".concat(dv,"-top"),ge(r)&&e&&ge(e.y)&&r<e.y))}function eV(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(s&&ge(s[r]))return s[r];var u=n[r]-a-i,h=n[r]+i;if(e[r])return o[r]?u:h;if(o[r]){var d=u,p=l[r];return d<p?Math.max(h,l[r]):Math.max(u,l[r])}var y=h+a,g=l[r]+c;return y>g?Math.max(u,l[r]):Math.max(h,l[r])}function dPe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function fPe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,c,u,h;return o.height>0&&o.width>0&&n?(u=eV({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),h=eV({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=dPe({translateX:u,translateY:h,useTranslate3d:a})):c=uPe,{cssProperties:c,cssClasses:hPe({translateX:u,translateY:h,coordinate:n})}}function zm(t){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zm(t)}function tV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tV(Object(n),!0).forEach(function(r){nM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nY(r.key),r)}}function gPe(t,e,n){return e&&rV(t.prototype,e),n&&rV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mPe(t,e,n){return e=yS(e),yPe(t,tY()?Reflect.construct(e,n||[],yS(t).constructor):e.apply(t,n))}function yPe(t,e){if(e&&(zm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vPe(t)}function vPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tY=function(){return!!t})()}function yS(t){return yS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yS(t)}function bPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tM(t,e)}function tM(t,e){return tM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tM(t,e)}function nM(t,e,n){return e=nY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nY(t){var e=wPe(t,"string");return zm(e)=="symbol"?e:e+""}function wPe(t,e){if(zm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iV=1,_Pe=function(t){function e(){var n;pPe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=mPe(this,e,[].concat(i)),nM(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),nM(n,"handleKeyDown",function(o){if(o.key==="Escape"){var a,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return bPe(e,t),gPe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>iV||Math.abs(r.height-this.state.lastBoundingBox.height)>iV)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,h=i.hasPayload,d=i.isAnimationActive,p=i.offset,y=i.position,g=i.reverseDirection,v=i.useTranslate3d,b=i.viewBox,w=i.wrapperStyle,_=fPe({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:p,position:y,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),S=_.cssClasses,x=_.cssProperties,T=nV(nV({transition:d&&s?"transform ".concat(a,"ms ").concat(l):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&h?"visible":"hidden",position:"absolute",top:0,left:0},w);return U.createElement("div",{tabIndex:-1,className:S,style:T,ref:function(E){r.wrapperNode=E}},c)}}])}(I.PureComponent),xPe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},sa={isSsr:xPe(),get:function(e){return sa[e]},set:function(e,n){if(typeof e=="string")sa[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){sa[i]=e[i]})}}};function Hm(t){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(t)}function sV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sV(Object(n),!0).forEach(function(r){zL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function APe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iY(r.key),r)}}function EPe(t,e,n){return e&&aV(t.prototype,e),n&&aV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function SPe(t,e,n){return e=vS(e),TPe(t,rY()?Reflect.construct(e,n||[],vS(t).constructor):e.apply(t,n))}function TPe(t,e){if(e&&(Hm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PPe(t)}function PPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rY=function(){return!!t})()}function vS(t){return vS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vS(t)}function CPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rM(t,e)}function rM(t,e){return rM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rM(t,e)}function zL(t,e,n){return e=iY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iY(t){var e=IPe(t,"string");return Hm(e)=="symbol"?e:e+""}function IPe(t,e){if(Hm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OPe(t){return t.dataKey}function kPe(t,e){return U.isValidElement(t)?U.cloneElement(t,e):typeof t=="function"?U.createElement(t,e):U.createElement(aPe,e)}var gn=function(t){function e(){return APe(this,e),SPe(this,e,arguments)}return CPe(e,t),EPe(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,h=i.filterNull,d=i.isAnimationActive,p=i.offset,y=i.payload,g=i.payloadUniqBy,v=i.position,b=i.reverseDirection,w=i.useTranslate3d,_=i.viewBox,S=i.wrapperStyle,x=y??[];h&&x.length&&(x=qX(y.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),g,OPe));var T=x.length>0;return U.createElement(_Pe,{allowEscapeViewBox:o,animationDuration:a,animationEasing:l,isAnimationActive:d,active:s,coordinate:u,hasPayload:T,offset:p,position:v,reverseDirection:b,useTranslate3d:w,viewBox:_,wrapperStyle:S},kPe(c,oV(oV({},this.props),{},{payload:x})))}}])}(I.PureComponent);zL(gn,"displayName","Tooltip");zL(gn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!sa.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var RPe=ga,NPe=function(){return RPe.Date.now()},MPe=NPe,DPe=/\s/;function $Pe(t){for(var e=t.length;e--&&DPe.test(t.charAt(e)););return e}var LPe=$Pe,jPe=LPe,FPe=/^\s+/;function VPe(t){return t&&t.slice(0,jPe(t)+1).replace(FPe,"")}var BPe=VPe,UPe=BPe,lV=Ru,zPe=Ty,cV=0/0,HPe=/^[-+]0x[0-9a-f]+$/i,WPe=/^0b[01]+$/i,GPe=/^0o[0-7]+$/i,qPe=parseInt;function KPe(t){if(typeof t=="number")return t;if(zPe(t))return cV;if(lV(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=lV(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=UPe(t);var n=WPe.test(t);return n||GPe.test(t)?qPe(t.slice(2),n?2:8):HPe.test(t)?cV:+t}var sY=KPe,XPe=Ru,fk=MPe,uV=sY,YPe="Expected a function",QPe=Math.max,JPe=Math.min;function ZPe(t,e,n){var r,i,s,o,a,l,c=0,u=!1,h=!1,d=!0;if(typeof t!="function")throw new TypeError(YPe);e=uV(e)||0,XPe(n)&&(u=!!n.leading,h="maxWait"in n,s=h?QPe(uV(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d);function p(T){var A=r,E=i;return r=i=void 0,c=T,o=t.apply(E,A),o}function y(T){return c=T,a=setTimeout(b,e),u?p(T):o}function g(T){var A=T-l,E=T-c,O=e-A;return h?JPe(O,s-E):O}function v(T){var A=T-l,E=T-c;return l===void 0||A>=e||A<0||h&&E>=s}function b(){var T=fk();if(v(T))return w(T);a=setTimeout(b,g(T))}function w(T){return a=void 0,d&&r?p(T):(r=i=void 0,o)}function _(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function S(){return a===void 0?o:w(fk())}function x(){var T=fk(),A=v(T);if(r=arguments,i=this,l=T,A){if(a===void 0)return y(l);if(h)return clearTimeout(a),a=setTimeout(b,e),p(l)}return a===void 0&&(a=setTimeout(b,e)),o}return x.cancel=_,x.flush=S,x}var eCe=ZPe,tCe=eCe,nCe=Ru,rCe="Expected a function";function iCe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(rCe);return nCe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),tCe(t,e,{leading:r,maxWait:e,trailing:i})}var sCe=iCe;const oY=dt(sCe);function tb(t){"@babel/helpers - typeof";return tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tb(t)}function hV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hV(Object(n),!0).forEach(function(r){oCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oCe(t,e,n){return e=aCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aCe(t){var e=lCe(t,"string");return tb(e)=="symbol"?e:e+""}function lCe(t,e){if(tb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cCe(t,e){return fCe(t)||dCe(t,e)||hCe(t,e)||uCe()}function uCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hCe(t,e){if(t){if(typeof t=="string")return dV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dV(t,e)}}function dV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function fCe(t){if(Array.isArray(t))return t}var Ls=I.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,o=s===void 0?"100%":s,a=t.height,l=a===void 0?"100%":a,c=t.minWidth,u=c===void 0?0:c,h=t.minHeight,d=t.maxHeight,p=t.children,y=t.debounce,g=y===void 0?0:y,v=t.id,b=t.className,w=t.onResize,_=t.style,S=_===void 0?{}:_,x=I.useRef(null),T=I.useRef();T.current=w,I.useImperativeHandle(e,function(){return Object.defineProperty(x.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),x.current},configurable:!0})});var A=I.useState({containerWidth:i.width,containerHeight:i.height}),E=cCe(A,2),O=E[0],M=E[1],D=I.useCallback(function(L,W){M(function(q){var H=Math.round(L),G=Math.round(W);return q.containerWidth===H&&q.containerHeight===G?q:{containerWidth:H,containerHeight:G}})},[]);I.useEffect(function(){var L=function(X){var ee,ae=X[0].contentRect,Z=ae.width,ne=ae.height;D(Z,ne),(ee=T.current)===null||ee===void 0||ee.call(T,Z,ne)};g>0&&(L=oY(L,g,{trailing:!0,leading:!1}));var W=new ResizeObserver(L),q=x.current.getBoundingClientRect(),H=q.width,G=q.height;return D(H,G),W.observe(x.current),function(){W.disconnect()}},[D,g]);var $=I.useMemo(function(){var L=O.containerWidth,W=O.containerHeight;if(L<0||W<0)return null;mo(dh(o)||dh(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),mo(!n||n>0,"The aspect(%s) must be greater than zero.",n);var q=dh(o)?L:o,H=dh(l)?W:l;n&&n>0&&(q?H=q/n:H&&(q=H*n),d&&H>d&&(H=d)),mo(q>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,H,o,l,u,h,n);var G=!Array.isArray(p)&&yl(p.type).endsWith("Chart");return U.Children.map(p,function(z){return U.isValidElement(z)?I.cloneElement(z,jx({width:q,height:H},G?{style:jx({height:"100%",width:"100%",maxHeight:H,maxWidth:q},z.props.style)}:{})):z})},[n,p,l,d,h,u,O,o]);return U.createElement("div",{id:v?"".concat(v):void 0,className:Ue("recharts-responsive-container",b),style:jx(jx({},S),{},{width:o,height:l,minWidth:u,minHeight:h,maxHeight:d}),ref:x},$)}),Bs=function(e){return null};Bs.displayName="Cell";function nb(t){"@babel/helpers - typeof";return nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nb(t)}function fV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fV(Object(n),!0).forEach(function(r){pCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pCe(t,e,n){return e=gCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gCe(t){var e=mCe(t,"string");return nb(e)=="symbol"?e:e+""}function mCe(t,e){if(nb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uf={widthCache:{},cacheCount:0},yCe=2e3,vCe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},pV="recharts_measurement_span";function bCe(t){var e=iM({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var f0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||sa.isSsr)return{width:0,height:0};var r=bCe(n),i=JSON.stringify({text:e,copyStyle:r});if(Uf.widthCache[i])return Uf.widthCache[i];try{var s=document.getElementById(pV);s||(s=document.createElement("span"),s.setAttribute("id",pV),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=iM(iM({},vCe),r);Object.assign(s.style,o),s.textContent="".concat(e);var a=s.getBoundingClientRect(),l={width:a.width,height:a.height};return Uf.widthCache[i]=l,++Uf.cacheCount>yCe&&(Uf.cacheCount=0,Uf.widthCache={}),l}catch{return{width:0,height:0}}},wCe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function rb(t){"@babel/helpers - typeof";return rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rb(t)}function bS(t,e){return ECe(t)||ACe(t,e)||xCe(t,e)||_Ce()}function _Ce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xCe(t,e){if(t){if(typeof t=="string")return gV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gV(t,e)}}function gV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ACe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function ECe(t){if(Array.isArray(t))return t}function SCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PCe(r.key),r)}}function TCe(t,e,n){return e&&mV(t.prototype,e),n&&mV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function PCe(t){var e=CCe(t,"string");return rb(e)=="symbol"?e:e+""}function CCe(t,e){if(rb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yV=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vV=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ICe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,OCe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,aY={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},kCe=Object.keys(aY),vp="NaN";function RCe(t,e){return t*aY[e]}var Fx=function(){function t(e,n){SCe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!ICe.test(n)&&(this.num=NaN,this.unit=""),kCe.includes(n)&&(this.num=RCe(e,n),this.unit="px")}return TCe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=OCe.exec(n))!==null&&r!==void 0?r:[],s=bS(i,3),o=s[1],a=s[2];return new t(parseFloat(o),a??"")}}])}();function lY(t){if(t.includes(vp))return vp;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=yV.exec(e))!==null&&n!==void 0?n:[],i=bS(r,4),s=i[1],o=i[2],a=i[3],l=Fx.parse(s??""),c=Fx.parse(a??""),u=o==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return vp;e=e.replace(yV,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,d=(h=vV.exec(e))!==null&&h!==void 0?h:[],p=bS(d,4),y=p[1],g=p[2],v=p[3],b=Fx.parse(y??""),w=Fx.parse(v??""),_=g==="+"?b.add(w):b.subtract(w);if(_.isNaN())return vp;e=e.replace(vV,_.toString())}return e}var bV=/\(([^()]*)\)/;function NCe(t){for(var e=t;e.includes("(");){var n=bV.exec(e),r=bS(n,2),i=r[1];e=e.replace(bV,lY(i))}return e}function MCe(t){var e=t.replace(/\s+/g,"");return e=NCe(e),e=lY(e),e}function DCe(t){try{return MCe(t)}catch{return vp}}function pk(t){var e=DCe(t.slice(5,-1));return e===vp?"":e}var $Ce=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],LCe=["dx","dy","angle","className","breakAll"];function sM(){return sM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sM.apply(this,arguments)}function wV(t,e){if(t==null)return{};var n=jCe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _V(t,e){return UCe(t)||BCe(t,e)||VCe(t,e)||FCe()}function FCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VCe(t,e){if(t){if(typeof t=="string")return xV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xV(t,e)}}function xV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function UCe(t){if(Array.isArray(t))return t}var cY=/[ \f\n\r\t\v\u2028\u2029]+/,uY=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];Be(n)||(r?s=n.toString().split(""):s=n.toString().split(cY));var o=s.map(function(l){return{word:l,width:f0(l,i).width}}),a=r?0:f0("",i).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},zCe=function(e,n,r,i,s){var o=e.maxLines,a=e.children,l=e.style,c=e.breakAll,u=ge(o),h=a,d=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q.reduce(function(H,G){var z=G.word,X=G.width,ee=H[H.length-1];if(ee&&(i==null||s||ee.width+X+r<Number(i)))ee.words.push(z),ee.width+=X+r;else{var ae={words:[z],width:X};H.push(ae)}return H},[])},p=d(n),y=function(q){return q.reduce(function(H,G){return H.width>G.width?H:G})};if(!u)return p;for(var g="",v=function(q){var H=h.slice(0,q),G=uY({breakAll:c,style:l,children:H+g}).wordsWithComputedWidth,z=d(G),X=z.length>o||y(z).width>Number(i);return[X,z]},b=0,w=h.length-1,_=0,S;b<=w&&_<=h.length-1;){var x=Math.floor((b+w)/2),T=x-1,A=v(T),E=_V(A,2),O=E[0],M=E[1],D=v(x),$=_V(D,1),L=$[0];if(!O&&!L&&(b=x+1),O&&L&&(w=x-1),!O&&L){S=M;break}_++}return S||p},AV=function(e){var n=Be(e)?[]:e.toString().split(cY);return[{words:n}]},HCe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,a=e.maxLines;if((n||r)&&!sa.isSsr){var l,c,u=uY({breakAll:o,children:i,style:s});if(u){var h=u.wordsWithComputedWidth,d=u.spaceWidth;l=h,c=d}else return AV(i);return zCe({breakAll:o,children:i,maxLines:a,style:s},l,c,n,r)}return AV(i)},EV="#808080",af=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.lineHeight,a=o===void 0?"1em":o,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,h=u===void 0?!1:u,d=e.textAnchor,p=d===void 0?"start":d,y=e.verticalAnchor,g=y===void 0?"end":y,v=e.fill,b=v===void 0?EV:v,w=wV(e,$Ce),_=I.useMemo(function(){return HCe({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:h,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,h,w.style,w.width]),S=w.dx,x=w.dy,T=w.angle,A=w.className,E=w.breakAll,O=wV(w,LCe);if(!Rn(r)||!Rn(s))return null;var M=r+(ge(S)?S:0),D=s+(ge(x)?x:0),$;switch(g){case"start":$=pk("calc(".concat(c,")"));break;case"middle":$=pk("calc(".concat((_.length-1)/2," * -").concat(a," + (").concat(c," / 2))"));break;default:$=pk("calc(".concat(_.length-1," * -").concat(a,")"));break}var L=[];if(h){var W=_[0].width,q=w.width;L.push("scale(".concat((ge(q)?q/W:1)/W,")"))}return T&&L.push("rotate(".concat(T,", ").concat(M,", ").concat(D,")")),L.length&&(O.transform=L.join(" ")),U.createElement("text",sM({},Oe(O,!0),{x:M,y:D,className:Ue("recharts-text",A),textAnchor:p,fill:b.includes("url")?EV:b}),_.map(function(H,G){var z=H.words.join(E?"":" ");return U.createElement("tspan",{x:M,dy:G===0?$:a,key:"".concat(z,"-").concat(G)},z)}))};function mu(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function WCe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function HL(t){let e,n,r;t.length!==2?(e=mu,n=(a,l)=>mu(t(a),l),r=(a,l)=>t(a)-l):(e=t===mu||t===WCe?t:GCe,n=t,r=t);function i(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{const h=c+u>>>1;n(a[h],l)<0?c=h+1:u=h}while(c<u)}return c}function s(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{const h=c+u>>>1;n(a[h],l)<=0?c=h+1:u=h}while(c<u)}return c}function o(a,l,c=0,u=a.length){const h=i(a,l,c,u-1);return h>c&&r(a[h-1],l)>-r(a[h],l)?h-1:h}return{left:i,center:o,right:s}}function GCe(){return 0}function hY(t){return t===null?NaN:+t}function*qCe(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const KCe=HL(mu),XCe=KCe.right;HL(hY).center;const E1=XCe;class SV extends Map{constructor(e,n=JCe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(TV(this,e))}has(e){return super.has(TV(this,e))}set(e,n){return super.set(YCe(this,e),n)}delete(e){return super.delete(QCe(this,e))}}function TV({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function YCe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function QCe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function JCe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ZCe(t=mu){if(t===mu)return dY;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function dY(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const eIe=Math.sqrt(50),tIe=Math.sqrt(10),nIe=Math.sqrt(2);function wS(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=eIe?10:s>=tIe?5:s>=nIe?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/o,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=n&&n<2?wS(t,e,n*2):[a,l,c]}function oM(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?wS(e,t,n):wS(t,e,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let c=0;c<a;++c)l[c]=(s-c)/-o;else for(let c=0;c<a;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(i+c)/-o;else for(let c=0;c<a;++c)l[c]=(i+c)*o;return l}function aM(t,e,n){return e=+e,t=+t,n=+n,wS(t,e,n)[2]}function lM(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?aM(e,t,n):aM(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function PV(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function CV(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function fY(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?dY:ZCe(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),h=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*h*(l-h)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(e-c*h/l+d)),y=Math.min(r,Math.floor(e+(l-c)*h/l+d));fY(t,e,p,y,i)}const s=t[e];let o=n,a=r;for(fv(t,n,e),i(t[r],s)>0&&fv(t,n,r);o<a;){for(fv(t,o,a),++o,--a;i(t[o],s)<0;)++o;for(;i(t[a],s)>0;)--a}i(t[n],s)===0?fv(t,n,a):(++a,fv(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function fv(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function rIe(t,e,n){if(t=Float64Array.from(qCe(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return CV(t);if(e>=1)return PV(t);var r,i=(r-1)*e,s=Math.floor(i),o=PV(fY(t,s).subarray(0,s+1)),a=CV(t.subarray(s+1));return o+(a-o)*(i-s)}}function iIe(t,e,n=hY){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t),a=+n(t[s+1],s+1,t);return o+(a-o)*(i-s)}}function sIe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Os(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Vl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const cM=Symbol("implicit");function WL(){var t=new SV,e=[],n=[],r=cM;function i(s){let o=t.get(s);if(o===void 0){if(r!==cM)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new SV;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return WL(e,n).unknown(r)},Os.apply(i,arguments),i}function ib(){var t=WL().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,a=!1,l=0,c=0,u=.5;delete t.unknown;function h(){var d=e().length,p=i<r,y=p?i:r,g=p?r:i;s=(g-y)/Math.max(1,d-l+c*2),a&&(s=Math.floor(s)),y+=(g-y-s*(d-l))*u,o=s*(1-l),a&&(y=Math.round(y),o=Math.round(o));var v=sIe(d).map(function(b){return y+s*b});return n(p?v.reverse():v)}return t.domain=function(d){return arguments.length?(e(d),h()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,a=!0,h()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(d){return arguments.length?(a=!!d,h()):a},t.padding=function(d){return arguments.length?(l=Math.min(1,c=+d),h()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),h()):l},t.paddingOuter=function(d){return arguments.length?(c=+d,h()):c},t.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),h()):u},t.copy=function(){return ib(e(),[r,i]).round(a).paddingInner(l).paddingOuter(c).align(u)},Os.apply(h(),arguments)}function pY(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pY(e())},t}function p0(){return pY(ib.apply(null,arguments).paddingInner(1))}function GL(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function gY(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function S1(){}var sb=.7,_S=1/sb,Vp="\\s*([+-]?\\d+)\\s*",ob="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",oa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oIe=/^#([0-9a-f]{3,8})$/,aIe=new RegExp(`^rgb\\(${Vp},${Vp},${Vp}\\)$`),lIe=new RegExp(`^rgb\\(${oa},${oa},${oa}\\)$`),cIe=new RegExp(`^rgba\\(${Vp},${Vp},${Vp},${ob}\\)$`),uIe=new RegExp(`^rgba\\(${oa},${oa},${oa},${ob}\\)$`),hIe=new RegExp(`^hsl\\(${ob},${oa},${oa}\\)$`),dIe=new RegExp(`^hsla\\(${ob},${oa},${oa},${ob}\\)$`),IV={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};GL(S1,ab,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:OV,formatHex:OV,formatHex8:fIe,formatHsl:pIe,formatRgb:kV,toString:kV});function OV(){return this.rgb().formatHex()}function fIe(){return this.rgb().formatHex8()}function pIe(){return mY(this).formatHsl()}function kV(){return this.rgb().formatRgb()}function ab(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=oIe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?RV(e):n===3?new fi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Vx(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Vx(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=aIe.exec(t))?new fi(e[1],e[2],e[3],1):(e=lIe.exec(t))?new fi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=cIe.exec(t))?Vx(e[1],e[2],e[3],e[4]):(e=uIe.exec(t))?Vx(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=hIe.exec(t))?DV(e[1],e[2]/100,e[3]/100,1):(e=dIe.exec(t))?DV(e[1],e[2]/100,e[3]/100,e[4]):IV.hasOwnProperty(t)?RV(IV[t]):t==="transparent"?new fi(NaN,NaN,NaN,0):null}function RV(t){return new fi(t>>16&255,t>>8&255,t&255,1)}function Vx(t,e,n,r){return r<=0&&(t=e=n=NaN),new fi(t,e,n,r)}function gIe(t){return t instanceof S1||(t=ab(t)),t?(t=t.rgb(),new fi(t.r,t.g,t.b,t.opacity)):new fi}function uM(t,e,n,r){return arguments.length===1?gIe(t):new fi(t,e,n,r??1)}function fi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}GL(fi,uM,gY(S1,{brighter(t){return t=t==null?_S:Math.pow(_S,t),new fi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?sb:Math.pow(sb,t),new fi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new fi(Vd(this.r),Vd(this.g),Vd(this.b),xS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:NV,formatHex:NV,formatHex8:mIe,formatRgb:MV,toString:MV}));function NV(){return`#${fh(this.r)}${fh(this.g)}${fh(this.b)}`}function mIe(){return`#${fh(this.r)}${fh(this.g)}${fh(this.b)}${fh((isNaN(this.opacity)?1:this.opacity)*255)}`}function MV(){const t=xS(this.opacity);return`${t===1?"rgb(":"rgba("}${Vd(this.r)}, ${Vd(this.g)}, ${Vd(this.b)}${t===1?")":`, ${t})`}`}function xS(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Vd(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function fh(t){return t=Vd(t),(t<16?"0":"")+t.toString(16)}function DV(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new co(t,e,n,r)}function mY(t){if(t instanceof co)return new co(t.h,t.s,t.l,t.opacity);if(t instanceof S1||(t=ab(t)),!t)return new co;if(t instanceof co)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new co(o,a,l,t.opacity)}function yIe(t,e,n,r){return arguments.length===1?mY(t):new co(t,e,n,r??1)}function co(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}GL(co,yIe,gY(S1,{brighter(t){return t=t==null?_S:Math.pow(_S,t),new co(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?sb:Math.pow(sb,t),new co(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new fi(gk(t>=240?t-240:t+120,i,r),gk(t,i,r),gk(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new co($V(this.h),Bx(this.s),Bx(this.l),xS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=xS(this.opacity);return`${t===1?"hsl(":"hsla("}${$V(this.h)}, ${Bx(this.s)*100}%, ${Bx(this.l)*100}%${t===1?")":`, ${t})`}`}}));function $V(t){return t=(t||0)%360,t<0?t+360:t}function Bx(t){return Math.max(0,Math.min(1,t||0))}function gk(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const qL=t=>()=>t;function vIe(t,e){return function(n){return t+n*e}}function bIe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function wIe(t){return(t=+t)==1?yY:function(e,n){return n-e?bIe(e,n,t):qL(isNaN(e)?n:e)}}function yY(t,e){var n=e-t;return n?vIe(t,n):qL(isNaN(t)?e:t)}const LV=function t(e){var n=wIe(e);function r(i,s){var o=n((i=uM(i)).r,(s=uM(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),c=yY(i.opacity,s.opacity);return function(u){return i.r=o(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function _Ie(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function xIe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function AIe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Dy(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function EIe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function AS(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function SIe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Dy(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var hM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mk=new RegExp(hM.source,"g");function TIe(t){return function(){return t}}function PIe(t){return function(e){return t(e)+""}}function CIe(t,e){var n=hM.lastIndex=mk.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=hM.exec(t))&&(i=mk.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:AS(r,i)})),n=mk.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?PIe(l[0].x):TIe(e):(e=l.length,function(c){for(var u=0,h;u<e;++u)a[(h=l[u]).i]=h.x(c);return a.join("")})}function Dy(t,e){var n=typeof e,r;return e==null||n==="boolean"?qL(e):(n==="number"?AS:n==="string"?(r=ab(e))?(e=r,LV):CIe:e instanceof ab?LV:e instanceof Date?EIe:xIe(e)?_Ie:Array.isArray(e)?AIe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?SIe:AS)(t,e)}function KL(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function IIe(t,e){e===void 0&&(e=t,t=Dy);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function OIe(t){return function(){return t}}function ES(t){return+t}var jV=[0,1];function Qr(t){return t}function dM(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:OIe(isNaN(e)?NaN:.5)}function kIe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function RIe(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=dM(i,r),s=n(o,s)):(r=dM(r,i),s=n(s,o)),function(a){return s(r(a))}}function NIe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=dM(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(a){var l=E1(t,a,1,r)-1;return s[l](i[l](a))}}function T1(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function gI(){var t=jV,e=jV,n=Dy,r,i,s,o=Qr,a,l,c;function u(){var d=Math.min(t.length,e.length);return o!==Qr&&(o=kIe(t[0],t[d-1])),a=d>2?NIe:RIe,l=c=null,h}function h(d){return d==null||isNaN(d=+d)?s:(l||(l=a(t.map(r),e,n)))(r(o(d)))}return h.invert=function(d){return o(i((c||(c=a(e,t.map(r),AS)))(d)))},h.domain=function(d){return arguments.length?(t=Array.from(d,ES),u()):t.slice()},h.range=function(d){return arguments.length?(e=Array.from(d),u()):e.slice()},h.rangeRound=function(d){return e=Array.from(d),n=KL,u()},h.clamp=function(d){return arguments.length?(o=d?!0:Qr,u()):o!==Qr},h.interpolate=function(d){return arguments.length?(n=d,u()):n},h.unknown=function(d){return arguments.length?(s=d,h):s},function(d,p){return r=d,i=p,u()}}function XL(){return gI()(Qr,Qr)}function MIe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function SS(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Wm(t){return t=SS(Math.abs(t)),t?t[1]:NaN}function DIe(t,e){return function(n,r){for(var i=n.length,s=[],o=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function $Ie(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var LIe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lb(t){if(!(e=LIe.exec(t)))throw new Error("invalid format: "+t);var e;return new YL({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}lb.prototype=YL.prototype;function YL(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}YL.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function jIe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var vY;function FIe(t,e){var n=SS(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(vY=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+SS(t,Math.max(0,e+s-1))[0]}function FV(t,e){var n=SS(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const VV={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:MIe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>FV(t*100,e),r:FV,s:FIe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function BV(t){return t}var UV=Array.prototype.map,zV=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function VIe(t){var e=t.grouping===void 0||t.thousands===void 0?BV:DIe(UV.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?BV:$Ie(UV.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(h){h=lb(h);var d=h.fill,p=h.align,y=h.sign,g=h.symbol,v=h.zero,b=h.width,w=h.comma,_=h.precision,S=h.trim,x=h.type;x==="n"?(w=!0,x="g"):VV[x]||(_===void 0&&(_=12),S=!0,x="g"),(v||d==="0"&&p==="=")&&(v=!0,d="0",p="=");var T=g==="$"?n:g==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",A=g==="$"?r:/[%p]/.test(x)?o:"",E=VV[x],O=/[defgprs%]/.test(x);_=_===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function M(D){var $=T,L=A,W,q,H;if(x==="c")L=E(D)+L,D="";else{D=+D;var G=D<0||1/D<0;if(D=isNaN(D)?l:E(Math.abs(D),_),S&&(D=jIe(D)),G&&+D==0&&y!=="+"&&(G=!1),$=(G?y==="("?y:a:y==="-"||y==="("?"":y)+$,L=(x==="s"?zV[8+vY/3]:"")+L+(G&&y==="("?")":""),O){for(W=-1,q=D.length;++W<q;)if(H=D.charCodeAt(W),48>H||H>57){L=(H===46?i+D.slice(W+1):D.slice(W))+L,D=D.slice(0,W);break}}}w&&!v&&(D=e(D,1/0));var z=$.length+D.length+L.length,X=z<b?new Array(b-z+1).join(d):"";switch(w&&v&&(D=e(X+D,X.length?b-L.length:1/0),X=""),p){case"<":D=$+D+L+X;break;case"=":D=$+X+D+L;break;case"^":D=X.slice(0,z=X.length>>1)+$+D+L+X.slice(z);break;default:D=X+$+D+L;break}return s(D)}return M.toString=function(){return h+""},M}function u(h,d){var p=c((h=lb(h),h.type="f",h)),y=Math.max(-8,Math.min(8,Math.floor(Wm(d)/3)))*3,g=Math.pow(10,-y),v=zV[8+y/3];return function(b){return p(g*b)+v}}return{format:c,formatPrefix:u}}var Ux,QL,bY;BIe({thousands:",",grouping:[3],currency:["$",""]});function BIe(t){return Ux=VIe(t),QL=Ux.format,bY=Ux.formatPrefix,Ux}function UIe(t){return Math.max(0,-Wm(Math.abs(t)))}function zIe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Wm(e)/3)))*3-Wm(Math.abs(t)))}function HIe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Wm(e)-Wm(t))+1}function wY(t,e,n,r){var i=lM(t,e,n),s;switch(r=lb(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=zIe(i,o))&&(r.precision=s),bY(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=HIe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=UIe(i))&&(r.precision=s-(r.type==="%")*2);break}}return QL(r)}function Nu(t){var e=t.domain;return t.ticks=function(n){var r=e();return oM(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return wY(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],a=r[s],l,c,u=10;for(a<o&&(c=o,o=a,a=c,c=i,i=s,s=c);u-- >0;){if(c=aM(o,a,n),c===l)return r[i]=o,r[s]=a,e(r);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return t},t}function TS(){var t=XL();return t.copy=function(){return T1(t,TS())},Os.apply(t,arguments),Nu(t)}function _Y(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,ES),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return _Y(t).unknown(e)},t=arguments.length?Array.from(t,ES):[0,1],Nu(n)}function xY(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function HV(t){return Math.log(t)}function WV(t){return Math.exp(t)}function WIe(t){return-Math.log(-t)}function GIe(t){return-Math.exp(-t)}function qIe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function KIe(t){return t===10?qIe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function XIe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function GV(t){return(e,n)=>-t(-e,n)}function JL(t){const e=t(HV,WV),n=e.domain;let r=10,i,s;function o(){return i=XIe(r),s=KIe(r),n()[0]<0?(i=GV(i),s=GV(s),t(WIe,GIe)):t(HV,WV),e}return e.base=function(a){return arguments.length?(r=+a,o()):r},e.domain=function(a){return arguments.length?(n(a),o()):n()},e.ticks=a=>{const l=n();let c=l[0],u=l[l.length-1];const h=u<c;h&&([c,u]=[u,c]);let d=i(c),p=i(u),y,g;const v=a==null?10:+a;let b=[];if(!(r%1)&&p-d<v){if(d=Math.floor(d),p=Math.ceil(p),c>0){for(;d<=p;++d)for(y=1;y<r;++y)if(g=d<0?y/s(-d):y*s(d),!(g<c)){if(g>u)break;b.push(g)}}else for(;d<=p;++d)for(y=r-1;y>=1;--y)if(g=d>0?y/s(-d):y*s(d),!(g<c)){if(g>u)break;b.push(g)}b.length*2<v&&(b=oM(c,u,v))}else b=oM(d,p,Math.min(p-d,v)).map(s);return h?b.reverse():b},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=lb(l)).precision==null&&(l.trim=!0),l=QL(l)),a===1/0)return l;const c=Math.max(1,r*a/e.ticks().length);return u=>{let h=u/s(Math.round(i(u)));return h*r<r-.5&&(h*=r),h<=c?l(u):""}},e.nice=()=>n(xY(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),e}function AY(){const t=JL(gI()).domain([1,10]);return t.copy=()=>T1(t,AY()).base(t.base()),Os.apply(t,arguments),t}function qV(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function KV(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function ZL(t){var e=1,n=t(qV(e),KV(e));return n.constant=function(r){return arguments.length?t(qV(e=+r),KV(e)):e},Nu(n)}function EY(){var t=ZL(gI());return t.copy=function(){return T1(t,EY()).constant(t.constant())},Os.apply(t,arguments)}function XV(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function YIe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function QIe(t){return t<0?-t*t:t*t}function ej(t){var e=t(Qr,Qr),n=1;function r(){return n===1?t(Qr,Qr):n===.5?t(YIe,QIe):t(XV(n),XV(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Nu(e)}function tj(){var t=ej(gI());return t.copy=function(){return T1(t,tj()).exponent(t.exponent())},Os.apply(t,arguments),t}function JIe(){return tj.apply(null,arguments).exponent(.5)}function YV(t){return Math.sign(t)*t*t}function ZIe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function SY(){var t=XL(),e=[0,1],n=!1,r;function i(s){var o=ZIe(t(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return t.invert(YV(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,ES)).map(YV)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return SY(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Os.apply(i,arguments),Nu(i)}function TY(){var t=[],e=[],n=[],r;function i(){var o=0,a=Math.max(1,e.length);for(n=new Array(a-1);++o<a;)n[o-1]=iIe(t,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:e[E1(n,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let a of o)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(mu),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return TY().domain(t).range(e).unknown(r)},Os.apply(s,arguments)}function PY(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function o(l){return l!=null&&l<=l?i[E1(r,l,0,n)]:s}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return PY().domain([t,e]).range(i).unknown(s)},Os.apply(Nu(o),arguments)}function CY(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[E1(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return CY().domain(t).range(e).unknown(n)},Os.apply(i,arguments)}const yk=new Date,vk=new Date;function Dn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let c;do l.push(c=new Date(+s)),e(s,a),t(s);while(c<s&&s<o);return l},i.filter=s=>Dn(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(yk.setTime(+s),vk.setTime(+o),t(yk),t(vk),Math.floor(n(yk,vk))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const PS=Dn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);PS.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Dn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):PS);PS.range;const fl=1e3,xs=fl*60,pl=xs*60,Nl=pl*24,nj=Nl*7,QV=Nl*30,bk=Nl*365,ph=Dn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*fl)},(t,e)=>(e-t)/fl,t=>t.getUTCSeconds());ph.range;const rj=Dn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fl)},(t,e)=>{t.setTime(+t+e*xs)},(t,e)=>(e-t)/xs,t=>t.getMinutes());rj.range;const ij=Dn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*xs)},(t,e)=>(e-t)/xs,t=>t.getUTCMinutes());ij.range;const sj=Dn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fl-t.getMinutes()*xs)},(t,e)=>{t.setTime(+t+e*pl)},(t,e)=>(e-t)/pl,t=>t.getHours());sj.range;const oj=Dn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*pl)},(t,e)=>(e-t)/pl,t=>t.getUTCHours());oj.range;const P1=Dn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*xs)/Nl,t=>t.getDate()-1);P1.range;const mI=Dn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Nl,t=>t.getUTCDate()-1);mI.range;const IY=Dn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Nl,t=>Math.floor(t/Nl));IY.range;function Sf(t){return Dn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*xs)/nj)}const yI=Sf(0),CS=Sf(1),eOe=Sf(2),tOe=Sf(3),Gm=Sf(4),nOe=Sf(5),rOe=Sf(6);yI.range;CS.range;eOe.range;tOe.range;Gm.range;nOe.range;rOe.range;function Tf(t){return Dn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/nj)}const vI=Tf(0),IS=Tf(1),iOe=Tf(2),sOe=Tf(3),qm=Tf(4),oOe=Tf(5),aOe=Tf(6);vI.range;IS.range;iOe.range;sOe.range;qm.range;oOe.range;aOe.range;const aj=Dn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());aj.range;const lj=Dn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());lj.range;const Ml=Dn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ml.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Dn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ml.range;const Dl=Dn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Dl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Dn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Dl.range;function OY(t,e,n,r,i,s){const o=[[ph,1,fl],[ph,5,5*fl],[ph,15,15*fl],[ph,30,30*fl],[s,1,xs],[s,5,5*xs],[s,15,15*xs],[s,30,30*xs],[i,1,pl],[i,3,3*pl],[i,6,6*pl],[i,12,12*pl],[r,1,Nl],[r,2,2*Nl],[n,1,nj],[e,1,QV],[e,3,3*QV],[t,1,bk]];function a(c,u,h){const d=u<c;d&&([c,u]=[u,c]);const p=h&&typeof h.range=="function"?h:l(c,u,h),y=p?p.range(c,+u+1):[];return d?y.reverse():y}function l(c,u,h){const d=Math.abs(u-c)/h,p=HL(([,,v])=>v).right(o,d);if(p===o.length)return t.every(lM(c/bk,u/bk,h));if(p===0)return PS.every(Math.max(lM(c,u,h),1));const[y,g]=o[d/o[p-1][2]<o[p][2]/d?p-1:p];return y.every(g)}return[a,l]}const[lOe,cOe]=OY(Dl,lj,vI,IY,oj,ij),[uOe,hOe]=OY(Ml,aj,yI,P1,sj,rj);function wk(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function _k(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function pv(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function dOe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,l=t.shortMonths,c=gv(i),u=mv(i),h=gv(s),d=mv(s),p=gv(o),y=mv(o),g=gv(a),v=mv(a),b=gv(l),w=mv(l),_={a:G,A:z,b:X,B:ee,c:null,d:r8,e:r8,f:DOe,g:WOe,G:qOe,H:ROe,I:NOe,j:MOe,L:kY,m:$Oe,M:LOe,p:ae,q:Z,Q:o8,s:a8,S:jOe,u:FOe,U:VOe,V:BOe,w:UOe,W:zOe,x:null,X:null,y:HOe,Y:GOe,Z:KOe,"%":s8},S={a:ne,A:Te,b:Pe,B:je,c:null,d:i8,e:i8,f:JOe,g:lke,G:uke,H:XOe,I:YOe,j:QOe,L:NY,m:ZOe,M:eke,p:fe,q:Ie,Q:o8,s:a8,S:tke,u:nke,U:rke,V:ike,w:ske,W:oke,x:null,X:null,y:ake,Y:cke,Z:hke,"%":s8},x={a:M,A:D,b:$,B:L,c:W,d:t8,e:t8,f:COe,g:e8,G:ZV,H:n8,I:n8,j:EOe,L:POe,m:AOe,M:SOe,p:O,q:xOe,Q:OOe,s:kOe,S:TOe,u:yOe,U:vOe,V:bOe,w:mOe,W:wOe,x:q,X:H,y:e8,Y:ZV,Z:_Oe,"%":IOe};_.x=T(n,_),_.X=T(r,_),_.c=T(e,_),S.x=T(n,S),S.X=T(r,S),S.c=T(e,S);function T(ie,me){return function(pe){var Y=[],Me=-1,ce=0,ct=ie.length,ft,wt,jr;for(pe instanceof Date||(pe=new Date(+pe));++Me<ct;)ie.charCodeAt(Me)===37&&(Y.push(ie.slice(ce,Me)),(wt=JV[ft=ie.charAt(++Me)])!=null?ft=ie.charAt(++Me):wt=ft==="e"?" ":"0",(jr=me[ft])&&(ft=jr(pe,wt)),Y.push(ft),ce=Me+1);return Y.push(ie.slice(ce,Me)),Y.join("")}}function A(ie,me){return function(pe){var Y=pv(1900,void 0,1),Me=E(Y,ie,pe+="",0),ce,ct;if(Me!=pe.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(me&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(ce=_k(pv(Y.y,0,1)),ct=ce.getUTCDay(),ce=ct>4||ct===0?IS.ceil(ce):IS(ce),ce=mI.offset(ce,(Y.V-1)*7),Y.y=ce.getUTCFullYear(),Y.m=ce.getUTCMonth(),Y.d=ce.getUTCDate()+(Y.w+6)%7):(ce=wk(pv(Y.y,0,1)),ct=ce.getDay(),ce=ct>4||ct===0?CS.ceil(ce):CS(ce),ce=P1.offset(ce,(Y.V-1)*7),Y.y=ce.getFullYear(),Y.m=ce.getMonth(),Y.d=ce.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),ct="Z"in Y?_k(pv(Y.y,0,1)).getUTCDay():wk(pv(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(ct+5)%7:Y.w+Y.U*7-(ct+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,_k(Y)):wk(Y)}}function E(ie,me,pe,Y){for(var Me=0,ce=me.length,ct=pe.length,ft,wt;Me<ce;){if(Y>=ct)return-1;if(ft=me.charCodeAt(Me++),ft===37){if(ft=me.charAt(Me++),wt=x[ft in JV?me.charAt(Me++):ft],!wt||(Y=wt(ie,pe,Y))<0)return-1}else if(ft!=pe.charCodeAt(Y++))return-1}return Y}function O(ie,me,pe){var Y=c.exec(me.slice(pe));return Y?(ie.p=u.get(Y[0].toLowerCase()),pe+Y[0].length):-1}function M(ie,me,pe){var Y=p.exec(me.slice(pe));return Y?(ie.w=y.get(Y[0].toLowerCase()),pe+Y[0].length):-1}function D(ie,me,pe){var Y=h.exec(me.slice(pe));return Y?(ie.w=d.get(Y[0].toLowerCase()),pe+Y[0].length):-1}function $(ie,me,pe){var Y=b.exec(me.slice(pe));return Y?(ie.m=w.get(Y[0].toLowerCase()),pe+Y[0].length):-1}function L(ie,me,pe){var Y=g.exec(me.slice(pe));return Y?(ie.m=v.get(Y[0].toLowerCase()),pe+Y[0].length):-1}function W(ie,me,pe){return E(ie,e,me,pe)}function q(ie,me,pe){return E(ie,n,me,pe)}function H(ie,me,pe){return E(ie,r,me,pe)}function G(ie){return o[ie.getDay()]}function z(ie){return s[ie.getDay()]}function X(ie){return l[ie.getMonth()]}function ee(ie){return a[ie.getMonth()]}function ae(ie){return i[+(ie.getHours()>=12)]}function Z(ie){return 1+~~(ie.getMonth()/3)}function ne(ie){return o[ie.getUTCDay()]}function Te(ie){return s[ie.getUTCDay()]}function Pe(ie){return l[ie.getUTCMonth()]}function je(ie){return a[ie.getUTCMonth()]}function fe(ie){return i[+(ie.getUTCHours()>=12)]}function Ie(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var me=T(ie+="",_);return me.toString=function(){return ie},me},parse:function(ie){var me=A(ie+="",!1);return me.toString=function(){return ie},me},utcFormat:function(ie){var me=T(ie+="",S);return me.toString=function(){return ie},me},utcParse:function(ie){var me=A(ie+="",!0);return me.toString=function(){return ie},me}}}var JV={"-":"",_:" ",0:"0"},Yn=/^\s*\d+/,fOe=/^%/,pOe=/[\\^$*+?|[\]().{}]/g;function lt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function gOe(t){return t.replace(pOe,"\\$&")}function gv(t){return new RegExp("^(?:"+t.map(gOe).join("|")+")","i")}function mv(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function mOe(t,e,n){var r=Yn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function yOe(t,e,n){var r=Yn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function vOe(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function bOe(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function wOe(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ZV(t,e,n){var r=Yn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function e8(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function _Oe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function xOe(t,e,n){var r=Yn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function AOe(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function t8(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function EOe(t,e,n){var r=Yn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function n8(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function SOe(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function TOe(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function POe(t,e,n){var r=Yn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function COe(t,e,n){var r=Yn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function IOe(t,e,n){var r=fOe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function OOe(t,e,n){var r=Yn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function kOe(t,e,n){var r=Yn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function r8(t,e){return lt(t.getDate(),e,2)}function ROe(t,e){return lt(t.getHours(),e,2)}function NOe(t,e){return lt(t.getHours()%12||12,e,2)}function MOe(t,e){return lt(1+P1.count(Ml(t),t),e,3)}function kY(t,e){return lt(t.getMilliseconds(),e,3)}function DOe(t,e){return kY(t,e)+"000"}function $Oe(t,e){return lt(t.getMonth()+1,e,2)}function LOe(t,e){return lt(t.getMinutes(),e,2)}function jOe(t,e){return lt(t.getSeconds(),e,2)}function FOe(t){var e=t.getDay();return e===0?7:e}function VOe(t,e){return lt(yI.count(Ml(t)-1,t),e,2)}function RY(t){var e=t.getDay();return e>=4||e===0?Gm(t):Gm.ceil(t)}function BOe(t,e){return t=RY(t),lt(Gm.count(Ml(t),t)+(Ml(t).getDay()===4),e,2)}function UOe(t){return t.getDay()}function zOe(t,e){return lt(CS.count(Ml(t)-1,t),e,2)}function HOe(t,e){return lt(t.getFullYear()%100,e,2)}function WOe(t,e){return t=RY(t),lt(t.getFullYear()%100,e,2)}function GOe(t,e){return lt(t.getFullYear()%1e4,e,4)}function qOe(t,e){var n=t.getDay();return t=n>=4||n===0?Gm(t):Gm.ceil(t),lt(t.getFullYear()%1e4,e,4)}function KOe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+lt(e/60|0,"0",2)+lt(e%60,"0",2)}function i8(t,e){return lt(t.getUTCDate(),e,2)}function XOe(t,e){return lt(t.getUTCHours(),e,2)}function YOe(t,e){return lt(t.getUTCHours()%12||12,e,2)}function QOe(t,e){return lt(1+mI.count(Dl(t),t),e,3)}function NY(t,e){return lt(t.getUTCMilliseconds(),e,3)}function JOe(t,e){return NY(t,e)+"000"}function ZOe(t,e){return lt(t.getUTCMonth()+1,e,2)}function eke(t,e){return lt(t.getUTCMinutes(),e,2)}function tke(t,e){return lt(t.getUTCSeconds(),e,2)}function nke(t){var e=t.getUTCDay();return e===0?7:e}function rke(t,e){return lt(vI.count(Dl(t)-1,t),e,2)}function MY(t){var e=t.getUTCDay();return e>=4||e===0?qm(t):qm.ceil(t)}function ike(t,e){return t=MY(t),lt(qm.count(Dl(t),t)+(Dl(t).getUTCDay()===4),e,2)}function ske(t){return t.getUTCDay()}function oke(t,e){return lt(IS.count(Dl(t)-1,t),e,2)}function ake(t,e){return lt(t.getUTCFullYear()%100,e,2)}function lke(t,e){return t=MY(t),lt(t.getUTCFullYear()%100,e,2)}function cke(t,e){return lt(t.getUTCFullYear()%1e4,e,4)}function uke(t,e){var n=t.getUTCDay();return t=n>=4||n===0?qm(t):qm.ceil(t),lt(t.getUTCFullYear()%1e4,e,4)}function hke(){return"+0000"}function s8(){return"%"}function o8(t){return+t}function a8(t){return Math.floor(+t/1e3)}var zf,DY,$Y;dke({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function dke(t){return zf=dOe(t),DY=zf.format,zf.parse,$Y=zf.utcFormat,zf.utcParse,zf}function fke(t){return new Date(t)}function pke(t){return t instanceof Date?+t:+new Date(+t)}function cj(t,e,n,r,i,s,o,a,l,c){var u=XL(),h=u.invert,d=u.domain,p=c(".%L"),y=c(":%S"),g=c("%I:%M"),v=c("%I %p"),b=c("%a %d"),w=c("%b %d"),_=c("%B"),S=c("%Y");function x(T){return(l(T)<T?p:a(T)<T?y:o(T)<T?g:s(T)<T?v:r(T)<T?i(T)<T?b:w:n(T)<T?_:S)(T)}return u.invert=function(T){return new Date(h(T))},u.domain=function(T){return arguments.length?d(Array.from(T,pke)):d().map(fke)},u.ticks=function(T){var A=d();return t(A[0],A[A.length-1],T??10)},u.tickFormat=function(T,A){return A==null?x:c(A)},u.nice=function(T){var A=d();return(!T||typeof T.range!="function")&&(T=e(A[0],A[A.length-1],T??10)),T?d(xY(A,T)):u},u.copy=function(){return T1(u,cj(t,e,n,r,i,s,o,a,l,c))},u}function gke(){return Os.apply(cj(uOe,hOe,Ml,aj,yI,P1,sj,rj,ph,DY).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mke(){return Os.apply(cj(lOe,cOe,Dl,lj,vI,mI,oj,ij,ph,$Y).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function bI(){var t=0,e=1,n,r,i,s,o=Qr,a=!1,l;function c(h){return h==null||isNaN(h=+h)?l:o(i===0?.5:(h=(s(h)-n)*i,a?Math.max(0,Math.min(1,h)):h))}c.domain=function(h){return arguments.length?([t,e]=h,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(h){return arguments.length?(a=!!h,c):a},c.interpolator=function(h){return arguments.length?(o=h,c):o};function u(h){return function(d){var p,y;return arguments.length?([p,y]=d,o=h(p,y),c):[o(0),o(1)]}}return c.range=u(Dy),c.rangeRound=u(KL),c.unknown=function(h){return arguments.length?(l=h,c):l},function(h){return s=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),c}}function Mu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function LY(){var t=Nu(bI()(Qr));return t.copy=function(){return Mu(t,LY())},Vl.apply(t,arguments)}function jY(){var t=JL(bI()).domain([1,10]);return t.copy=function(){return Mu(t,jY()).base(t.base())},Vl.apply(t,arguments)}function FY(){var t=ZL(bI());return t.copy=function(){return Mu(t,FY()).constant(t.constant())},Vl.apply(t,arguments)}function uj(){var t=ej(bI());return t.copy=function(){return Mu(t,uj()).exponent(t.exponent())},Vl.apply(t,arguments)}function yke(){return uj.apply(null,arguments).exponent(.5)}function VY(){var t=[],e=Qr;function n(r){if(r!=null&&!isNaN(r=+r))return e((E1(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(mu),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>rIe(t,s/r))},n.copy=function(){return VY(e).domain(t)},Vl.apply(n,arguments)}function wI(){var t=0,e=.5,n=1,r=1,i,s,o,a,l,c=Qr,u,h=!1,d;function p(g){return isNaN(g=+g)?d:(g=.5+((g=+u(g))-s)*(r*g<r*s?a:l),c(h?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=u(t=+t),s=u(e=+e),o=u(n=+n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(h=!!g,p):h},p.interpolator=function(g){return arguments.length?(c=g,p):c};function y(g){return function(v){var b,w,_;return arguments.length?([b,w,_]=v,c=IIe(g,[b,w,_]),p):[c(0),c(.5),c(1)]}}return p.range=y(Dy),p.rangeRound=y(KL),p.unknown=function(g){return arguments.length?(d=g,p):d},function(g){return u=g,i=g(t),s=g(e),o=g(n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,p}}function BY(){var t=Nu(wI()(Qr));return t.copy=function(){return Mu(t,BY())},Vl.apply(t,arguments)}function UY(){var t=JL(wI()).domain([.1,1,10]);return t.copy=function(){return Mu(t,UY()).base(t.base())},Vl.apply(t,arguments)}function zY(){var t=ZL(wI());return t.copy=function(){return Mu(t,zY()).constant(t.constant())},Vl.apply(t,arguments)}function hj(){var t=ej(wI());return t.copy=function(){return Mu(t,hj()).exponent(t.exponent())},Vl.apply(t,arguments)}function vke(){return hj.apply(null,arguments).exponent(.5)}const l8=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ib,scaleDiverging:BY,scaleDivergingLog:UY,scaleDivergingPow:hj,scaleDivergingSqrt:vke,scaleDivergingSymlog:zY,scaleIdentity:_Y,scaleImplicit:cM,scaleLinear:TS,scaleLog:AY,scaleOrdinal:WL,scalePoint:p0,scalePow:tj,scaleQuantile:TY,scaleQuantize:PY,scaleRadial:SY,scaleSequential:LY,scaleSequentialLog:jY,scaleSequentialPow:uj,scaleSequentialQuantile:VY,scaleSequentialSqrt:yke,scaleSequentialSymlog:FY,scaleSqrt:JIe,scaleSymlog:EY,scaleThreshold:CY,scaleTime:gke,scaleUtc:mke,tickFormat:wY},Symbol.toStringTag,{value:"Module"}));var bke=Ty;function wke(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],o=e(s);if(o!=null&&(a===void 0?o===o&&!bke(o):n(o,a)))var a=o,l=s}return l}var _I=wke;function _ke(t,e){return t>e}var HY=_ke,xke=_I,Ake=HY,Eke=My;function Ske(t){return t&&t.length?xke(t,Eke,Ake):void 0}var Tke=Ske;const xI=dt(Tke);function Pke(t,e){return t<e}var WY=Pke,Cke=_I,Ike=WY,Oke=My;function kke(t){return t&&t.length?Cke(t,Oke,Ike):void 0}var Rke=kke;const AI=dt(Rke);var Nke=SL,Mke=ma,Dke=ZX,$ke=bi;function Lke(t,e){var n=$ke(t)?Nke:Dke;return n(t,Mke(e))}var jke=Lke,Fke=QX,Vke=jke;function Bke(t,e){return Fke(Vke(t,e),1)}var Uke=Bke;const zke=dt(Uke);var Hke=VL;function Wke(t,e){return Hke(t,e)}var Gke=Wke;const C1=dt(Gke);var $y=1e9,qke={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},fj,Bt=!0,Cs="[DecimalError] ",Bd=Cs+"Invalid argument: ",dj=Cs+"Exponent out of range: ",Ly=Math.floor,eh=Math.pow,Kke=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Wi,Wn=1e7,Mt=7,GY=9007199254740991,OS=Ly(GY/Mt),_e={};_e.absoluteValue=_e.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};_e.comparedTo=_e.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};_e.decimalPlaces=_e.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Mt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};_e.dividedBy=_e.div=function(t){return vl(this,new this.constructor(t))};_e.dividedToIntegerBy=_e.idiv=function(t){var e=this,n=e.constructor;return At(vl(e,new n(t),0,1),n.precision)};_e.equals=_e.eq=function(t){return!this.cmp(t)};_e.exponent=function(){return _n(this)};_e.greaterThan=_e.gt=function(t){return this.cmp(t)>0};_e.greaterThanOrEqualTo=_e.gte=function(t){return this.cmp(t)>=0};_e.isInteger=_e.isint=function(){return this.e>this.d.length-2};_e.isNegative=_e.isneg=function(){return this.s<0};_e.isPositive=_e.ispos=function(){return this.s>0};_e.isZero=function(){return this.s===0};_e.lessThan=_e.lt=function(t){return this.cmp(t)<0};_e.lessThanOrEqualTo=_e.lte=function(t){return this.cmp(t)<1};_e.logarithm=_e.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Wi))throw Error(Cs+"NaN");if(n.s<1)throw Error(Cs+(n.s?"NaN":"-Infinity"));return n.eq(Wi)?new r(0):(Bt=!1,e=vl(cb(n,s),cb(t,s),s),Bt=!0,At(e,i))};_e.minus=_e.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?XY(e,t):qY(e,(t.s=-t.s,t))};_e.modulo=_e.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Cs+"NaN");return n.s?(Bt=!1,e=vl(n,t,0,1).times(t),Bt=!0,n.minus(e)):At(new r(n),i)};_e.naturalExponential=_e.exp=function(){return KY(this)};_e.naturalLogarithm=_e.ln=function(){return cb(this)};_e.negated=_e.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};_e.plus=_e.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?qY(e,t):XY(e,(t.s=-t.s,t))};_e.precision=_e.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Bd+t);if(e=_n(i)+1,r=i.d.length-1,n=r*Mt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};_e.squareRoot=_e.sqrt=function(){var t,e,n,r,i,s,o,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Cs+"NaN")}for(t=_n(a),Bt=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Zo(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ly((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(s=r,r=s.plus(vl(a,s,o+2)).times(.5),Zo(s.d).slice(0,o)===(e=Zo(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(At(s,n+1,0),s.times(s).eq(a)){r=s;break}}else if(e!="9999")break;o+=4}return Bt=!0,At(r,n)};_e.times=_e.mul=function(t){var e,n,r,i,s,o,a,l,c,u=this,h=u.constructor,d=u.d,p=(t=new h(t)).d;if(!u.s||!t.s)return new h(0);for(t.s*=u.s,n=u.e+t.e,l=d.length,c=p.length,l<c&&(s=d,d=p,p=s,o=l,l=c,c=o),s=[],o=l+c,r=o;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)a=s[i]+p[r]*d[i-r-1]+e,s[i--]=a%Wn|0,e=a/Wn|0;s[i]=(s[i]+e)%Wn|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Bt?At(t,h.precision):t};_e.toDecimalPlaces=_e.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(fa(t,0,$y),e===void 0?e=r.rounding:fa(e,0,8),At(n,t+_n(n)+1,e))};_e.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=lf(r,!0):(fa(t,0,$y),e===void 0?e=i.rounding:fa(e,0,8),r=At(new i(r),t+1,e),n=lf(r,!0,t+1)),n};_e.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?lf(i):(fa(t,0,$y),e===void 0?e=s.rounding:fa(e,0,8),r=At(new s(i),t+_n(i)+1,e),n=lf(r.abs(),!1,t+_n(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};_e.toInteger=_e.toint=function(){var t=this,e=t.constructor;return At(new e(t),_n(t)+1,e.rounding)};_e.toNumber=function(){return+this};_e.toPower=_e.pow=function(t){var e,n,r,i,s,o,a=this,l=a.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Wi);if(a=new l(a),!a.s){if(t.s<1)throw Error(Cs+"Infinity");return a}if(a.eq(Wi))return a;if(r=l.precision,t.eq(Wi))return At(a,r);if(e=t.e,n=t.d.length-1,o=e>=n,s=a.s,o){if((n=u<0?-u:u)<=GY){for(i=new l(Wi),e=Math.ceil(r/Mt+4),Bt=!1;n%2&&(i=i.times(a),u8(i.d,e)),n=Ly(n/2),n!==0;)a=a.times(a),u8(a.d,e);return Bt=!0,t.s<0?new l(Wi).div(i):At(i,r)}}else if(s<0)throw Error(Cs+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,Bt=!1,i=t.times(cb(a,r+c)),Bt=!0,i=KY(i),i.s=s,i};_e.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=_n(i),r=lf(i,n<=s.toExpNeg||n>=s.toExpPos)):(fa(t,1,$y),e===void 0?e=s.rounding:fa(e,0,8),i=At(new s(i),t,e),n=_n(i),r=lf(i,t<=n||n<=s.toExpNeg,t)),r};_e.toSignificantDigits=_e.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(fa(t,1,$y),e===void 0?e=r.rounding:fa(e,0,8)),At(new r(n),t,e)};_e.toString=_e.valueOf=_e.val=_e.toJSON=_e[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=_n(t),n=t.constructor;return lf(t,e<=n.toExpNeg||e>=n.toExpPos)};function qY(t,e){var n,r,i,s,o,a,l,c,u=t.constructor,h=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Bt?At(e,h):e;if(l=t.d,c=e.d,o=t.e,i=e.e,l=l.slice(),s=o-i,s){for(s<0?(r=l,s=-s,a=c.length):(r=c,i=o,a=l.length),o=Math.ceil(h/Mt),a=o>a?o+1:a+1,s>a&&(s=a,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(a=l.length,s=c.length,a-s<0&&(s=a,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/Wn|0,l[s]%=Wn;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,Bt?At(e,h):e}function fa(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Bd+t)}function Zo(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=Mt-r.length,n&&(s+=tc(n)),s+=r;o=t[e],r=o+"",n=Mt-r.length,n&&(s+=tc(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var vl=function(){function t(r,i){var s,o=0,a=r.length;for(r=r.slice();a--;)s=r[a]*i+o,r[a]=s%Wn|0,o=s/Wn|0;return o&&r.unshift(o),r}function e(r,i,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*Wn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var a,l,c,u,h,d,p,y,g,v,b,w,_,S,x,T,A,E,O=r.constructor,M=r.s==i.s?1:-1,D=r.d,$=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(Cs+"Division by zero");for(l=r.e-i.e,A=$.length,x=D.length,p=new O(M),y=p.d=[],c=0;$[c]==(D[c]||0);)++c;if($[c]>(D[c]||0)&&--l,s==null?w=s=O.precision:o?w=s+(_n(r)-_n(i))+1:w=s,w<0)return new O(0);if(w=w/Mt+2|0,c=0,A==1)for(u=0,$=$[0],w++;(c<x||u)&&w--;c++)_=u*Wn+(D[c]||0),y[c]=_/$|0,u=_%$|0;else{for(u=Wn/($[0]+1)|0,u>1&&($=t($,u),D=t(D,u),A=$.length,x=D.length),S=A,g=D.slice(0,A),v=g.length;v<A;)g[v++]=0;E=$.slice(),E.unshift(0),T=$[0],$[1]>=Wn/2&&++T;do u=0,a=e($,g,A,v),a<0?(b=g[0],A!=v&&(b=b*Wn+(g[1]||0)),u=b/T|0,u>1?(u>=Wn&&(u=Wn-1),h=t($,u),d=h.length,v=g.length,a=e(h,g,d,v),a==1&&(u--,n(h,A<d?E:$,d))):(u==0&&(a=u=1),h=$.slice()),d=h.length,d<v&&h.unshift(0),n(g,h,v),a==-1&&(v=g.length,a=e($,g,A,v),a<1&&(u++,n(g,A<v?E:$,v))),v=g.length):a===0&&(u++,g=[0]),y[c++]=u,a&&g[0]?g[v++]=D[S]||0:(g=[D[S]],v=1);while((S++<x||g[0]!==void 0)&&w--)}return y[0]||y.shift(),p.e=l,At(p,o?s+_n(p)+1:s)}}();function KY(t,e){var n,r,i,s,o,a,l=0,c=0,u=t.constructor,h=u.precision;if(_n(t)>16)throw Error(dj+_n(t));if(!t.s)return new u(Wi);for(e==null?(Bt=!1,a=h):a=e,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),c+=5;for(r=Math.log(eh(2,c))/Math.LN10*2+5|0,a+=r,n=i=s=new u(Wi),u.precision=a;;){if(i=At(i.times(t),a),n=n.times(++l),o=s.plus(vl(i,n,a)),Zo(o.d).slice(0,a)===Zo(s.d).slice(0,a)){for(;c--;)s=At(s.times(s),a);return u.precision=h,e==null?(Bt=!0,At(s,h)):s}s=o}}function _n(t){for(var e=t.e*Mt,n=t.d[0];n>=10;n/=10)e++;return e}function xk(t,e,n){if(e>t.LN10.sd())throw Bt=!0,n&&(t.precision=n),Error(Cs+"LN10 precision limit exceeded");return At(new t(t.LN10),e)}function tc(t){for(var e="";t--;)e+="0";return e}function cb(t,e){var n,r,i,s,o,a,l,c,u,h=1,d=10,p=t,y=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(Cs+(p.s?"NaN":"-Infinity"));if(p.eq(Wi))return new g(0);if(e==null?(Bt=!1,c=v):c=e,p.eq(10))return e==null&&(Bt=!0),xk(g,c);if(c+=d,g.precision=c,n=Zo(y),r=n.charAt(0),s=_n(p),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Zo(p.d),r=n.charAt(0),h++;s=_n(p),r>1?(p=new g("0."+n),s++):p=new g(r+"."+n.slice(1))}else return l=xk(g,c+2,v).times(s+""),p=cb(new g(r+"."+n.slice(1)),c-d).plus(l),g.precision=v,e==null?(Bt=!0,At(p,v)):p;for(a=o=p=vl(p.minus(Wi),p.plus(Wi),c),u=At(p.times(p),c),i=3;;){if(o=At(o.times(u),c),l=a.plus(vl(o,new g(i),c)),Zo(l.d).slice(0,c)===Zo(a.d).slice(0,c))return a=a.times(2),s!==0&&(a=a.plus(xk(g,c+2,v).times(s+""))),a=vl(a,new g(h),c),g.precision=v,e==null?(Bt=!0,At(a,v)):a;a=l,i+=2}}function c8(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ly(n/Mt),t.d=[],r=(n+1)%Mt,n<0&&(r+=Mt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Mt;r<i;)t.d.push(+e.slice(r,r+=Mt));e=e.slice(r),r=Mt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Bt&&(t.e>OS||t.e<-OS))throw Error(dj+n)}else t.s=0,t.e=0,t.d=[0];return t}function At(t,e,n){var r,i,s,o,a,l,c,u,h=t.d;for(o=1,s=h[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=Mt,i=e,c=h[u=0];else{if(u=Math.ceil((r+1)/Mt),s=h.length,u>=s)return t;for(c=s=h[u],o=1;s>=10;s/=10)o++;r%=Mt,i=r-Mt+o}if(n!==void 0&&(s=eh(10,o-i-1),a=c/s%10|0,l=e<0||h[u+1]!==void 0||c%s,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?c/eh(10,o-i):0:h[u-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return l?(s=_n(t),h.length=1,e=e-s-1,h[0]=eh(10,(Mt-e%Mt)%Mt),t.e=Ly(-e/Mt)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=u,s=1,u--):(h.length=u+1,s=eh(10,Mt-r),h[u]=i>0?(c/eh(10,o-i)%eh(10,i)|0)*s:0),l)for(;;)if(u==0){(h[0]+=s)==Wn&&(h[0]=1,++t.e);break}else{if(h[u]+=s,h[u]!=Wn)break;h[u--]=0,s=1}for(r=h.length;h[--r]===0;)h.pop();if(Bt&&(t.e>OS||t.e<-OS))throw Error(dj+_n(t));return t}function XY(t,e){var n,r,i,s,o,a,l,c,u,h,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),Bt?At(e,p):e;if(l=t.d,h=e.d,r=e.e,c=t.e,l=l.slice(),o=c-r,o){for(u=o<0,u?(n=l,o=-o,a=h.length):(n=h,r=c,a=l.length),i=Math.max(Math.ceil(p/Mt),a)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=h.length,u=i<a,u&&(a=i),i=0;i<a;i++)if(l[i]!=h[i]){u=l[i]<h[i];break}o=0}for(u&&(n=l,l=h,h=n,e.s=-e.s),a=l.length,i=h.length-a;i>0;--i)l[a++]=0;for(i=h.length;i>o;){if(l[--i]<h[i]){for(s=i;s&&l[--s]===0;)l[s]=Wn-1;--l[s],l[i]+=Wn}l[i]-=h[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Bt?At(e,p):e):new d(0)}function lf(t,e,n){var r,i=_n(t),s=Zo(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+tc(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+tc(-i-1)+s,n&&(r=n-o)>0&&(s+=tc(r))):i>=o?(s+=tc(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+tc(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=tc(r))),t.s<0?"-"+s:s}function u8(t,e){if(t.length>e)return t.length=e,!0}function YY(t){var e,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Bd+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return c8(o,s.toString())}else if(typeof s!="string")throw Error(Bd+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,Kke.test(s))c8(o,s);else throw Error(Bd+s)}if(i.prototype=_e,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=YY,i.config=i.set=Xke,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Xke(t){if(!t||typeof t!="object")throw Error(Cs+"Object expected");var e,n,r,i=["precision",1,$y,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ly(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Bd+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Bd+n+": "+r);return this}var fj=YY(qke);Wi=new fj(1);const vt=fj;function Yke(t){return e2e(t)||Zke(t)||Jke(t)||Qke()}function Qke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jke(t,e){if(t){if(typeof t=="string")return fM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fM(t,e)}}function Zke(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function e2e(t){if(Array.isArray(t))return fM(t)}function fM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var t2e=function(e){return e},QY={"@@functional/placeholder":!0},JY=function(e){return e===QY},h8=function(e){return function n(){return arguments.length===0||arguments.length===1&&JY(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},n2e=function t(e,n){return e===1?n:h8(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.filter(function(a){return a!==QY}).length;return o>=e?n.apply(void 0,i):t(e-o,h8(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=i.map(function(h){return JY(h)?l.shift():h});return n.apply(void 0,Yke(u).concat(l))}))})},EI=function(e){return n2e(e.length,e)},pM=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},r2e=EI(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),i2e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return t2e;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(a,l){return l(a)},s.apply(void 0,arguments))}},gM=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},ZY=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n&&s.every(function(a,l){return a===n[l]})||(n=s,r=e.apply(void 0,s)),r}};function s2e(t){var e;return t===0?e=1:e=Math.floor(new vt(t).abs().log(10).toNumber())+1,e}function o2e(t,e,n){for(var r=new vt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var a2e=EI(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),l2e=EI(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),c2e=EI(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const SI={rangeStep:o2e,getDigitCount:s2e,interpolateNumber:a2e,uninterpolateNumber:l2e,uninterpolateTruncation:c2e};function mM(t){return d2e(t)||h2e(t)||eQ(t)||u2e()}function u2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h2e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function d2e(t){if(Array.isArray(t))return yM(t)}function ub(t,e){return g2e(t)||p2e(t,e)||eQ(t,e)||f2e()}function f2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eQ(t,e){if(t){if(typeof t=="string")return yM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yM(t,e)}}function yM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p2e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}}function g2e(t){if(Array.isArray(t))return t}function tQ(t){var e=ub(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function nQ(t,e,n){if(t.lte(0))return new vt(0);var r=SI.getDigitCount(t.toNumber()),i=new vt(10).pow(r),s=t.div(i),o=r!==1?.05:.1,a=new vt(Math.ceil(s.div(o).toNumber())).add(n).mul(o),l=a.mul(i);return e?l:new vt(Math.ceil(l))}function m2e(t,e,n){var r=1,i=new vt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new vt(10).pow(SI.getDigitCount(t)-1),i=new vt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new vt(Math.floor(t)))}else t===0?i=new vt(Math.floor((e-1)/2)):n||(i=new vt(Math.floor(t)));var o=Math.floor((e-1)/2),a=i2e(r2e(function(l){return i.add(new vt(l-o).mul(r)).toNumber()}),pM);return a(0,e)}function rQ(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new vt(0),tickMin:new vt(0),tickMax:new vt(0)};var s=nQ(new vt(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new vt(0):(o=new vt(t).add(e).div(2),o=o.sub(new vt(o).mod(s)));var a=Math.ceil(o.sub(t).div(s).toNumber()),l=Math.ceil(new vt(e).sub(o).div(s).toNumber()),c=a+l+1;return c>n?rQ(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,a=e>0?a:a+(n-c)),{step:s,tickMin:o.sub(new vt(a).mul(s)),tickMax:o.add(new vt(l).mul(s))})}function y2e(t){var e=ub(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),a=tQ([n,r]),l=ub(a,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var h=u===1/0?[c].concat(mM(pM(0,i-1).map(function(){return 1/0}))):[].concat(mM(pM(0,i-1).map(function(){return-1/0})),[u]);return n>r?gM(h):h}if(c===u)return m2e(c,i,s);var d=rQ(c,u,o,s),p=d.step,y=d.tickMin,g=d.tickMax,v=SI.rangeStep(y,g.add(new vt(.1).mul(p)),p);return n>r?gM(v):v}function v2e(t,e){var n=ub(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=tQ([r,i]),a=ub(o,2),l=a[0],c=a[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),h=nQ(new vt(c).sub(l).div(u-1),s,0),d=[].concat(mM(SI.rangeStep(new vt(l),new vt(c).sub(new vt(.99).mul(h)),h)),[c]);return r>i?gM(d):d}var b2e=ZY(y2e),w2e=ZY(v2e),_2e=!0,Ak="Invariant failed";function cf(t,e){if(!t){if(_2e)throw new Error(Ak);var n=typeof e=="function"?e():e,r=n?"".concat(Ak,": ").concat(n):Ak;throw new Error(r)}}var x2e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Km(t){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Km(t)}function kS(){return kS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kS.apply(this,arguments)}function A2e(t,e){return P2e(t)||T2e(t,e)||S2e(t,e)||E2e()}function E2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S2e(t,e){if(t){if(typeof t=="string")return d8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d8(t,e)}}function d8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function P2e(t){if(Array.isArray(t))return t}function C2e(t,e){if(t==null)return{};var n=I2e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function I2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function O2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oQ(r.key),r)}}function k2e(t,e,n){return e&&f8(t.prototype,e),n&&f8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function R2e(t,e,n){return e=RS(e),N2e(t,iQ()?Reflect.construct(e,n||[],RS(t).constructor):e.apply(t,n))}function N2e(t,e){if(e&&(Km(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M2e(t)}function M2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iQ=function(){return!!t})()}function RS(t){return RS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},RS(t)}function D2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vM(t,e)}function vM(t,e){return vM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vM(t,e)}function sQ(t,e,n){return e=oQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oQ(t){var e=$2e(t,"string");return Km(e)=="symbol"?e:e+""}function $2e(t,e){if(Km(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var I1=function(t){function e(){return O2e(this,e),R2e(this,e,arguments)}return D2e(e,t),k2e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,o=r.width,a=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,h=r.yAxis,d=C2e(r,x2e),p=Oe(d,!1);this.props.direction==="x"&&u.type!=="number"&&cf(!1);var y=l.map(function(g){var v=c(g,a),b=v.x,w=v.y,_=v.value,S=v.errorVal;if(!S)return null;var x=[],T,A;if(Array.isArray(S)){var E=A2e(S,2);T=E[0],A=E[1]}else T=A=S;if(s==="vertical"){var O=u.scale,M=w+i,D=M+o,$=M-o,L=O(_-T),W=O(_+A);x.push({x1:W,y1:D,x2:W,y2:$}),x.push({x1:L,y1:M,x2:W,y2:M}),x.push({x1:L,y1:D,x2:L,y2:$})}else if(s==="horizontal"){var q=h.scale,H=b+i,G=H-o,z=H+o,X=q(_-T),ee=q(_+A);x.push({x1:G,y1:ee,x2:z,y2:ee}),x.push({x1:H,y1:X,x2:H,y2:ee}),x.push({x1:G,y1:X,x2:z,y2:X})}return U.createElement(at,kS({className:"recharts-errorBar",key:"bar-".concat(x.map(function(ae){return"".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))},p),x.map(function(ae){return U.createElement("line",kS({},ae,{key:"line-".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))}))});return U.createElement(at,{className:"recharts-errorBars"},y)}}])}(U.Component);sQ(I1,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});sQ(I1,"displayName","ErrorBar");function hb(t){"@babel/helpers - typeof";return hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hb(t)}function p8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p8(Object(n),!0).forEach(function(r){L2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L2e(t,e,n){return e=j2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j2e(t){var e=F2e(t,"string");return hb(e)=="symbol"?e:e+""}function F2e(t,e){if(hb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aQ=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=Vi(n,Cr);if(!o)return null;var a=Cr.defaultProps,l=a!==void 0?zu(zu({},a),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:s==="children"?c=(r||[]).reduce(function(u,h){var d=h.item,p=h.props,y=p.sectors||p.data||[];return u.concat(y.map(function(g){return{type:o.props.iconType||d.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):c=(r||[]).map(function(u){var h=u.item,d=h.type.defaultProps,p=d!==void 0?zu(zu({},d),h.props):{},y=p.dataKey,g=p.name,v=p.legendType,b=p.hide;return{inactive:b,dataKey:y,type:l.iconType||v||"square",color:pj(h),value:g||y,payload:p}}),zu(zu(zu({},l),Cr.getWithHeight(o,i)),{},{payload:c,item:o})};function db(t){"@babel/helpers - typeof";return db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},db(t)}function g8(t){return z2e(t)||U2e(t)||B2e(t)||V2e()}function V2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B2e(t,e){if(t){if(typeof t=="string")return bM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bM(t,e)}}function U2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function z2e(t){if(Array.isArray(t))return bM(t)}function bM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m8(Object(n),!0).forEach(function(r){Bp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bp(t,e,n){return e=H2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H2e(t){var e=W2e(t,"string");return db(e)=="symbol"?e:e+""}function W2e(t,e){if(db(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(db(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function On(t,e,n){return Be(t)||Be(e)?n:Rn(e)?Yi(t,e,n):De(e)?e(t):n}function g0(t,e,n,r){var i=zke(t,function(a){return On(a,e)});if(n==="number"){var s=i.filter(function(a){return ge(a)||parseFloat(a)});return s.length?[AI(s),xI(s)]:[1/0,-1/0]}var o=r?i.filter(function(a){return!Be(a)}):i;return o.map(function(a){return Rn(a)||a instanceof Date?a:""})}var G2e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,c=0;c<a;c++){var u=c>0?i[c-1].coordinate:i[a-1].coordinate,h=i[c].coordinate,d=c>=a-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(Xr(h-u)!==Xr(d-h)){var y=[];if(Xr(d-h)===Xr(l[1]-l[0])){p=d;var g=h+l[1]-l[0];y[0]=Math.min(g,(g+u)/2),y[1]=Math.max(g,(g+u)/2)}else{p=u;var v=d+l[1]-l[0];y[0]=Math.min(h,(v+h)/2),y[1]=Math.max(h,(v+h)/2)}var b=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(e>b[0]&&e<=b[1]||e>=y[0]&&e<=y[1]){o=i[c].index;break}}else{var w=Math.min(u,d),_=Math.max(u,d);if(e>(w+h)/2&&e<=(_+h)/2){o=i[c].index;break}}}else for(var S=0;S<a;S++)if(S===0&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<a-1&&e>(r[S].coordinate+r[S-1].coordinate)/2&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S===a-1&&e>(r[S].coordinate+r[S-1].coordinate)/2){o=r[S].index;break}return o},pj=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Zt(Zt({},e.type.defaultProps),e.props):e.props,o=s.stroke,a=s.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:a;break;default:l=a;break}return l},q2e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},a=Object.keys(s),l=0,c=a.length;l<c;l++)for(var u=s[a[l]].stackGroups,h=Object.keys(u),d=0,p=h.length;d<p;d++){var y=u[h[d]],g=y.items,v=y.cateAxisId,b=g.filter(function(A){return yl(A.type).indexOf("Bar")>=0});if(b&&b.length){var w=b[0].type.defaultProps,_=w!==void 0?Zt(Zt({},w),b[0].props):b[0].props,S=_.barSize,x=_[v];o[x]||(o[x]=[]);var T=Be(S)?n:S;o[x].push({item:b[0],stackList:b.slice(1),barSize:Be(T)?void 0:Yr(T,r,0)})}}return o},K2e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,a=e.maxBarSize,l=o.length;if(l<1)return null;var c=Yr(n,i,0,!0),u,h=[];if(o[0].barSize===+o[0].barSize){var d=!1,p=i/l,y=o.reduce(function(S,x){return S+x.barSize||0},0);y+=(l-1)*c,y>=i&&(y-=(l-1)*c,c=0),y>=i&&p>0&&(d=!0,p*=.9,y=l*p);var g=(i-y)/2>>0,v={offset:g-c,size:0};u=o.reduce(function(S,x){var T={item:x.item,position:{offset:v.offset+v.size+c,size:d?p:x.barSize}},A=[].concat(g8(S),[T]);return v=A[A.length-1].position,x.stackList&&x.stackList.length&&x.stackList.forEach(function(E){A.push({item:E,position:v})}),A},h)}else{var b=Yr(r,i,0,!0);i-2*b-(l-1)*c<=0&&(c=0);var w=(i-2*b-(l-1)*c)/l;w>1&&(w>>=0);var _=a===+a?Math.min(w,a):w;u=o.reduce(function(S,x,T){var A=[].concat(g8(S),[{item:x.item,position:{offset:b+(w+c)*T+(w-_)/2,size:_}}]);return x.stackList&&x.stackList.length&&x.stackList.forEach(function(E){A.push({item:E,position:A[A.length-1].position})}),A},h)}return u},X2e=function(e,n,r,i){var s=r.children,o=r.width,a=r.margin,l=o-(a.left||0)-(a.right||0),c=aQ({children:s,legendWidth:l});if(c){var u=i||{},h=u.width,d=u.height,p=c.align,y=c.verticalAlign,g=c.layout;if((g==="vertical"||g==="horizontal"&&y==="middle")&&p!=="center"&&ge(e[p]))return Zt(Zt({},e),{},Bp({},p,e[p]+(h||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&y!=="middle"&&ge(e[y]))return Zt(Zt({},e),{},Bp({},y,e[y]+(d||0)))}return e},Y2e=function(e,n,r){return Be(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},lQ=function(e,n,r,i,s){var o=n.props.children,a=Qi(o,I1).filter(function(c){return Y2e(i,s,c.props.direction)});if(a&&a.length){var l=a.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var h=On(u,r);if(Be(h))return c;var d=Array.isArray(h)?[AI(h),xI(h)]:[h,h],p=l.reduce(function(y,g){var v=On(u,g,0),b=d[0]-Math.abs(Array.isArray(v)?v[0]:v),w=d[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,y[0]),Math.max(w,y[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},Q2e=function(e,n,r,i,s){var o=n.map(function(a){return lQ(e,a,r,s,i)}).filter(function(a){return!Be(a)});return o&&o.length?o.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},cQ=function(e,n,r,i,s){var o=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&lQ(e,l,c,i)||g0(e,c,r,s)});if(r==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var a={};return o.reduce(function(l,c){for(var u=0,h=c.length;u<h;u++)a[c[u]]||(a[c[u]]=!0,l.push(c[u]));return l},[])},uQ=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},hQ=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var s,o,a=e.map(function(l){return l.coordinate===n&&(s=!0),l.coordinate===r&&(o=!0),l.coordinate});return s||a.push(n),o||a.push(r),a},gl=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Xr(a[0]-a[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(h){var d=s?s.indexOf(h):h;return{coordinate:i(d)+c,value:h,offset:c}});return u.filter(function(h){return!x1(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,d){return{coordinate:i(h)+c,value:h,index:d,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+c,value:h,offset:c}}):i.domain().map(function(h,d){return{coordinate:i(h)+c,value:s?s[h]:h,index:d,offset:c}})},Ek=new WeakMap,zx=function(e,n){if(typeof n!="function")return e;Ek.has(e)||Ek.set(e,new WeakMap);var r=Ek.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},dQ=function(e,n,r){var i=e.scale,s=e.type,o=e.layout,a=e.axisType;if(i==="auto")return o==="radial"&&a==="radiusAxis"?{scale:ib(),realScaleType:"band"}:o==="radial"&&a==="angleAxis"?{scale:TS(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:p0(),realScaleType:"point"}:s==="category"?{scale:ib(),realScaleType:"band"}:{scale:TS(),realScaleType:"linear"};if(sf(i)){var l="scale".concat(lI(i));return{scale:(l8[l]||p0)(),realScaleType:l8[l]?l:"point"}}return De(i)?{scale:i}:{scale:p0(),realScaleType:"point"}},y8=1e-4,fQ=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-y8,o=Math.max(i[0],i[1])+y8,a=e(n[0]),l=e(n[r-1]);(a<s||a>o||l<s||l>o)&&e.domain([n[0],n[r-1]])}},J2e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Z2e=function(e,n){if(!n||n.length!==2||!ge(n[0])||!ge(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!ge(e[0])||e[0]<r)&&(s[0]=r),(!ge(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},eRe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0,a=0;a<n;++a){var l=x1(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1]):(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1])}},tRe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0;o<n;++o){var a=x1(e[o][r][1])?e[o][r][0]:e[o][r][1];a>=0?(e[o][r][0]=s,e[o][r][1]=s+a,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},nRe={sign:eRe,expand:Ewe,none:Vm,silhouette:Swe,wiggle:Twe,positive:tRe},rRe=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),s=nRe[r],o=Awe().keys(i).value(function(a,l){return+On(a,l,0)}).order(HN).offset(s);return o(e)},iRe=function(e,n,r,i,s,o){if(!e)return null;var a=o?n.reverse():n,l={},c=a.reduce(function(h,d){var p,y=(p=d.type)!==null&&p!==void 0&&p.defaultProps?Zt(Zt({},d.type.defaultProps),d.props):d.props,g=y.stackId,v=y.hide;if(v)return h;var b=y[r],w=h[b]||{hasStack:!1,stackGroups:{}};if(Rn(g)){var _=w.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(d),w.hasStack=!0,w.stackGroups[g]=_}else w.stackGroups[ky("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return Zt(Zt({},h),{},Bp({},b,w))},l),u={};return Object.keys(c).reduce(function(h,d){var p=c[d];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,v){var b=p.stackGroups[v];return Zt(Zt({},g),{},Bp({},v,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:rRe(e,b.items,s)}))},y)}return Zt(Zt({},h),{},Bp({},d,p))},u)},pQ=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,o=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=b2e(c,s,a);return e.domain([AI(u),xI(u)]),{niceTicks:u}}if(s&&i==="number"){var h=e.domain(),d=w2e(h,s,a);return{niceTicks:d}}return null};function v8(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Be(i[e.dataKey])){var a=sS(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=On(i,Be(o)?e.dataKey:o);return Be(l)?null:e.scale(l)}var b8=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=On(o,n.dataKey,n.domain[a]);return Be(l)?null:n.scale(l)-s/2+i},sRe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},oRe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Zt(Zt({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Rn(s)){var o=n[s];if(o){var a=o.items.indexOf(e);return a>=0?o.stackedData[a]:null}}return null},aRe=function(e){return e.reduce(function(n,r){return[AI(r.concat([n[0]]).filter(ge)),xI(r.concat([n[1]]).filter(ge))]},[1/0,-1/0])},gQ=function(e,n,r){return Object.keys(e).reduce(function(i,s){var o=e[s],a=o.stackedData,l=a.reduce(function(c,u){var h=aRe(u.slice(n,r+1));return[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},w8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wM=function(e,n,r){if(De(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ge(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(w8.test(e[0])){var s=+w8.exec(e[0])[1];i[0]=n[0]-s}else De(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ge(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(_8.test(e[1])){var o=+_8.exec(e[1])[1];i[1]=n[1]+o}else De(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},NS=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=UL(n,function(h){return h.coordinate}),o=1/0,a=1,l=s.length;a<l;a++){var c=s[a],u=s[a-1];o=Math.min((c.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},x8=function(e,n,r){return!e||!e.length||C1(e,Yi(r,"type.defaultProps.domain"))?n:e},mQ=function(e,n){var r=e.type.defaultProps?Zt(Zt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,o=r.unit,a=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return Zt(Zt({},Oe(e,!1)),{},{dataKey:i,unit:o,formatter:a,name:s||i,color:pj(e),value:On(n,i),type:l,payload:n,chartType:c,hide:u})};function fb(t){"@babel/helpers - typeof";return fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fb(t)}function A8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ta(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A8(Object(n),!0).forEach(function(r){yQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yQ(t,e,n){return e=lRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lRe(t){var e=cRe(t,"string");return fb(e)=="symbol"?e:e+""}function cRe(t,e){if(fb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uRe(t,e){return pRe(t)||fRe(t,e)||dRe(t,e)||hRe()}function hRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dRe(t,e){if(t){if(typeof t=="string")return E8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E8(t,e)}}function E8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fRe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function pRe(t){if(Array.isArray(t))return t}var MS=Math.PI/180,gRe=function(e){return e*180/Math.PI},Ct=function(e,n,r,i){return{x:e+Math.cos(-MS*i)*r,y:n+Math.sin(-MS*i)*r}},vQ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},mRe=function(e,n,r,i,s){var o=e.width,a=e.height,l=e.startAngle,c=e.endAngle,u=Yr(e.cx,o,o/2),h=Yr(e.cy,a,a/2),d=vQ(o,a,r),p=Yr(e.innerRadius,d,0),y=Yr(e.outerRadius,d,d*.8),g=Object.keys(n);return g.reduce(function(v,b){var w=n[b],_=w.domain,S=w.reversed,x;if(Be(w.range))i==="angleAxis"?x=[l,c]:i==="radiusAxis"&&(x=[p,y]),S&&(x=[x[1],x[0]]);else{x=w.range;var T=x,A=uRe(T,2);l=A[0],c=A[1]}var E=dQ(w,s),O=E.realScaleType,M=E.scale;M.domain(_).range(x),fQ(M);var D=pQ(M,Ta(Ta({},w),{},{realScaleType:O})),$=Ta(Ta(Ta({},w),D),{},{range:x,radius:y,realScaleType:O,scale:M,cx:u,cy:h,innerRadius:p,outerRadius:y,startAngle:l,endAngle:c});return Ta(Ta({},v),{},yQ({},b,$))},{})},yRe=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-o,2))},vRe=function(e,n){var r=e.x,i=e.y,s=n.cx,o=n.cy,a=yRe({x:r,y:i},{x:s,y:o});if(a<=0)return{radius:a};var l=(r-s)/a,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:a,angle:gRe(c),angleInRadian:c}},bRe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return{startAngle:n-o*360,endAngle:r-o*360}},wRe=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),o=Math.floor(i/360),a=Math.min(s,o);return e+a*360},S8=function(e,n){var r=e.x,i=e.y,s=vRe({x:r,y:i},n),o=s.radius,a=s.angle,l=n.innerRadius,c=n.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var u=bRe(n),h=u.startAngle,d=u.endAngle,p=a,y;if(h<=d){for(;p>d;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=d}else{for(;p>h;)p-=360;for(;p<d;)p+=360;y=p>=d&&p<=h}return y?Ta(Ta({},n),{},{radius:o,angle:wRe(p,n)}):null},bQ=function(e){return!I.isValidElement(e)&&!De(e)&&typeof e!="boolean"?e.className:""};function pb(t){"@babel/helpers - typeof";return pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pb(t)}var _Re=["offset"];function xRe(t){return TRe(t)||SRe(t)||ERe(t)||ARe()}function ARe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ERe(t,e){if(t){if(typeof t=="string")return _M(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _M(t,e)}}function SRe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TRe(t){if(Array.isArray(t))return _M(t)}function _M(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PRe(t,e){if(t==null)return{};var n=CRe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CRe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function T8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function An(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T8(Object(n),!0).forEach(function(r){IRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IRe(t,e,n){return e=ORe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ORe(t){var e=kRe(t,"string");return pb(e)=="symbol"?e:e+""}function kRe(t,e){if(pb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gb(){return gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gb.apply(this,arguments)}var RRe=function(e){var n=e.value,r=e.formatter,i=Be(e.children)?n:e.children;return De(r)?r(i):i},NRe=function(e,n){var r=Xr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},MRe=function(e,n,r){var i=e.position,s=e.viewBox,o=e.offset,a=e.className,l=s,c=l.cx,u=l.cy,h=l.innerRadius,d=l.outerRadius,p=l.startAngle,y=l.endAngle,g=l.clockWise,v=(h+d)/2,b=NRe(p,y),w=b>=0?1:-1,_,S;i==="insideStart"?(_=p+w*o,S=g):i==="insideEnd"?(_=y-w*o,S=!g):i==="end"&&(_=y+w*o,S=g),S=b<=0?S:!S;var x=Ct(c,u,v,_),T=Ct(c,u,v,_+(S?1:-1)*359),A="M".concat(x.x,",").concat(x.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(T.x,",").concat(T.y),E=Be(e.id)?ky("recharts-radial-line-"):e.id;return U.createElement("text",gb({},r,{dominantBaseline:"central",className:Ue("recharts-radial-bar-label",a)}),U.createElement("defs",null,U.createElement("path",{id:E,d:A})),U.createElement("textPath",{xlinkHref:"#".concat(E)},n))},DRe=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,o=s.cx,a=s.cy,l=s.innerRadius,c=s.outerRadius,u=s.startAngle,h=s.endAngle,d=(u+h)/2;if(i==="outside"){var p=Ct(o,a,c+r,d),y=p.x,g=p.y;return{x:y,y:g,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,b=Ct(o,a,v,d),w=b.x,_=b.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},$Re=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,o=n,a=o.x,l=o.y,c=o.width,u=o.height,h=u>=0?1:-1,d=h*i,p=h>0?"end":"start",y=h>0?"start":"end",g=c>=0?1:-1,v=g*i,b=g>0?"end":"start",w=g>0?"start":"end";if(s==="top"){var _={x:a+c/2,y:l-h*i,textAnchor:"middle",verticalAnchor:p};return An(An({},_),r?{height:Math.max(l-r.y,0),width:c}:{})}if(s==="bottom"){var S={x:a+c/2,y:l+u+d,textAnchor:"middle",verticalAnchor:y};return An(An({},S),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(s==="left"){var x={x:a-v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return An(An({},x),r?{width:Math.max(x.x-r.x,0),height:u}:{})}if(s==="right"){var T={x:a+c+v,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return An(An({},T),r?{width:Math.max(r.x+r.width-T.x,0),height:u}:{})}var A=r?{width:c,height:u}:{};return s==="insideLeft"?An({x:a+v,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},A):s==="insideRight"?An({x:a+c-v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},A):s==="insideTop"?An({x:a+c/2,y:l+d,textAnchor:"middle",verticalAnchor:y},A):s==="insideBottom"?An({x:a+c/2,y:l+u-d,textAnchor:"middle",verticalAnchor:p},A):s==="insideTopLeft"?An({x:a+v,y:l+d,textAnchor:w,verticalAnchor:y},A):s==="insideTopRight"?An({x:a+c-v,y:l+d,textAnchor:b,verticalAnchor:y},A):s==="insideBottomLeft"?An({x:a+v,y:l+u-d,textAnchor:w,verticalAnchor:p},A):s==="insideBottomRight"?An({x:a+c-v,y:l+u-d,textAnchor:b,verticalAnchor:p},A):Py(s)&&(ge(s.x)||dh(s.x))&&(ge(s.y)||dh(s.y))?An({x:a+Yr(s.x,c),y:l+Yr(s.y,u),textAnchor:"end",verticalAnchor:"end"},A):An({x:a+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},A)},LRe=function(e){return"cx"in e&&ge(e.cx)};function Kn(t){var e=t.offset,n=e===void 0?5:e,r=PRe(t,_Re),i=An({offset:n},r),s=i.viewBox,o=i.position,a=i.value,l=i.children,c=i.content,u=i.className,h=u===void 0?"":u,d=i.textBreakAll;if(!s||Be(a)&&Be(l)&&!I.isValidElement(c)&&!De(c))return null;if(I.isValidElement(c))return I.cloneElement(c,i);var p;if(De(c)){if(p=I.createElement(c,i),I.isValidElement(p))return p}else p=RRe(i);var y=LRe(s),g=Oe(i,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return MRe(i,p,g);var v=y?DRe(i):$Re(i);return U.createElement(af,gb({className:Ue("recharts-label",h)},g,v,{breakAll:d}),p)}Kn.displayName="Label";var wQ=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,a=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,h=e.x,d=e.y,p=e.top,y=e.left,g=e.width,v=e.height,b=e.clockWise,w=e.labelViewBox;if(w)return w;if(ge(g)&&ge(v)){if(ge(h)&&ge(d))return{x:h,y:d,width:g,height:v};if(ge(p)&&ge(y))return{x:p,y,width:g,height:v}}return ge(h)&&ge(d)?{x:h,y:d,width:0,height:0}:ge(n)&&ge(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:u||l||a||0,clockWise:b}:e.viewBox?e.viewBox:{}},jRe=function(e,n){return e?e===!0?U.createElement(Kn,{key:"label-implicit",viewBox:n}):Rn(e)?U.createElement(Kn,{key:"label-implicit",viewBox:n,value:e}):I.isValidElement(e)?e.type===Kn?I.cloneElement(e,{key:"label-implicit",viewBox:n}):U.createElement(Kn,{key:"label-implicit",content:e,viewBox:n}):De(e)?U.createElement(Kn,{key:"label-implicit",content:e,viewBox:n}):Py(e)?U.createElement(Kn,gb({viewBox:n},e,{key:"label-implicit"})):null:null},FRe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=wQ(e),o=Qi(i,Kn).map(function(l,c){return I.cloneElement(l,{viewBox:n||s,key:"label-".concat(c)})});if(!r)return o;var a=jRe(e.label,n||s);return[a].concat(xRe(o))};Kn.parseViewBox=wQ;Kn.renderCallByParent=FRe;function VRe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var BRe=VRe;const URe=dt(BRe);function mb(t){"@babel/helpers - typeof";return mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mb(t)}var zRe=["valueAccessor"],HRe=["data","dataKey","clockWise","id","textBreakAll"];function WRe(t){return XRe(t)||KRe(t)||qRe(t)||GRe()}function GRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qRe(t,e){if(t){if(typeof t=="string")return xM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xM(t,e)}}function KRe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XRe(t){if(Array.isArray(t))return xM(t)}function xM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DS(){return DS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DS.apply(this,arguments)}function P8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P8(Object(n),!0).forEach(function(r){YRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YRe(t,e,n){return e=QRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QRe(t){var e=JRe(t,"string");return mb(e)=="symbol"?e:e+""}function JRe(t,e){if(mb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I8(t,e){if(t==null)return{};var n=ZRe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZRe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var eNe=function(e){return Array.isArray(e.value)?URe(e.value):e.value};function bl(t){var e=t.valueAccessor,n=e===void 0?eNe:e,r=I8(t,zRe),i=r.data,s=r.dataKey,o=r.clockWise,a=r.id,l=r.textBreakAll,c=I8(r,HRe);return!i||!i.length?null:U.createElement(at,{className:"recharts-label-list"},i.map(function(u,h){var d=Be(s)?n(u,h):On(u&&u.payload,s),p=Be(a)?{}:{id:"".concat(a,"-").concat(h)};return U.createElement(Kn,DS({},Oe(u,!0),c,p,{parentViewBox:u.parentViewBox,value:d,textBreakAll:l,viewBox:Kn.parseViewBox(Be(o)?u:C8(C8({},u),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}bl.displayName="LabelList";function tNe(t,e){return t?t===!0?U.createElement(bl,{key:"labelList-implicit",data:e}):U.isValidElement(t)||De(t)?U.createElement(bl,{key:"labelList-implicit",data:e,content:t}):Py(t)?U.createElement(bl,DS({data:e},t,{key:"labelList-implicit"})):null:null}function nNe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Qi(r,bl).map(function(o,a){return I.cloneElement(o,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var s=tNe(t.label,e);return[s].concat(WRe(i))}bl.renderCallByParent=nNe;function yb(t){"@babel/helpers - typeof";return yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yb(t)}function AM(){return AM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AM.apply(this,arguments)}function O8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O8(Object(n),!0).forEach(function(r){rNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rNe(t,e,n){return e=iNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iNe(t){var e=sNe(t,"string");return yb(e)=="symbol"?e:e+""}function sNe(t,e){if(yb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oNe=function(e,n){var r=Xr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Hx=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,o=e.sign,a=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(a?1:-1)+i,h=Math.asin(l/u)/MS,d=c?s:s+o*h,p=Ct(n,r,u,d),y=Ct(n,r,i,d),g=c?s-o*h:s,v=Ct(n,r,u*Math.cos(h*MS),g);return{center:p,circleTangency:y,lineTangency:v,theta:h}},_Q=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,a=e.endAngle,l=oNe(o,a),c=o+l,u=Ct(n,r,s,o),h=Ct(n,r,s,c),d="M ".concat(u.x,",").concat(u.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var p=Ct(n,r,i,o),y=Ct(n,r,i,c);d+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},aNe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,h=Xr(u-c),d=Hx({cx:n,cy:r,radius:s,angle:c,sign:h,cornerRadius:o,cornerIsExternal:l}),p=d.circleTangency,y=d.lineTangency,g=d.theta,v=Hx({cx:n,cy:r,radius:s,angle:u,sign:-h,cornerRadius:o,cornerIsExternal:l}),b=v.circleTangency,w=v.lineTangency,_=v.theta,S=l?Math.abs(c-u):Math.abs(c-u)-g-_;if(S<0)return a?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):_Q({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:u});var x="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(S>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var T=Hx({cx:n,cy:r,radius:i,angle:c,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),A=T.circleTangency,E=T.lineTangency,O=T.theta,M=Hx({cx:n,cy:r,radius:i,angle:u,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),D=M.circleTangency,$=M.lineTangency,L=M.theta,W=l?Math.abs(c-u):Math.abs(c-u)-O-L;if(W<0&&o===0)return"".concat(x,"L").concat(n,",").concat(r,"Z");x+="L".concat($.x,",").concat($.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(W>180),",").concat(+(h>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,"Z")}else x+="L".concat(n,",").concat(r,"Z");return x},lNe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},xQ=function(e){var n=k8(k8({},lNe),e),r=n.cx,i=n.cy,s=n.innerRadius,o=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,h=n.endAngle,d=n.className;if(o<s||u===h)return null;var p=Ue("recharts-sector",d),y=o-s,g=Yr(a,y,0,!0),v;return g>0&&Math.abs(u-h)<360?v=aNe({cx:r,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(g,y/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:h}):v=_Q({cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:u,endAngle:h}),U.createElement("path",AM({},Oe(n,!0),{className:p,d:v,role:"img"}))};function vb(t){"@babel/helpers - typeof";return vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vb(t)}function EM(){return EM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EM.apply(this,arguments)}function R8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function N8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R8(Object(n),!0).forEach(function(r){cNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cNe(t,e,n){return e=uNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uNe(t){var e=hNe(t,"string");return vb(e)=="symbol"?e:e+""}function hNe(t,e){if(vb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var M8={curveBasisClosed:dwe,curveBasisOpen:fwe,curveBasis:hwe,curveBumpX:Qbe,curveBumpY:Jbe,curveLinearClosed:pwe,curveLinear:uI,curveMonotoneX:gwe,curveMonotoneY:mwe,curveNatural:ywe,curveStep:vwe,curveStepAfter:wwe,curveStepBefore:bwe},Wx=function(e){return e.x===+e.x&&e.y===+e.y},yv=function(e){return e.x},vv=function(e){return e.y},dNe=function(e,n){if(De(e))return e;var r="curve".concat(lI(e));return(r==="curveMonotone"||r==="curveBump")&&n?M8["".concat(r).concat(n==="vertical"?"Y":"X")]:M8[r]||uI},fNe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,o=e.baseLine,a=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=dNe(r,a),h=c?s.filter(function(g){return Wx(g)}):s,d;if(Array.isArray(o)){var p=c?o.filter(function(g){return Wx(g)}):o,y=h.map(function(g,v){return N8(N8({},g),{},{base:p[v]})});return a==="vertical"?d=Dx().y(vv).x1(yv).x0(function(g){return g.base.x}):d=Dx().x(yv).y1(vv).y0(function(g){return g.base.y}),d.defined(Wx).curve(u),d(y)}return a==="vertical"&&ge(o)?d=Dx().y(vv).x1(yv).x0(o):ge(o)?d=Dx().x(yv).y1(vv).y0(o):d=mX().x(yv).y(vv),d.defined(Wx).curve(u),d(h)},$S=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?fNe(e):i;return U.createElement("path",EM({},Oe(e,!1),oS(e),{className:Ue("recharts-curve",n),d:o,ref:s}))},AQ={exports:{}},pNe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gNe=pNe,mNe=gNe;function EQ(){}function SQ(){}SQ.resetWarningCache=EQ;var yNe=function(){function t(r,i,s,o,a,l){if(l!==mNe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:SQ,resetWarningCache:EQ};return n.PropTypes=n,n};AQ.exports=yNe();var vNe=AQ.exports;const ut=dt(vNe);var bNe=Object.getOwnPropertyNames,wNe=Object.getOwnPropertySymbols,_Ne=Object.prototype.hasOwnProperty;function D8(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function Gx(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,o=s.get(n),a=s.get(r);if(o&&a)return o===r&&a===n;s.set(n,r),s.set(r,n);var l=t(n,r,i);return s.delete(n),s.delete(r),l}}function $8(t){return bNe(t).concat(wNe(t))}var xNe=Object.hasOwn||function(t,e){return _Ne.call(t,e)};function Pf(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var ANe="__v",ENe="__o",SNe="_owner",L8=Object.getOwnPropertyDescriptor,j8=Object.keys;function TNe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function PNe(t,e){return Pf(t.getTime(),e.getTime())}function CNe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function INe(t,e){return t===e}function F8(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),o,a,l=0;(o=s.next())&&!o.done;){for(var c=e.entries(),u=!1,h=0;(a=c.next())&&!a.done;){if(i[h]){h++;continue}var d=o.value,p=a.value;if(n.equals(d[0],p[0],l,h,t,e,n)&&n.equals(d[1],p[1],d[0],p[0],t,e,n)){u=i[h]=!0;break}h++}if(!u)return!1;l++}return!0}var ONe=Pf;function kNe(t,e,n){var r=j8(t),i=r.length;if(j8(e).length!==i)return!1;for(;i-- >0;)if(!TQ(t,e,n,r[i]))return!1;return!0}function bv(t,e,n){var r=$8(t),i=r.length;if($8(e).length!==i)return!1;for(var s,o,a;i-- >0;)if(s=r[i],!TQ(t,e,n,s)||(o=L8(t,s),a=L8(e,s),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable)))return!1;return!0}function RNe(t,e){return Pf(t.valueOf(),e.valueOf())}function NNe(t,e){return t.source===e.source&&t.flags===e.flags}function V8(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),o,a;(o=s.next())&&!o.done;){for(var l=e.values(),c=!1,u=0;(a=l.next())&&!a.done;){if(!i[u]&&n.equals(o.value,a.value,o.value,a.value,t,e,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function MNe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function DNe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function TQ(t,e,n,r){return(r===SNe||r===ENe||r===ANe)&&(t.$$typeof||e.$$typeof)?!0:xNe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var $Ne="[object Arguments]",LNe="[object Boolean]",jNe="[object Date]",FNe="[object Error]",VNe="[object Map]",BNe="[object Number]",UNe="[object Object]",zNe="[object RegExp]",HNe="[object Set]",WNe="[object String]",GNe="[object URL]",qNe=Array.isArray,B8=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,U8=Object.assign,KNe=Object.prototype.toString.call.bind(Object.prototype.toString);function XNe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,u=t.areSetsEqual,h=t.areTypedArraysEqual,d=t.areUrlsEqual;return function(y,g,v){if(y===g)return!0;if(y==null||g==null)return!1;var b=typeof y;if(b!==typeof g)return!1;if(b!=="object")return b==="number"?o(y,g,v):b==="function"?i(y,g,v):!1;var w=y.constructor;if(w!==g.constructor)return!1;if(w===Object)return a(y,g,v);if(qNe(y))return e(y,g,v);if(B8!=null&&B8(y))return h(y,g,v);if(w===Date)return n(y,g,v);if(w===RegExp)return c(y,g,v);if(w===Map)return s(y,g,v);if(w===Set)return u(y,g,v);var _=KNe(y);return _===jNe?n(y,g,v):_===zNe?c(y,g,v):_===VNe?s(y,g,v):_===HNe?u(y,g,v):_===UNe?typeof y.then!="function"&&typeof g.then!="function"&&a(y,g,v):_===GNe?d(y,g,v):_===FNe?r(y,g,v):_===$Ne?a(y,g,v):_===LNe||_===BNe||_===WNe?l(y,g,v):!1}}function YNe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?bv:TNe,areDatesEqual:PNe,areErrorsEqual:CNe,areFunctionsEqual:INe,areMapsEqual:r?D8(F8,bv):F8,areNumbersEqual:ONe,areObjectsEqual:r?bv:kNe,arePrimitiveWrappersEqual:RNe,areRegExpsEqual:NNe,areSetsEqual:r?D8(V8,bv):V8,areTypedArraysEqual:r?bv:MNe,areUrlsEqual:DNe};if(n&&(i=U8({},i,n(i))),e){var s=Gx(i.areArraysEqual),o=Gx(i.areMapsEqual),a=Gx(i.areObjectsEqual),l=Gx(i.areSetsEqual);i=U8({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:l})}return i}function QNe(t){return function(e,n,r,i,s,o,a){return t(e,n,a)}}function JNe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(l,c){var u=r(),h=u.cache,d=h===void 0?e?new WeakMap:void 0:h,p=u.meta;return n(l,c,{cache:d,equals:i,meta:p,strict:s})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,c){return n(l,c,o)}}var ZNe=Du();Du({strict:!0});Du({circular:!0});Du({circular:!0,strict:!0});Du({createInternalComparator:function(){return Pf}});Du({strict:!0,createInternalComparator:function(){return Pf}});Du({circular:!0,createInternalComparator:function(){return Pf}});Du({circular:!0,createInternalComparator:function(){return Pf},strict:!0});function Du(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,a=YNe(t),l=XNe(a),c=r?r(l):QNe(l);return JNe({circular:n,comparator:l,createState:i,equals:c,strict:o})}function eMe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function z8(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):eMe(i)};requestAnimationFrame(r)}function SM(t){"@babel/helpers - typeof";return SM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SM(t)}function tMe(t){return sMe(t)||iMe(t)||rMe(t)||nMe()}function nMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rMe(t,e){if(t){if(typeof t=="string")return H8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H8(t,e)}}function H8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sMe(t){if(Array.isArray(t))return t}function oMe(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,a=tMe(o),l=a[0],c=a.slice(1);if(typeof l=="number"){z8(i.bind(null,c),l);return}i(l),z8(i.bind(null,c));return}SM(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function bb(t){"@babel/helpers - typeof";return bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bb(t)}function W8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W8(Object(n),!0).forEach(function(r){PQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PQ(t,e,n){return e=aMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aMe(t){var e=lMe(t,"string");return bb(e)==="symbol"?e:String(e)}function lMe(t,e){if(bb(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cMe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},uMe=function(e){return e},hMe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},m0=function(e,n){return Object.keys(n).reduce(function(r,i){return G8(G8({},r),{},PQ({},i,e(i,n[i])))},{})},q8=function(e,n,r){return e.map(function(i){return"".concat(hMe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function dMe(t,e){return gMe(t)||pMe(t,e)||CQ(t,e)||fMe()}function fMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pMe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function gMe(t){if(Array.isArray(t))return t}function mMe(t){return bMe(t)||vMe(t)||CQ(t)||yMe()}function yMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CQ(t,e){if(t){if(typeof t=="string")return TM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TM(t,e)}}function vMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bMe(t){if(Array.isArray(t))return TM(t)}function TM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var LS=1e-4,IQ=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},OQ=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},K8=function(e,n){return function(r){var i=IQ(e,n);return OQ(i,r)}},wMe=function(e,n){return function(r){var i=IQ(e,n),s=[].concat(mMe(i.map(function(o,a){return o*a}).slice(1)),[0]);return OQ(s,r)}},X8=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],o=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,o=1,a=1;break;case"ease":i=.25,s=.1,o=.25,a=1;break;case"ease-in":i=.42,s=0,o=1,a=1;break;case"ease-out":i=.42,s=0,o=.58,a=1;break;case"ease-in-out":i=0,s=0,o=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=dMe(c,4);i=u[0],s=u[1],o=u[2],a=u[3]}}}var h=K8(i,o),d=K8(s,a),p=wMe(i,o),y=function(b){return b>1?1:b<0?0:b},g=function(b){for(var w=b>1?1:b,_=w,S=0;S<8;++S){var x=h(_)-w,T=p(_);if(Math.abs(x-w)<LS||T<LS)return d(_);_=y(_-x/T)}return d(_)};return g.isStepper=!1,g},_Me=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,o=e.dt,a=o===void 0?17:o,l=function(u,h,d){var p=-(u-h)*r,y=d*s,g=d+(p-y)*a/1e3,v=d*a/1e3+u;return Math.abs(v-h)<LS&&Math.abs(g)<LS?[h,0]:[v,g]};return l.isStepper=!0,l.dt=a,l},xMe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return X8(i);case"spring":return _Me();default:if(i.split("(")[0]==="cubic-bezier")return X8(i)}return typeof i=="function"?i:null};function wb(t){"@babel/helpers - typeof";return wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wb(t)}function Y8(t){return SMe(t)||EMe(t)||kQ(t)||AMe()}function AMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function SMe(t){if(Array.isArray(t))return CM(t)}function Q8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q8(Object(n),!0).forEach(function(r){PM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PM(t,e,n){return e=TMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TMe(t){var e=PMe(t,"string");return wb(e)==="symbol"?e:String(e)}function PMe(t,e){if(wb(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CMe(t,e){return kMe(t)||OMe(t,e)||kQ(t,e)||IMe()}function IMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kQ(t,e){if(t){if(typeof t=="string")return CM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CM(t,e)}}function CM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OMe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function kMe(t){if(Array.isArray(t))return t}var jS=function(e,n,r){return e+(n-e)*r},IM=function(e){var n=e.from,r=e.to;return n!==r},RMe=function t(e,n,r){var i=m0(function(s,o){if(IM(o)){var a=e(o.from,o.to,o.velocity),l=CMe(a,2),c=l[0],u=l[1];return ir(ir({},o),{},{from:c,velocity:u})}return o},n);return r<1?m0(function(s,o){return IM(o)?ir(ir({},o),{},{velocity:jS(o.velocity,i[s].velocity,r),from:jS(o.from,i[s].from,r)}):o},n):t(e,i,r-1)};const NMe=function(t,e,n,r,i){var s=cMe(t,e),o=s.reduce(function(v,b){return ir(ir({},v),{},PM({},b,[t[b],e[b]]))},{}),a=s.reduce(function(v,b){return ir(ir({},v),{},PM({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,c,u,h=function(){return null},d=function(){return m0(function(b,w){return w.from},a)},p=function(){return!Object.values(a).filter(IM).length},y=function(b){c||(c=b);var w=b-c,_=w/n.dt;a=RMe(n,a,_),i(ir(ir(ir({},t),e),d())),c=b,p()||(l=requestAnimationFrame(h))},g=function(b){u||(u=b);var w=(b-u)/r,_=m0(function(x,T){return jS.apply(void 0,Y8(T).concat([n(w)]))},o);if(i(ir(ir(ir({},t),e),_)),w<1)l=requestAnimationFrame(h);else{var S=m0(function(x,T){return jS.apply(void 0,Y8(T).concat([n(1)]))},o);i(ir(ir(ir({},t),e),S))}};return h=n.isStepper?y:g,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(l)}}};function Xm(t){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xm(t)}var MMe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function DMe(t,e){if(t==null)return{};var n=$Me(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $Me(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Sk(t){return VMe(t)||FMe(t)||jMe(t)||LMe()}function LMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jMe(t,e){if(t){if(typeof t=="string")return OM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OM(t,e)}}function FMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function VMe(t){if(Array.isArray(t))return OM(t)}function OM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function J8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function js(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J8(Object(n),!0).forEach(function(r){Xv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xv(t,e,n){return e=RQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RQ(r.key),r)}}function UMe(t,e,n){return e&&Z8(t.prototype,e),n&&Z8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function RQ(t){var e=zMe(t,"string");return Xm(e)==="symbol"?e:String(e)}function zMe(t,e){if(Xm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kM(t,e)}function kM(t,e){return kM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kM(t,e)}function WMe(t){var e=GMe();return function(){var r=FS(t),i;if(e){var s=FS(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return RM(this,i)}}function RM(t,e){if(e&&(Xm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NM(t)}function NM(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GMe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function FS(t){return FS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},FS(t)}var TI=function(t){HMe(n,t);var e=WMe(n);function n(r,i){var s;BMe(this,n),s=e.call(this,r,i);var o=s.props,a=o.isActive,l=o.attributeName,c=o.from,u=o.to,h=o.steps,d=o.children,p=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(NM(s)),s.changeStyle=s.changeStyle.bind(NM(s)),!a||p<=0)return s.state={style:{}},typeof d=="function"&&(s.state={style:u}),RM(s);if(h&&h.length)s.state={style:h[0].style};else if(c){if(typeof d=="function")return s.state={style:c},RM(s);s.state={style:l?Xv({},l,c):c}}else s.state={style:{}};return s}return UMe(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,a=s.canBegin,l=s.attributeName,c=s.shouldReAnimate,u=s.to,h=s.from,d=this.state.style;if(a){if(!o){var p={style:l?Xv({},l,u):u};this.state&&d&&(l&&d[l]!==u||!l&&d!==u)&&this.setState(p);return}if(!(ZNe(i.to,u)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=y||c?h:i.to;if(this.state&&d){var v={style:l?Xv({},l,g):g};(l&&d[l]!==g||!l&&d!==g)&&this.setState(v)}this.runAnimation(js(js({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,a=i.to,l=i.duration,c=i.easing,u=i.begin,h=i.onAnimationEnd,d=i.onAnimationStart,p=NMe(o,a,xMe(c),l,this.changeStyle),y=function(){s.stopJSAnimation=p()};this.manager.start([d,u,y,l,h])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,a=i.begin,l=i.onAnimationStart,c=o[0],u=c.style,h=c.duration,d=h===void 0?0:h,p=function(g,v,b){if(b===0)return g;var w=v.duration,_=v.easing,S=_===void 0?"ease":_,x=v.style,T=v.properties,A=v.onAnimationEnd,E=b>0?o[b-1]:v,O=T||Object.keys(x);if(typeof S=="function"||S==="spring")return[].concat(Sk(g),[s.runJSAnimation.bind(s,{from:E.style,to:x,duration:w,easing:S}),w]);var M=q8(O,w,S),D=js(js(js({},E.style),x),{},{transition:M});return[].concat(Sk(g),[D,w,A]).filter(uMe)};return this.manager.start([l].concat(Sk(o.reduce(p,[u,Math.max(d,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=oMe());var s=i.begin,o=i.duration,a=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,h=i.onAnimationEnd,d=i.steps,p=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var g=a?Xv({},a,l):l,v=q8(Object.keys(g),o,c);y.start([u,s,js(js({},g),{},{transition:v}),o,h])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=DMe(i,MMe),c=I.Children.count(s),u=this.state.style;if(typeof s=="function")return s(u);if(!a||c===0||o<=0)return s;var h=function(p){var y=p.props,g=y.style,v=g===void 0?{}:g,b=y.className,w=I.cloneElement(p,js(js({},l),{},{style:js(js({},v),u),className:b}));return w};return c===1?h(I.Children.only(s)):U.createElement("div",null,I.Children.map(s,function(d){return h(d)}))}}]),n}(I.PureComponent);TI.displayName="Animate";TI.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};TI.propTypes={from:ut.oneOfType([ut.object,ut.string]),to:ut.oneOfType([ut.object,ut.string]),attributeName:ut.string,duration:ut.number,begin:ut.number,easing:ut.oneOfType([ut.string,ut.func]),steps:ut.arrayOf(ut.shape({duration:ut.number.isRequired,style:ut.object.isRequired,easing:ut.oneOfType([ut.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ut.func]),properties:ut.arrayOf("string"),onAnimationEnd:ut.func})),children:ut.oneOfType([ut.node,ut.func]),isActive:ut.bool,canBegin:ut.bool,onAnimationEnd:ut.func,shouldReAnimate:ut.bool,onAnimationStart:ut.func,onAnimationReStart:ut.func};const uf=TI;function _b(t){"@babel/helpers - typeof";return _b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_b(t)}function VS(){return VS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VS.apply(this,arguments)}function qMe(t,e){return QMe(t)||YMe(t,e)||XMe(t,e)||KMe()}function KMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XMe(t,e){if(t){if(typeof t=="string")return eB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eB(t,e)}}function eB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YMe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function QMe(t){if(Array.isArray(t))return t}function tB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tB(Object(n),!0).forEach(function(r){JMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JMe(t,e,n){return e=ZMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZMe(t){var e=eDe(t,"string");return _b(e)=="symbol"?e:e+""}function eDe(t,e){if(_b(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_b(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rB=function(e,n,r,i,s){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(o>0&&s instanceof Array){for(var h=[0,0,0,0],d=0,p=4;d<p;d++)h[d]=s[d]>o?o:s[d];u="M".concat(e,",").concat(n+a*h[0]),h[0]>0&&(u+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(e+l*h[0],",").concat(n)),u+="L ".concat(e+r-l*h[1],",").concat(n),h[1]>0&&(u+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+a*h[1])),u+="L ".concat(e+r,",").concat(n+i-a*h[2]),h[2]>0&&(u+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(e+r-l*h[2],",").concat(n+i)),u+="L ".concat(e+l*h[3],",").concat(n+i),h[3]>0&&(u+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-a*h[3])),u+="Z"}else if(o>0&&s===+s&&s>0){var y=Math.min(o,s);u="M ".concat(e,",").concat(n+a*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+l*y,",").concat(n,`
            L `).concat(e+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+r,",").concat(n+a*y,`
            L `).concat(e+r,",").concat(n+i-a*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+r-l*y,",").concat(n+i,`
            L `).concat(e+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e,",").concat(n+i-a*y," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},tDe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,o=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var c=Math.min(s,s+a),u=Math.max(s,s+a),h=Math.min(o,o+l),d=Math.max(o,o+l);return r>=c&&r<=u&&i>=h&&i<=d}return!1},nDe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gj=function(e){var n=nB(nB({},nDe),e),r=I.useRef(),i=I.useState(-1),s=qMe(i,2),o=s[0],a=s[1];I.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&a(S)}catch{}},[]);var l=n.x,c=n.y,u=n.width,h=n.height,d=n.radius,p=n.className,y=n.animationEasing,g=n.animationDuration,v=n.animationBegin,b=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||h!==+h||u===0||h===0)return null;var _=Ue("recharts-rectangle",p);return w?U.createElement(uf,{canBegin:o>0,from:{width:u,height:h,x:l,y:c},to:{width:u,height:h,x:l,y:c},duration:g,animationEasing:y,isActive:w},function(S){var x=S.width,T=S.height,A=S.x,E=S.y;return U.createElement(uf,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:b,easing:y},U.createElement("path",VS({},Oe(n,!0),{className:_,d:rB(A,E,x,T,d),ref:r})))}):U.createElement("path",VS({},Oe(n,!0),{className:_,d:rB(l,c,u,h,d)}))},rDe=["points","className","baseLinePoints","connectNulls"];function bp(){return bp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bp.apply(this,arguments)}function iDe(t,e){if(t==null)return{};var n=sDe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sDe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function iB(t){return cDe(t)||lDe(t)||aDe(t)||oDe()}function oDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aDe(t,e){if(t){if(typeof t=="string")return MM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MM(t,e)}}function lDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cDe(t){if(Array.isArray(t))return MM(t)}function MM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var sB=function(e){return e&&e.x===+e.x&&e.y===+e.y},uDe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){sB(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),sB(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},y0=function(e,n){var r=uDe(e);n&&(r=[r.reduce(function(s,o){return[].concat(iB(s),iB(o))},[])]);var i=r.map(function(s){return s.reduce(function(o,a,l){return"".concat(o).concat(l===0?"M":"L").concat(a.x,",").concat(a.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},hDe=function(e,n,r){var i=y0(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(y0(n.reverse(),r).slice(1))},dDe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,s=e.connectNulls,o=iDe(e,rDe);if(!n||!n.length)return null;var a=Ue("recharts-polygon",r);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",c=hDe(n,i,s);return U.createElement("g",{className:a},U.createElement("path",bp({},Oe(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:c})),l?U.createElement("path",bp({},Oe(o,!0),{fill:"none",d:y0(n,s)})):null,l?U.createElement("path",bp({},Oe(o,!0),{fill:"none",d:y0(i,s)})):null)}var u=y0(n,s);return U.createElement("path",bp({},Oe(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:a,d:u}))};function DM(){return DM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DM.apply(this,arguments)}var PI=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,o=Ue("recharts-dot",s);return n===+n&&r===+r&&i===+i?U.createElement("circle",DM({},Oe(e,!1),oS(e),{className:o,cx:n,cy:r,r:i})):null};function xb(t){"@babel/helpers - typeof";return xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xb(t)}var fDe=["x","y","top","left","width","height","className"];function $M(){return $M=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$M.apply(this,arguments)}function oB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pDe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oB(Object(n),!0).forEach(function(r){gDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gDe(t,e,n){return e=mDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mDe(t){var e=yDe(t,"string");return xb(e)=="symbol"?e:e+""}function yDe(t,e){if(xb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vDe(t,e){if(t==null)return{};var n=bDe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bDe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var wDe=function(e,n,r,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},_De=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.top,a=o===void 0?0:o,l=e.left,c=l===void 0?0:l,u=e.width,h=u===void 0?0:u,d=e.height,p=d===void 0?0:d,y=e.className,g=vDe(e,fDe),v=pDe({x:r,y:s,top:a,left:c,width:h,height:p},g);return!ge(r)||!ge(s)||!ge(h)||!ge(p)||!ge(a)||!ge(c)?null:U.createElement("path",$M({},Oe(v,!0),{className:Ue("recharts-cross",y),d:wDe(r,s,h,p,a,c)}))},xDe=_I,ADe=HY,EDe=ma;function SDe(t,e){return t&&t.length?xDe(t,EDe(e),ADe):void 0}var TDe=SDe;const PDe=dt(TDe);var CDe=_I,IDe=ma,ODe=WY;function kDe(t,e){return t&&t.length?CDe(t,IDe(e),ODe):void 0}var RDe=kDe;const NDe=dt(RDe);var MDe=["cx","cy","angle","ticks","axisLine"],DDe=["ticks","tick","angle","tickFormatter","stroke"];function Ym(t){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ym(t)}function v0(){return v0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v0.apply(this,arguments)}function aB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aB(Object(n),!0).forEach(function(r){CI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lB(t,e){if(t==null)return{};var n=$De(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $De(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function LDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MQ(r.key),r)}}function jDe(t,e,n){return e&&cB(t.prototype,e),n&&cB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function FDe(t,e,n){return e=BS(e),VDe(t,NQ()?Reflect.construct(e,n||[],BS(t).constructor):e.apply(t,n))}function VDe(t,e){if(e&&(Ym(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BDe(t)}function BDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NQ=function(){return!!t})()}function BS(t){return BS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},BS(t)}function UDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LM(t,e)}function LM(t,e){return LM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LM(t,e)}function CI(t,e,n){return e=MQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MQ(t){var e=zDe(t,"string");return Ym(e)=="symbol"?e:e+""}function zDe(t,e){if(Ym(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var II=function(t){function e(){return LDe(this,e),FDe(this,e,arguments)}return UDe(e,t),jDe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,o=s.angle,a=s.cx,l=s.cy;return Ct(a,l,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,a=r.ticks,l=PDe(a,function(u){return u.coordinate||0}),c=NDe(a,function(u){return u.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,a=r.ticks,l=r.axisLine,c=lB(r,MDe),u=a.reduce(function(y,g){return[Math.min(y[0],g.coordinate),Math.max(y[1],g.coordinate)]},[1/0,-1/0]),h=Ct(i,s,u[0],o),d=Ct(i,s,u[1],o),p=Hu(Hu(Hu({},Oe(c,!1)),{},{fill:"none"},Oe(l,!1)),{},{x1:h.x,y1:h.y,x2:d.x,y2:d.y});return U.createElement("line",v0({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,a=i.angle,l=i.tickFormatter,c=i.stroke,u=lB(i,DDe),h=this.getTickTextAnchor(),d=Oe(u,!1),p=Oe(o,!1),y=s.map(function(g,v){var b=r.getTickValueCoord(g),w=Hu(Hu(Hu(Hu({textAnchor:h,transform:"rotate(".concat(90-a,", ").concat(b.x,", ").concat(b.y,")")},d),{},{stroke:"none",fill:c},p),{},{index:v},b),{},{payload:g});return U.createElement(at,v0({className:Ue("recharts-polar-radius-axis-tick",bQ(o)),key:"tick-".concat(g.coordinate)},of(r.props,g,v)),e.renderTickItem(o,w,l?l(g.value,v):g.value))});return U.createElement(at,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,o=r.tick;return!i||!i.length?null:U.createElement(at,{className:Ue("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),Kn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var o;return U.isValidElement(r)?o=U.cloneElement(r,i):De(r)?o=r(i):o=U.createElement(af,v0({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(I.PureComponent);CI(II,"displayName","PolarRadiusAxis");CI(II,"axisType","radiusAxis");CI(II,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Qm(t){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qm(t)}function th(){return th=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},th.apply(this,arguments)}function uB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uB(Object(n),!0).forEach(function(r){OI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$Q(r.key),r)}}function WDe(t,e,n){return e&&hB(t.prototype,e),n&&hB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function GDe(t,e,n){return e=US(e),qDe(t,DQ()?Reflect.construct(e,n||[],US(t).constructor):e.apply(t,n))}function qDe(t,e){if(e&&(Qm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KDe(t)}function KDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DQ=function(){return!!t})()}function US(t){return US=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},US(t)}function XDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jM(t,e)}function jM(t,e){return jM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jM(t,e)}function OI(t,e,n){return e=$Q(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Q(t){var e=YDe(t,"string");return Qm(e)=="symbol"?e:e+""}function YDe(t,e){if(Qm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QDe=Math.PI/180,dB=1e-5,kI=function(t){function e(){return HDe(this,e),GDe(this,e,arguments)}return XDe(e,t),WDe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,o=i.cy,a=i.radius,l=i.orientation,c=i.tickSize,u=c||8,h=Ct(s,o,a,r.coordinate),d=Ct(s,o,a+(l==="inner"?-1:1)*u,r.coordinate);return{x1:h.x,y1:h.y,x2:d.x,y2:d.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*QDe),o;return s>dB?o=i==="outer"?"start":"end":s<-dB?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.radius,a=r.axisLine,l=r.axisLineType,c=Wu(Wu({},Oe(this.props,!1)),{},{fill:"none"},Oe(a,!1));if(l==="circle")return U.createElement(PI,th({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:s,r:o}));var u=this.props.ticks,h=u.map(function(d){return Ct(i,s,o,d.coordinate)});return U.createElement(dDe,th({className:"recharts-polar-angle-axis-line"},c,{points:h}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,a=i.tickLine,l=i.tickFormatter,c=i.stroke,u=Oe(this.props,!1),h=Oe(o,!1),d=Wu(Wu({},u),{},{fill:"none"},Oe(a,!1)),p=s.map(function(y,g){var v=r.getTickLineCoord(y),b=r.getTickTextAnchor(y),w=Wu(Wu(Wu({textAnchor:b},u),{},{stroke:"none",fill:c},h),{},{index:g,payload:y,x:v.x2,y:v.y2});return U.createElement(at,th({className:Ue("recharts-polar-angle-axis-tick",bQ(o)),key:"tick-".concat(y.coordinate)},of(r.props,y,g)),a&&U.createElement("line",th({className:"recharts-polar-angle-axis-tick-line"},d,v)),o&&e.renderTickItem(o,w,l?l(y.value,g):y.value))});return U.createElement(at,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,o=r.axisLine;return s<=0||!i||!i.length?null:U.createElement(at,{className:Ue("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var o;return U.isValidElement(r)?o=U.cloneElement(r,i):De(r)?o=r(i):o=U.createElement(af,th({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(I.PureComponent);OI(kI,"displayName","PolarAngleAxis");OI(kI,"axisType","angleAxis");OI(kI,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var JDe=VX,ZDe=JDe(Object.getPrototypeOf,Object),e$e=ZDe,t$e=jl,n$e=e$e,r$e=Fl,i$e="[object Object]",s$e=Function.prototype,o$e=Object.prototype,LQ=s$e.toString,a$e=o$e.hasOwnProperty,l$e=LQ.call(Object);function c$e(t){if(!r$e(t)||t$e(t)!=i$e)return!1;var e=n$e(t);if(e===null)return!0;var n=a$e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&LQ.call(n)==l$e}var u$e=c$e;const h$e=dt(u$e);var d$e=jl,f$e=Fl,p$e="[object Boolean]";function g$e(t){return t===!0||t===!1||f$e(t)&&d$e(t)==p$e}var m$e=g$e;const y$e=dt(m$e);function Ab(t){"@babel/helpers - typeof";return Ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ab(t)}function zS(){return zS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zS.apply(this,arguments)}function v$e(t,e){return x$e(t)||_$e(t,e)||w$e(t,e)||b$e()}function b$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w$e(t,e){if(t){if(typeof t=="string")return fB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fB(t,e)}}function fB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _$e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function x$e(t){if(Array.isArray(t))return t}function pB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pB(Object(n),!0).forEach(function(r){A$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A$e(t,e,n){return e=E$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E$e(t){var e=S$e(t,"string");return Ab(e)=="symbol"?e:e+""}function S$e(t,e){if(Ab(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ab(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mB=function(e,n,r,i,s){var o=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-o/2,",").concat(n+s),a+="L ".concat(e+r-o/2-i,",").concat(n+s),a+="L ".concat(e,",").concat(n," Z"),a},T$e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},P$e=function(e){var n=gB(gB({},T$e),e),r=I.useRef(),i=I.useState(-1),s=v$e(i,2),o=s[0],a=s[1];I.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&a(_)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,h=n.lowerWidth,d=n.height,p=n.className,y=n.animationEasing,g=n.animationDuration,v=n.animationBegin,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||h!==+h||d!==+d||u===0&&h===0||d===0)return null;var w=Ue("recharts-trapezoid",p);return b?U.createElement(uf,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:c},to:{upperWidth:u,lowerWidth:h,height:d,x:l,y:c},duration:g,animationEasing:y,isActive:b},function(_){var S=_.upperWidth,x=_.lowerWidth,T=_.height,A=_.x,E=_.y;return U.createElement(uf,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:y},U.createElement("path",zS({},Oe(n,!0),{className:w,d:mB(A,E,S,x,T),ref:r})))}):U.createElement("g",null,U.createElement("path",zS({},Oe(n,!0),{className:w,d:mB(l,c,u,h,d)})))},C$e=["option","shapeType","propTransformer","activeClassName","isActive"];function Eb(t){"@babel/helpers - typeof";return Eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eb(t)}function I$e(t,e){if(t==null)return{};var n=O$e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function O$e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yB(Object(n),!0).forEach(function(r){k$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k$e(t,e,n){return e=R$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R$e(t){var e=N$e(t,"string");return Eb(e)=="symbol"?e:e+""}function N$e(t,e){if(Eb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Eb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M$e(t,e){return HS(HS({},e),t)}function D$e(t,e){return t==="symbols"}function vB(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return U.createElement(gj,n);case"trapezoid":return U.createElement(P$e,n);case"sector":return U.createElement(xQ,n);case"symbols":if(D$e(e))return U.createElement(ML,n);break;default:return null}}function $$e(t){return I.isValidElement(t)?t.props:t}function jQ(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?M$e:r,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,a=t.isActive,l=I$e(t,C$e),c;if(I.isValidElement(e))c=I.cloneElement(e,HS(HS({},l),$$e(e)));else if(De(e))c=e(l);else if(h$e(e)&&!y$e(e)){var u=i(e,l);c=U.createElement(vB,{shapeType:n,elementProps:u})}else{var h=l;c=U.createElement(vB,{shapeType:n,elementProps:h})}return a?U.createElement(at,{className:o},c):c}function RI(t,e){return e!=null&&"trapezoids"in t.props}function NI(t,e){return e!=null&&"sectors"in t.props}function Sb(t,e){return e!=null&&"points"in t.props}function L$e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function j$e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function F$e(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function V$e(t,e){var n;return RI(t,e)?n=L$e:NI(t,e)?n=j$e:Sb(t,e)&&(n=F$e),n}function B$e(t,e){var n;return RI(t,e)?n="trapezoids":NI(t,e)?n="sectors":Sb(t,e)&&(n="points"),n}function U$e(t,e){if(RI(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(NI(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Sb(t,e)?e.payload:{}}function z$e(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=B$e(n,e),s=U$e(n,e),o=r.filter(function(l,c){var u=C1(s,l),h=n.props[i].filter(function(y){var g=V$e(n,e);return g(y,e)}),d=n.props[i].indexOf(h[h.length-1]),p=c===d;return u&&p}),a=r.indexOf(o[o.length-1]);return a}var JA;function Jm(t){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jm(t)}function wp(){return wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wp.apply(this,arguments)}function bB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Et(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bB(Object(n),!0).forEach(function(r){ws(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VQ(r.key),r)}}function W$e(t,e,n){return e&&wB(t.prototype,e),n&&wB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function G$e(t,e,n){return e=WS(e),q$e(t,FQ()?Reflect.construct(e,n||[],WS(t).constructor):e.apply(t,n))}function q$e(t,e){if(e&&(Jm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K$e(t)}function K$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FQ=function(){return!!t})()}function WS(t){return WS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},WS(t)}function X$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FM(t,e)}function FM(t,e){return FM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FM(t,e)}function ws(t,e,n){return e=VQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VQ(t){var e=Y$e(t,"string");return Jm(e)=="symbol"?e:e+""}function Y$e(t,e){if(Jm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kr=function(t){function e(n){var r;return H$e(this,e),r=G$e(this,e,[n]),ws(r,"pieRef",null),ws(r,"sectorRefs",[]),ws(r,"id",ky("recharts-pie-")),ws(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),De(i)&&i()}),ws(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),De(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return X$e(e,t),W$e(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,a=s.labelLine,l=s.dataKey,c=s.valueKey,u=Oe(this.props,!1),h=Oe(o,!1),d=Oe(a,!1),p=o&&o.offsetRadius||20,y=r.map(function(g,v){var b=(g.startAngle+g.endAngle)/2,w=Ct(g.cx,g.cy,g.outerRadius+p,b),_=Et(Et(Et(Et({},u),g),{},{stroke:"none"},h),{},{index:v,textAnchor:e.getTextAnchor(w.x,g.cx)},w),S=Et(Et(Et(Et({},u),g),{},{fill:"none",stroke:g.fill},d),{},{index:v,points:[Ct(g.cx,g.cy,g.outerRadius,b),w]}),x=l;return Be(l)&&Be(c)?x="value":Be(l)&&(x=c),U.createElement(at,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},a&&e.renderLabelLineItem(a,S,"line"),e.renderLabelItem(o,_,On(g,x)))});return U.createElement(at,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,o=s.activeShape,a=s.blendStroke,l=s.inactiveShape;return r.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var h=i.isActiveIndex(u),d=l&&i.hasActiveIndex()?l:null,p=h?o:d,y=Et(Et({},c),{},{stroke:a?c.fill:c.stroke,tabIndex:-1});return U.createElement(at,wp({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},of(i.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),U.createElement(jQ,wp({option:p,isActive:h,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,o=i.isAnimationActive,a=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,h=this.state,d=h.prevSectors,p=h.prevIsAnimationActive;return U.createElement(uf,{begin:a,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var g=y.t,v=[],b=s&&s[0],w=b.startAngle;return s.forEach(function(_,S){var x=d&&d[S],T=S>0?Yi(_,"paddingAngle",0):0;if(x){var A=Hi(x.endAngle-x.startAngle,_.endAngle-_.startAngle),E=Et(Et({},_),{},{startAngle:w+T,endAngle:w+A(g)+T});v.push(E),w=E.endAngle}else{var O=_.endAngle,M=_.startAngle,D=Hi(0,O-M),$=D(g),L=Et(Et({},_),{},{startAngle:w+T,endAngle:w+$+T});v.push(L),w=L.endAngle}}),U.createElement(at,null,r.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var a=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!C1(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,o=i.sectors,a=i.className,l=i.label,c=i.cx,u=i.cy,h=i.innerRadius,d=i.outerRadius,p=i.isAnimationActive,y=this.state.isAnimationFinished;if(s||!o||!o.length||!ge(c)||!ge(u)||!ge(h)||!ge(d))return null;var g=Ue("recharts-pie",a);return U.createElement(at,{tabIndex:this.props.rootTabIndex,className:g,ref:function(b){r.pieRef=b}},this.renderSectors(),l&&this.renderLabels(o),Kn.renderCallByParent(this.props,null,!1),(!p||y)&&bl.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(U.isValidElement(r))return U.cloneElement(r,i);if(De(r))return r(i);var o=Ue("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return U.createElement($S,wp({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,s){if(U.isValidElement(r))return U.cloneElement(r,i);var o=s;if(De(r)&&(o=r(i),U.isValidElement(o)))return o;var a=Ue("recharts-pie-label-text",typeof r!="boolean"&&!De(r)?r.className:"");return U.createElement(af,wp({},i,{alignmentBaseline:"middle",className:a}),o)}}])}(I.PureComponent);JA=kr;ws(kr,"displayName","Pie");ws(kr,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!sa.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ws(kr,"parseDeltaAngle",function(t,e){var n=Xr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});ws(kr,"getRealPieData",function(t){var e=t.data,n=t.children,r=Oe(t,!1),i=Qi(n,Bs);return e&&e.length?e.map(function(s,o){return Et(Et(Et({payload:s},r),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return Et(Et({},r),s.props)}):[]});ws(kr,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,s=e.height,o=vQ(i,s),a=r+Yr(t.cx,i,i/2),l=n+Yr(t.cy,s,s/2),c=Yr(t.innerRadius,o,0),u=Yr(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:a,cy:l,innerRadius:c,outerRadius:u,maxRadius:h}});ws(kr,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Et(Et({},e.type.defaultProps),e.props):e.props,i=JA.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,o=r.startAngle,a=r.endAngle,l=r.paddingAngle,c=r.dataKey,u=r.nameKey,h=r.valueKey,d=r.tooltipType,p=Math.abs(r.minAngle),y=JA.parseCoordinateOfPie(r,n),g=JA.parseDeltaAngle(o,a),v=Math.abs(g),b=c;Be(c)&&Be(h)?(mo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):Be(c)&&(mo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=h);var w=i.filter(function(E){return On(E,b,0)!==0}).length,_=(v>=360?w:w-1)*l,S=v-w*p-_,x=i.reduce(function(E,O){var M=On(O,b,0);return E+(ge(M)?M:0)},0),T;if(x>0){var A;T=i.map(function(E,O){var M=On(E,b,0),D=On(E,u,O),$=(ge(M)?M:0)/x,L;O?L=A.endAngle+Xr(g)*l*(M!==0?1:0):L=o;var W=L+Xr(g)*((M!==0?p:0)+$*S),q=(L+W)/2,H=(y.innerRadius+y.outerRadius)/2,G=[{name:D,value:M,payload:E,dataKey:b,type:d}],z=Ct(y.cx,y.cy,H,q);return A=Et(Et(Et({percent:$,cornerRadius:s,name:D,tooltipPayload:G,midAngle:q,middleRadius:H,tooltipPosition:z},E),y),{},{value:On(E,b),startAngle:L,endAngle:W,payload:E,paddingAngle:Xr(g)*l}),A})}return Et(Et({},y),{},{sectors:T,data:i})});var Q$e=Math.ceil,J$e=Math.max;function Z$e(t,e,n,r){for(var i=-1,s=J$e(Q$e((e-t)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=t,t+=n;return o}var eLe=Z$e,tLe=sY,_B=1/0,nLe=17976931348623157e292;function rLe(t){if(!t)return t===0?t:0;if(t=tLe(t),t===_B||t===-_B){var e=t<0?-1:1;return e*nLe}return t===t?t:0}var BQ=rLe,iLe=eLe,sLe=pI,Tk=BQ;function oLe(t){return function(e,n,r){return r&&typeof r!="number"&&sLe(e,n,r)&&(n=r=void 0),e=Tk(e),n===void 0?(n=e,e=0):n=Tk(n),r=r===void 0?e<n?1:-1:Tk(r),iLe(e,n,r,t)}}var aLe=oLe,lLe=aLe,cLe=lLe(),uLe=cLe;const GS=dt(uLe);function Tb(t){"@babel/helpers - typeof";return Tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tb(t)}function xB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xB(Object(n),!0).forEach(function(r){UQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UQ(t,e,n){return e=hLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hLe(t){var e=dLe(t,"string");return Tb(e)=="symbol"?e:e+""}function dLe(t,e){if(Tb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fLe=["Webkit","Moz","O","ms"],pLe=function(e,n){if(!e)return null;var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=fLe.reduce(function(s,o){return AB(AB({},s),{},UQ({},o+r,n))},{});return i[e]=n,i};function Zm(t){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(t)}function qS(){return qS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qS.apply(this,arguments)}function EB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EB(Object(n),!0).forEach(function(r){Ei(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HQ(r.key),r)}}function mLe(t,e,n){return e&&SB(t.prototype,e),n&&SB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yLe(t,e,n){return e=KS(e),vLe(t,zQ()?Reflect.construct(e,n||[],KS(t).constructor):e.apply(t,n))}function vLe(t,e){if(e&&(Zm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bLe(t)}function bLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zQ=function(){return!!t})()}function KS(t){return KS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},KS(t)}function wLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VM(t,e)}function VM(t,e){return VM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VM(t,e)}function Ei(t,e,n){return e=HQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HQ(t){var e=_Le(t,"string");return Zm(e)=="symbol"?e:e+""}function _Le(t,e){if(Zm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xLe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,o=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=p0().domain(GS(0,l)).range([s,s+o-a]),u=c.domain().map(function(h){return c(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},TB=function(e){return e.changedTouches&&!!e.changedTouches.length},ey=function(t){function e(n){var r;return gLe(this,e),r=yLe(this,e,[n]),Ei(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Ei(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Ei(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,o=i.onDragEnd,a=i.startIndex;o==null||o({endIndex:s,startIndex:a})}),r.detachDragEndListener()}),Ei(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ei(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ei(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ei(r,"handleSlideDragStart",function(i){var s=TB(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return wLe(e,t),mLe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,o=this.state.scaleValues,a=this.props,l=a.gap,c=a.data,u=c.length-1,h=Math.min(i,s),d=Math.max(i,s),p=e.getIndexInRange(o,h),y=e.getIndexInRange(o,d);return{startIndex:p-p%l,endIndex:y===u?u:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,o=i.tickFormatter,a=i.dataKey,l=On(s[r],a,r);return De(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,o=i.startX,a=i.endX,l=this.props,c=l.x,u=l.width,h=l.travellerWidth,d=l.startIndex,p=l.endIndex,y=l.onChange,g=r.pageX-s;g>0?g=Math.min(g,c+u-h-a,c+u-h-o):g<0&&(g=Math.max(g,c-o,c-a));var v=this.getIndex({startX:o+g,endX:a+g});(v.startIndex!==d||v.endIndex!==p)&&y&&y(v),this.setState({startX:o+g,endX:a+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=TB(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,a=i.endX,l=i.startX,c=this.state[o],u=this.props,h=u.x,d=u.width,p=u.travellerWidth,y=u.onChange,g=u.gap,v=u.data,b={startX:this.state.startX,endX:this.state.endX},w=r.pageX-s;w>0?w=Math.min(w,h+d-p-c):w<0&&(w=Math.max(w,h-c)),b[o]=c+w;var _=this.getIndex(b),S=_.startIndex,x=_.endIndex,T=function(){var E=v.length-1;return o==="startX"&&(a>l?S%g===0:x%g===0)||a<l&&x===E||o==="endX"&&(a>l?x%g===0:S%g===0)||a>l&&x===E};this.setState(Ei(Ei({},o,c+w),"brushMoveStartX",r.pageX),function(){y&&T()&&y(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,o=this.state,a=o.scaleValues,l=o.startX,c=o.endX,u=this.state[i],h=a.indexOf(u);if(h!==-1){var d=h+r;if(!(d===-1||d>=a.length)){var p=a[d];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(Ei({},i,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.fill,c=r.stroke;return U.createElement("rect",{stroke:c,fill:l,x:i,y:s,width:o,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.data,c=r.children,u=r.padding,h=I.Children.only(c);return h?U.cloneElement(h,{x:i,y:s,width:o,height:a,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,o,a=this,l=this.props,c=l.y,u=l.travellerWidth,h=l.height,d=l.traveller,p=l.ariaLabel,y=l.data,g=l.startIndex,v=l.endIndex,b=Math.max(r,this.props.x),w=Pk(Pk({},Oe(this.props,!1)),{},{x:b,y:c,width:u,height:h}),_=p||"Min value: ".concat((s=y[g])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=y[v])===null||o===void 0?void 0:o.name);return U.createElement(at,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(x){["ArrowLeft","ArrowRight"].includes(x.key)&&(x.preventDefault(),x.stopPropagation(),a.handleTravellerMoveKeyboard(x.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,w))}},{key:"renderSlide",value:function(r,i){var s=this.props,o=s.y,a=s.height,l=s.stroke,c=s.travellerWidth,u=Math.min(r,i)+c,h=Math.max(Math.abs(i-r)-c,0);return U.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:o,width:h,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,o=r.y,a=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,h=u.startX,d=u.endX,p=5,y={pointerEvents:"none",fill:c};return U.createElement(at,{className:"recharts-brush-texts"},U.createElement(af,qS({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,d)-p,y:o+a/2},y),this.getTextOfTick(i)),U.createElement(af,qS({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,d)+l+p,y:o+a/2},y),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,o=r.children,a=r.x,l=r.y,c=r.width,u=r.height,h=r.alwaysShowText,d=this.state,p=d.startX,y=d.endX,g=d.isTextActive,v=d.isSlideMoving,b=d.isTravellerMoving,w=d.isTravellerFocused;if(!i||!i.length||!ge(a)||!ge(l)||!ge(c)||!ge(u)||c<=0||u<=0)return null;var _=Ue("recharts-brush",s),S=U.Children.count(o)===1,x=pLe("userSelect","none");return U.createElement(at,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(g||v||b||w||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,o=r.width,a=r.height,l=r.stroke,c=Math.floor(s+a/2)-1;return U.createElement(U.Fragment,null,U.createElement("rect",{x:i,y:s,width:o,height:a,fill:l,stroke:"none"}),U.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),U.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return U.isValidElement(r)?s=U.cloneElement(r,i):De(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,o=r.width,a=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,h=r.endIndex;if(s!==i.prevData||c!==i.prevUpdateId)return Pk({prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:o},s&&s.length?xLe({data:s,width:o,x:a,travellerWidth:l,startIndex:u,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+o-l]);var d=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,o=0,a=s-1;a-o>1;){var l=Math.floor((o+a)/2);r[l]>i?a=l:o=l}return i>=r[a]?a:o}}])}(I.PureComponent);Ei(ey,"displayName","Brush");Ei(ey,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ALe=BL;function ELe(t,e){var n;return ALe(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}var SLe=ELe,TLe=RX,PLe=ma,CLe=SLe,ILe=bi,OLe=pI;function kLe(t,e,n){var r=ILe(t)?TLe:CLe;return n&&OLe(t,e,n)&&(e=void 0),r(t,PLe(e))}var RLe=kLe;const NLe=dt(RLe);var aa=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},PB=eY;function MLe(t,e,n){e=="__proto__"&&PB?PB(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var DLe=MLe,$Le=DLe,LLe=JX,jLe=ma;function FLe(t,e){var n={};return e=jLe(e),LLe(t,function(r,i,s){$Le(n,i,e(r,i,s))}),n}var VLe=FLe;const BLe=dt(VLe);function ULe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var zLe=ULe,HLe=BL;function WLe(t,e){var n=!0;return HLe(t,function(r,i,s){return n=!!e(r,i,s),n}),n}var GLe=WLe,qLe=zLe,KLe=GLe,XLe=ma,YLe=bi,QLe=pI;function JLe(t,e,n){var r=YLe(t)?qLe:KLe;return n&&QLe(t,e,n)&&(e=void 0),r(t,XLe(e))}var ZLe=JLe;const WQ=dt(ZLe);var eje=["x","y"];function Pb(t){"@babel/helpers - typeof";return Pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pb(t)}function BM(){return BM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BM.apply(this,arguments)}function CB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CB(Object(n),!0).forEach(function(r){tje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tje(t,e,n){return e=nje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nje(t){var e=rje(t,"string");return Pb(e)=="symbol"?e:e+""}function rje(t,e){if(Pb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ije(t,e){if(t==null)return{};var n=sje(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sje(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oje(t,e){var n=t.x,r=t.y,i=ije(t,eje),s="".concat(n),o=parseInt(s,10),a="".concat(r),l=parseInt(a,10),c="".concat(e.height||i.height),u=parseInt(c,10),h="".concat(e.width||i.width),d=parseInt(h,10);return wv(wv(wv(wv(wv({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:d,name:e.name,radius:e.radius})}function IB(t){return U.createElement(jQ,BM({shapeType:"rectangle",propTransformer:oje,activeClassName:"recharts-active-bar"},t))}var aje=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=typeof r=="number";return s?e(r,i):(s||cf(!1),n)}},lje=["value","background"],GQ;function ty(t){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(t)}function cje(t,e){if(t==null)return{};var n=uje(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uje(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function XS(){return XS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XS.apply(this,arguments)}function OB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OB(Object(n),!0).forEach(function(r){tu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KQ(r.key),r)}}function dje(t,e,n){return e&&kB(t.prototype,e),n&&kB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fje(t,e,n){return e=YS(e),pje(t,qQ()?Reflect.construct(e,n||[],YS(t).constructor):e.apply(t,n))}function pje(t,e){if(e&&(ty(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gje(t)}function gje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qQ=function(){return!!t})()}function YS(t){return YS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},YS(t)}function mje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UM(t,e)}function UM(t,e){return UM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UM(t,e)}function tu(t,e,n){return e=KQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KQ(t){var e=yje(t,"string");return ty(e)=="symbol"?e:e+""}function yje(t,e){if(ty(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ty(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wl=function(t){function e(){var n;hje(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=fje(this,e,[].concat(i)),tu(n,"state",{isAnimationFinished:!1}),tu(n,"id",ky("recharts-bar-")),tu(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),tu(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return mje(e,t),dje(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,o=s.shape,a=s.dataKey,l=s.activeIndex,c=s.activeBar,u=Oe(this.props,!1);return r&&r.map(function(h,d){var p=d===l,y=p?c:o,g=pn(pn(pn({},u),h),{},{isActive:p,option:y,index:d,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return U.createElement(at,XS({className:"recharts-bar-rectangle"},of(i.props,h,d),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(d)}),U.createElement(IB,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,o=i.layout,a=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,h=i.animationId,d=this.state.prevData;return U.createElement(uf,{begin:l,duration:c,isActive:a,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,g=s.map(function(v,b){var w=d&&d[b];if(w){var _=Hi(w.x,v.x),S=Hi(w.y,v.y),x=Hi(w.width,v.width),T=Hi(w.height,v.height);return pn(pn({},v),{},{x:_(y),y:S(y),width:x(y),height:T(y)})}if(o==="horizontal"){var A=Hi(0,v.height),E=A(y);return pn(pn({},v),{},{y:v.y+v.height-E,height:E})}var O=Hi(0,v.width),M=O(y);return pn(pn({},v),{},{width:M})});return U.createElement(at,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!C1(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,o=i.dataKey,a=i.activeIndex,l=Oe(this.props.background,!1);return s.map(function(c,u){c.value;var h=c.background,d=cje(c,lje);if(!h)return null;var p=pn(pn(pn(pn(pn({},d),{},{fill:"#eee"},h),l),of(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return U.createElement(IB,XS({key:"background-bar-".concat(u),option:r.props.background,isActive:u===a},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,a=s.xAxis,l=s.yAxis,c=s.layout,u=s.children,h=Qi(u,I1);if(!h)return null;var d=c==="vertical"?o[0].height/2:o[0].width/2,p=function(v,b){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:On(v,b)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return U.createElement(at,y,h.map(function(g){return U.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:o,xAxis:a,yAxis:l,layout:c,offset:d,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,o=r.className,a=r.xAxis,l=r.yAxis,c=r.left,u=r.top,h=r.width,d=r.height,p=r.isAnimationActive,y=r.background,g=r.id;if(i||!s||!s.length)return null;var v=this.state.isAnimationFinished,b=Ue("recharts-bar",o),w=a&&a.allowDataOverflow,_=l&&l.allowDataOverflow,S=w||_,x=Be(g)?this.id:g;return U.createElement(at,{className:b},w||_?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(x)},U.createElement("rect",{x:w?c:c-h/2,y:_?u:u-d/2,width:w?h:h*2,height:_?d:d*2}))):null,U.createElement(at,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(x,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,x),(!p||v)&&bl.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(I.PureComponent);GQ=wl;tu(wl,"displayName","Bar");tu(wl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!sa.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});tu(wl,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,h=t.displayedData,d=t.offset,p=J2e(r,n);if(!p)return null;var y=e.layout,g=n.type.defaultProps,v=g!==void 0?pn(pn({},g),n.props):n.props,b=v.dataKey,w=v.children,_=v.minPointSize,S=y==="horizontal"?o:s,x=c?S.scale.domain():null,T=sRe({numericAxis:S}),A=Qi(w,Bs),E=h.map(function(O,M){var D,$,L,W,q,H;c?D=Z2e(c[u+M],x):(D=On(O,b),Array.isArray(D)||(D=[T,D]));var G=aje(_,GQ.defaultProps.minPointSize)(D[1],M);if(y==="horizontal"){var z,X=[o.scale(D[0]),o.scale(D[1])],ee=X[0],ae=X[1];$=b8({axis:s,ticks:a,bandSize:i,offset:p.offset,entry:O,index:M}),L=(z=ae??ee)!==null&&z!==void 0?z:void 0,W=p.size;var Z=ee-ae;if(q=Number.isNaN(Z)?0:Z,H={x:$,y:o.y,width:W,height:o.height},Math.abs(G)>0&&Math.abs(q)<Math.abs(G)){var ne=Xr(q||G)*(Math.abs(G)-Math.abs(q));L-=ne,q+=ne}}else{var Te=[s.scale(D[0]),s.scale(D[1])],Pe=Te[0],je=Te[1];if($=Pe,L=b8({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:O,index:M}),W=je-Pe,q=p.size,H={x:s.x,y:L,width:s.width,height:q},Math.abs(G)>0&&Math.abs(W)<Math.abs(G)){var fe=Xr(W||G)*(Math.abs(G)-Math.abs(W));W+=fe}}return pn(pn(pn({},O),{},{x:$,y:L,width:W,height:q,value:c?D:D[1],payload:O,background:H},A&&A[M]&&A[M].props),{},{tooltipPayload:[mQ(n,O)],tooltipPosition:{x:$+W/2,y:L+q/2}})});return pn({data:E,layout:y},d)});function Cb(t){"@babel/helpers - typeof";return Cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cb(t)}function vje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XQ(r.key),r)}}function bje(t,e,n){return e&&RB(t.prototype,e),n&&RB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function NB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NB(Object(n),!0).forEach(function(r){MI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MI(t,e,n){return e=XQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XQ(t){var e=wje(t,"string");return Cb(e)=="symbol"?e:e+""}function wje(t,e){if(Cb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YQ=function(e,n,r,i,s){var o=e.width,a=e.height,l=e.layout,c=e.children,u=Object.keys(n),h={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},d=!!Vi(c,wl);return u.reduce(function(p,y){var g=n[y],v=g.orientation,b=g.domain,w=g.padding,_=w===void 0?{}:w,S=g.mirror,x=g.reversed,T="".concat(v).concat(S?"Mirror":""),A,E,O,M,D;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var $=b[1]-b[0],L=1/0,W=g.categoricalDomain.sort(F0e);if(W.forEach(function(Te,Pe){Pe>0&&(L=Math.min((Te||0)-(W[Pe-1]||0),L))}),Number.isFinite(L)){var q=L/$,H=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(A=q*H/2),g.padding==="no-gap"){var G=Yr(e.barCategoryGap,q*H),z=q*H/2;A=z-G-(z-G)/H*G}}}i==="xAxis"?E=[r.left+(_.left||0)+(A||0),r.left+r.width-(_.right||0)-(A||0)]:i==="yAxis"?E=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(A||0),r.top+r.height-(_.bottom||0)-(A||0)]:E=g.range,x&&(E=[E[1],E[0]]);var X=dQ(g,s,d),ee=X.scale,ae=X.realScaleType;ee.domain(b).range(E),fQ(ee);var Z=pQ(ee,io(io({},g),{},{realScaleType:ae}));i==="xAxis"?(D=v==="top"&&!S||v==="bottom"&&S,O=r.left,M=h[T]-D*g.height):i==="yAxis"&&(D=v==="left"&&!S||v==="right"&&S,O=h[T]-D*g.width,M=r.top);var ne=io(io(io({},g),Z),{},{realScaleType:ae,x:O,y:M,scale:ee,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return ne.bandSize=NS(ne,Z),!g.hide&&i==="xAxis"?h[T]+=(D?-1:1)*ne.height:g.hide||(h[T]+=(D?-1:1)*ne.width),io(io({},p),{},MI({},y,ne))},{})},QQ=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return{x:Math.min(r,s),y:Math.min(i,o),width:Math.abs(s-r),height:Math.abs(o-i)}},_je=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return QQ({x:n,y:r},{x:i,y:s})},JQ=function(){function t(e){vje(this,t),this.scale=e}return bje(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();MI(JQ,"EPS",1e-4);var mj=function(e){var n=Object.keys(e).reduce(function(r,i){return io(io({},r),{},MI({},i,JQ.create(e[i])))},{});return io(io({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,a=s.position;return BLe(i,function(l,c){return n[c].apply(l,{bandAware:o,position:a})})},isInRange:function(i){return WQ(i,function(s,o){return n[o].isInRange(s)})}})};function xje(t){return(t%180+180)%180}var Aje=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=xje(i),o=s*Math.PI/180,a=Math.atan(r/n),l=o>a&&o<Math.PI-a?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},Eje=ma,Sje=A1,Tje=dI;function Pje(t){return function(e,n,r){var i=Object(e);if(!Sje(e)){var s=Eje(n);e=Tje(e),n=function(a){return s(i[a],a,i)}}var o=t(e,n,r);return o>-1?i[s?e[o]:o]:void 0}}var Cje=Pje,Ije=BQ;function Oje(t){var e=Ije(t),n=e%1;return e===e?n?e-n:e:0}var kje=Oje,Rje=GX,Nje=ma,Mje=kje,Dje=Math.max;function $je(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Mje(n);return i<0&&(i=Dje(r+i,0)),Rje(t,Nje(e),i)}var Lje=$je,jje=Cje,Fje=Lje,Vje=jje(Fje),Bje=Vje;const Uje=dt(Bje);var zje=Bve(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),yj=I.createContext(void 0),vj=I.createContext(void 0),ZQ=I.createContext(void 0),eJ=I.createContext({}),tJ=I.createContext(void 0),nJ=I.createContext(0),rJ=I.createContext(0),MB=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,o=e.clipPathId,a=e.children,l=e.width,c=e.height,u=zje(s);return U.createElement(yj.Provider,{value:r},U.createElement(vj.Provider,{value:i},U.createElement(eJ.Provider,{value:s},U.createElement(ZQ.Provider,{value:u},U.createElement(tJ.Provider,{value:o},U.createElement(nJ.Provider,{value:c},U.createElement(rJ.Provider,{value:l},a)))))))},Hje=function(){return I.useContext(tJ)},iJ=function(e){var n=I.useContext(yj);n==null&&cf(!1);var r=n[e];return r==null&&cf(!1),r},Wje=function(){var e=I.useContext(yj);return lc(e)},Gje=function(){var e=I.useContext(vj),n=Uje(e,function(r){return WQ(r.domain,Number.isFinite)});return n||lc(e)},sJ=function(e){var n=I.useContext(vj);n==null&&cf(!1);var r=n[e];return r==null&&cf(!1),r},qje=function(){var e=I.useContext(ZQ);return e},Kje=function(){return I.useContext(eJ)},bj=function(){return I.useContext(rJ)},wj=function(){return I.useContext(nJ)};function ny(t){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(t)}function Xje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aJ(r.key),r)}}function Yje(t,e,n){return e&&DB(t.prototype,e),n&&DB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qje(t,e,n){return e=QS(e),Jje(t,oJ()?Reflect.construct(e,n||[],QS(t).constructor):e.apply(t,n))}function Jje(t,e){if(e&&(ny(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zje(t)}function Zje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oJ=function(){return!!t})()}function QS(t){return QS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},QS(t)}function e4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zM(t,e)}function zM(t,e){return zM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zM(t,e)}function $B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$B(Object(n),!0).forEach(function(r){_j(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$B(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _j(t,e,n){return e=aJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aJ(t){var e=t4e(t,"string");return ny(e)=="symbol"?e:e+""}function t4e(t,e){if(ny(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ny(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n4e(t,e){return o4e(t)||s4e(t,e)||i4e(t,e)||r4e()}function r4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i4e(t,e){if(t){if(typeof t=="string")return jB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jB(t,e)}}function jB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s4e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function o4e(t){if(Array.isArray(t))return t}function HM(){return HM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HM.apply(this,arguments)}var a4e=function(e,n){var r;return U.isValidElement(e)?r=U.cloneElement(e,n):De(e)?r=e(n):r=U.createElement("line",HM({},n,{className:"recharts-reference-line-line"})),r},l4e=function(e,n,r,i,s,o,a,l,c){var u=s.x,h=s.y,d=s.width,p=s.height;if(r){var y=c.y,g=e.y.apply(y,{position:o});if(aa(c,"discard")&&!e.y.isInRange(g))return null;var v=[{x:u+d,y:g},{x:u,y:g}];return l==="left"?v.reverse():v}if(n){var b=c.x,w=e.x.apply(b,{position:o});if(aa(c,"discard")&&!e.x.isInRange(w))return null;var _=[{x:w,y:h+p},{x:w,y:h}];return a==="top"?_.reverse():_}if(i){var S=c.segment,x=S.map(function(T){return e.apply(T,{position:o})});return aa(c,"discard")&&NLe(x,function(T){return!e.isInRange(T)})?null:x}return null};function c4e(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,a=t.className,l=t.alwaysShow,c=Hje(),u=iJ(i),h=sJ(s),d=qje();if(!c||!d)return null;mo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=mj({x:u.scale,y:h.scale}),y=Rn(e),g=Rn(n),v=r&&r.length===2,b=l4e(p,y,g,v,d,t.position,u.orientation,h.orientation,t);if(!b)return null;var w=n4e(b,2),_=w[0],S=_.x,x=_.y,T=w[1],A=T.x,E=T.y,O=aa(t,"hidden")?"url(#".concat(c,")"):void 0,M=LB(LB({clipPath:O},Oe(t,!0)),{},{x1:S,y1:x,x2:A,y2:E});return U.createElement(at,{className:Ue("recharts-reference-line",a)},a4e(o,M),Kn.renderCallByParent(t,_je({x1:S,y1:x,x2:A,y2:E})))}var xj=function(t){function e(){return Xje(this,e),Qje(this,e,arguments)}return e4e(e,t),Yje(e,[{key:"render",value:function(){return U.createElement(c4e,this.props)}}])}(U.Component);_j(xj,"displayName","ReferenceLine");_j(xj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function WM(){return WM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WM.apply(this,arguments)}function ry(t){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ry(t)}function FB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FB(Object(n),!0).forEach(function(r){DI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cJ(r.key),r)}}function h4e(t,e,n){return e&&BB(t.prototype,e),n&&BB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function d4e(t,e,n){return e=JS(e),f4e(t,lJ()?Reflect.construct(e,n||[],JS(t).constructor):e.apply(t,n))}function f4e(t,e){if(e&&(ry(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p4e(t)}function p4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lJ=function(){return!!t})()}function JS(t){return JS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},JS(t)}function g4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GM(t,e)}function GM(t,e){return GM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GM(t,e)}function DI(t,e,n){return e=cJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cJ(t){var e=m4e(t,"string");return ry(e)=="symbol"?e:e+""}function m4e(t,e){if(ry(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ry(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y4e=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,o=mj({x:i.scale,y:s.scale}),a=o.apply({x:n,y:r},{bandAware:!0});return aa(e,"discard")&&!o.isInRange(a)?null:a},$I=function(t){function e(){return u4e(this,e),d4e(this,e,arguments)}return g4e(e,t),h4e(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,o=r.r,a=r.alwaysShow,l=r.clipPathId,c=Rn(i),u=Rn(s);if(mo(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var h=y4e(this.props);if(!h)return null;var d=h.x,p=h.y,y=this.props,g=y.shape,v=y.className,b=aa(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=VB(VB({clipPath:b},Oe(this.props,!0)),{},{cx:d,cy:p});return U.createElement(at,{className:Ue("recharts-reference-dot",v)},e.renderDot(g,w),Kn.renderCallByParent(this.props,{x:d-o,y:p-o,width:2*o,height:2*o}))}}])}(U.Component);DI($I,"displayName","ReferenceDot");DI($I,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});DI($I,"renderDot",function(t,e){var n;return U.isValidElement(t)?n=U.cloneElement(t,e):De(t)?n=t(e):n=U.createElement(PI,WM({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function qM(){return qM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qM.apply(this,arguments)}function iy(t){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(t)}function UB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UB(Object(n),!0).forEach(function(r){LI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hJ(r.key),r)}}function b4e(t,e,n){return e&&HB(t.prototype,e),n&&HB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function w4e(t,e,n){return e=ZS(e),_4e(t,uJ()?Reflect.construct(e,n||[],ZS(t).constructor):e.apply(t,n))}function _4e(t,e){if(e&&(iy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x4e(t)}function x4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uJ=function(){return!!t})()}function ZS(t){return ZS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ZS(t)}function A4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KM(t,e)}function KM(t,e){return KM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KM(t,e)}function LI(t,e,n){return e=hJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hJ(t){var e=E4e(t,"string");return iy(e)=="symbol"?e:e+""}function E4e(t,e){if(iy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(iy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var S4e=function(e,n,r,i,s){var o=s.x1,a=s.x2,l=s.y1,c=s.y2,u=s.xAxis,h=s.yAxis;if(!u||!h)return null;var d=mj({x:u.scale,y:h.scale}),p={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},y={x:n?d.x.apply(a,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(c,{position:"end"}):d.y.rangeMax};return aa(s,"discard")&&(!d.isInRange(p)||!d.isInRange(y))?null:QQ(p,y)},jI=function(t){function e(){return v4e(this,e),w4e(this,e,arguments)}return A4e(e,t),b4e(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,o=r.y1,a=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;mo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Rn(i),d=Rn(s),p=Rn(o),y=Rn(a),g=this.props.shape;if(!h&&!d&&!p&&!y&&!g)return null;var v=S4e(h,d,p,y,this.props);if(!v&&!g)return null;var b=aa(this.props,"hidden")?"url(#".concat(u,")"):void 0;return U.createElement(at,{className:Ue("recharts-reference-area",l)},e.renderRect(g,zB(zB({clipPath:b},Oe(this.props,!0)),v)),Kn.renderCallByParent(this.props,v))}}])}(U.Component);LI(jI,"displayName","ReferenceArea");LI(jI,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});LI(jI,"renderRect",function(t,e){var n;return U.isValidElement(t)?n=U.cloneElement(t,e):De(t)?n=t(e):n=U.createElement(gj,qM({},e,{className:"recharts-reference-area-rect"})),n});function dJ(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)if(n===void 0||n(t[i])===!0)r.push(t[i]);else return;return r}function T4e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Aje(r,n)}function P4e(t,e,n){var r=n==="width",i=t.x,s=t.y,o=t.width,a=t.height;return e===1?{start:r?i:s,end:r?i+o:s+a}:{start:r?i+o:s+a,end:r?i:s}}function eT(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function C4e(t,e){return dJ(t,e+1)}function I4e(t,e,n,r,i){for(var s=(r||[]).slice(),o=e.start,a=e.end,l=0,c=1,u=o,h=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:dJ(r,c)};var g=l,v,b=function(){return v===void 0&&(v=n(y,g)),v},w=y.coordinate,_=l===0||eT(t,w,b,u,a);_||(l=0,u=o,c+=1),_&&(u=w+t*(b()/2+i),l+=c)},d;c<=s.length;)if(d=h(),d)return d.v;return[]}function Ib(t){"@babel/helpers - typeof";return Ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ib(t)}function WB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WB(Object(n),!0).forEach(function(r){O4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O4e(t,e,n){return e=k4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k4e(t){var e=R4e(t,"string");return Ib(e)=="symbol"?e:e+""}function R4e(t,e){if(Ib(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ib(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N4e(t,e,n,r,i){for(var s=(r||[]).slice(),o=s.length,a=e.start,l=e.end,c=function(d){var p=s[d],y,g=function(){return y===void 0&&(y=n(p,d)),y};if(d===o-1){var v=t*(p.coordinate+t*g()/2-l);s[d]=p=Ir(Ir({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else s[d]=p=Ir(Ir({},p),{},{tickCoord:p.coordinate});var b=eT(t,p.tickCoord,g,a,l);b&&(l=p.tickCoord-t*(g()/2+i),s[d]=Ir(Ir({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return s}function M4e(t,e,n,r,i,s){var o=(r||[]).slice(),a=o.length,l=e.start,c=e.end;if(s){var u=r[a-1],h=n(u,a-1),d=t*(u.coordinate+t*h/2-c);o[a-1]=u=Ir(Ir({},u),{},{tickCoord:d>0?u.coordinate-d*t:u.coordinate});var p=eT(t,u.tickCoord,function(){return h},l,c);p&&(c=u.tickCoord-t*(h/2+i),o[a-1]=Ir(Ir({},u),{},{isShow:!0}))}for(var y=s?a-1:a,g=function(w){var _=o[w],S,x=function(){return S===void 0&&(S=n(_,w)),S};if(w===0){var T=t*(_.coordinate-t*x()/2-l);o[w]=_=Ir(Ir({},_),{},{tickCoord:T<0?_.coordinate-T*t:_.coordinate})}else o[w]=_=Ir(Ir({},_),{},{tickCoord:_.coordinate});var A=eT(t,_.tickCoord,x,l,c);A&&(l=_.tickCoord+t*(x()/2+i),o[w]=Ir(Ir({},_),{},{isShow:!0}))},v=0;v<y;v++)g(v);return o}function Aj(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,a=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,h=t.angle;if(!i||!i.length||!r)return[];if(ge(l)||sa.isSsr)return C4e(i,typeof l=="number"&&ge(l)?l:0);var d=[],p=a==="top"||a==="bottom"?"width":"height",y=u&&p==="width"?f0(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(_,S){var x=De(c)?c(_.value,S):_.value;return p==="width"?T4e(f0(x,{fontSize:e,letterSpacing:n}),y,h):f0(x,{fontSize:e,letterSpacing:n})[p]},v=i.length>=2?Xr(i[1].coordinate-i[0].coordinate):1,b=P4e(s,v,p);return l==="equidistantPreserveStart"?I4e(v,b,g,i,o):(l==="preserveStart"||l==="preserveStartEnd"?d=M4e(v,b,g,i,o,l==="preserveStartEnd"):d=N4e(v,b,g,i,o),d.filter(function(w){return w.isShow}))}var D4e=["viewBox"],$4e=["viewBox"],L4e=["ticks"];function sy(t){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sy(t)}function _p(){return _p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_p.apply(this,arguments)}function GB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GB(Object(n),!0).forEach(function(r){Ej(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ck(t,e){if(t==null)return{};var n=j4e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function j4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function F4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pJ(r.key),r)}}function V4e(t,e,n){return e&&qB(t.prototype,e),n&&qB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function B4e(t,e,n){return e=tT(e),U4e(t,fJ()?Reflect.construct(e,n||[],tT(t).constructor):e.apply(t,n))}function U4e(t,e){if(e&&(sy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z4e(t)}function z4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fJ=function(){return!!t})()}function tT(t){return tT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tT(t)}function H4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XM(t,e)}function XM(t,e){return XM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XM(t,e)}function Ej(t,e,n){return e=pJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pJ(t){var e=W4e(t,"string");return sy(e)=="symbol"?e:e+""}function W4e(t,e){if(sy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jy=function(t){function e(n){var r;return F4e(this,e),r=B4e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return H4e(e,t),V4e(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,o=Ck(r,D4e),a=this.props,l=a.viewBox,c=Ck(a,$4e);return!Fp(s,l)||!Fp(o,c)||!Fp(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,o=i.y,a=i.width,l=i.height,c=i.orientation,u=i.tickSize,h=i.mirror,d=i.tickMargin,p,y,g,v,b,w,_=h?-1:1,S=r.tickSize||u,x=ge(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=y=r.coordinate,v=o+ +!h*l,g=v-_*S,w=g-_*d,b=x;break;case"left":g=v=r.coordinate,y=s+ +!h*a,p=y-_*S,b=p-_*d,w=x;break;case"right":g=v=r.coordinate,y=s+ +h*a,p=y+_*S,b=p+_*d,w=x;break;default:p=y=r.coordinate,v=o+ +h*l,g=v+_*S,w=g+_*d,b=x;break}return{line:{x1:p,y1:g,x2:y,y2:v},tick:{x:b,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,h=Vr(Vr(Vr({},Oe(this.props,!1)),Oe(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!c||l==="bottom"&&c);h=Vr(Vr({},h),{},{x1:i,y1:s+d*a,x2:i+o,y2:s+d*a})}else{var p=+(l==="left"&&!c||l==="right"&&c);h=Vr(Vr({},h),{},{x1:i+p*o,y1:s,x2:i+p*o,y2:s+a})}return U.createElement("line",_p({},h,{className:Ue("recharts-cartesian-axis-line",Yi(u,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var o=this,a=this.props,l=a.tickLine,c=a.stroke,u=a.tick,h=a.tickFormatter,d=a.unit,p=Aj(Vr(Vr({},this.props),{},{ticks:r}),i,s),y=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Oe(this.props,!1),b=Oe(u,!1),w=Vr(Vr({},v),{},{fill:"none"},Oe(l,!1)),_=p.map(function(S,x){var T=o.getTickLineCoord(S),A=T.line,E=T.tick,O=Vr(Vr(Vr(Vr({textAnchor:y,verticalAnchor:g},v),{},{stroke:"none",fill:c},b),E),{},{index:x,payload:S,visibleTicksCount:p.length,tickFormatter:h});return U.createElement(at,_p({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},of(o.props,S,x)),l&&U.createElement("line",_p({},w,A,{className:Ue("recharts-cartesian-axis-tick-line",Yi(l,"className"))})),u&&e.renderTickItem(u,O,"".concat(De(h)?h(S.value,x):S.value).concat(d||"")))});return U.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,o=i.width,a=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var h=this.props,d=h.ticks,p=Ck(h,L4e),y=d;return De(l)&&(y=d&&d.length>0?l(this.props):l(p)),o<=0||a<=0||!y||!y.length?null:U.createElement(at,{className:Ue("recharts-cartesian-axis",c),ref:function(v){r.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Kn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var o;return U.isValidElement(r)?o=U.cloneElement(r,i):De(r)?o=r(i):o=U.createElement(af,_p({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(I.Component);Ej(jy,"displayName","CartesianAxis");Ej(jy,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var G4e=["x1","y1","x2","y2","key"],q4e=["offset"];function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function KB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KB(Object(n),!0).forEach(function(r){K4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K4e(t,e,n){return e=X4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X4e(t){var e=Y4e(t,"string");return hf(e)=="symbol"?e:e+""}function Y4e(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gh(){return gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gh.apply(this,arguments)}function XB(t,e){if(t==null)return{};var n=Q4e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Q4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var J4e=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,o=e.width,a=e.height,l=e.ry;return U.createElement("rect",{x:i,y:s,ry:l,width:o,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function gJ(t,e){var n;if(U.isValidElement(t))n=U.cloneElement(t,e);else if(De(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,o=e.y2,a=e.key,l=XB(e,G4e),c=Oe(l,!1);c.offset;var u=XB(c,q4e);n=U.createElement("line",gh({},u,{x1:r,y1:i,x2:s,y2:o,fill:"none",key:a}))}return n}function Z4e(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,l){var c=Mr(Mr({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return gJ(i,c)});return U.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function e3e(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,l){var c=Mr(Mr({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return gJ(i,c)});return U.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function t3e(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,o=t.height,a=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=a.map(function(d){return Math.round(d+i-i)}).sort(function(d,p){return d-p});i!==u[0]&&u.unshift(0);var h=u.map(function(d,p){var y=!u[p+1],g=y?i+o-d:u[p+1]-d;if(g<=0)return null;var v=p%e.length;return U.createElement("rect",{key:"react-".concat(p),y:d,x:r,height:g,width:s,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function n3e(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,a=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(d){return Math.round(d+s-s)}).sort(function(d,p){return d-p});s!==u[0]&&u.unshift(0);var h=u.map(function(d,p){var y=!u[p+1],g=y?s+a-d:u[p+1]-d;if(g<=0)return null;var v=p%r.length;return U.createElement("rect",{key:"react-".concat(p),x:d,y:o,width:g,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var r3e=function(e,n){var r=e.xAxis,i=e.width,s=e.height,o=e.offset;return hQ(Aj(Mr(Mr(Mr({},jy.defaultProps),r),{},{ticks:gl(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,n)},i3e=function(e,n){var r=e.yAxis,i=e.width,s=e.height,o=e.offset;return hQ(Aj(Mr(Mr(Mr({},jy.defaultProps),r),{},{ticks:gl(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,n)},Hf={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ZA(t){var e,n,r,i,s,o,a=bj(),l=wj(),c=Kje(),u=Mr(Mr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Hf.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Hf.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Hf.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Hf.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Hf.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Hf.verticalFill,x:ge(t.x)?t.x:c.left,y:ge(t.y)?t.y:c.top,width:ge(t.width)?t.width:c.width,height:ge(t.height)?t.height:c.height}),h=u.x,d=u.y,p=u.width,y=u.height,g=u.syncWithTicks,v=u.horizontalValues,b=u.verticalValues,w=Wje(),_=Gje();if(!ge(p)||p<=0||!ge(y)||y<=0||!ge(h)||h!==+h||!ge(d)||d!==+d)return null;var S=u.verticalCoordinatesGenerator||r3e,x=u.horizontalCoordinatesGenerator||i3e,T=u.horizontalPoints,A=u.verticalPoints;if((!T||!T.length)&&De(x)){var E=v&&v.length,O=x({yAxis:_?Mr(Mr({},_),{},{ticks:E?v:_.ticks}):void 0,width:a,height:l,offset:c},E?!0:g);mo(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(hf(O),"]")),Array.isArray(O)&&(T=O)}if((!A||!A.length)&&De(S)){var M=b&&b.length,D=S({xAxis:w?Mr(Mr({},w),{},{ticks:M?b:w.ticks}):void 0,width:a,height:l,offset:c},M?!0:g);mo(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(hf(D),"]")),Array.isArray(D)&&(A=D)}return U.createElement("g",{className:"recharts-cartesian-grid"},U.createElement(J4e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),U.createElement(Z4e,gh({},u,{offset:c,horizontalPoints:T,xAxis:w,yAxis:_})),U.createElement(e3e,gh({},u,{offset:c,verticalPoints:A,xAxis:w,yAxis:_})),U.createElement(t3e,gh({},u,{horizontalPoints:T})),U.createElement(n3e,gh({},u,{verticalPoints:A})))}ZA.displayName="CartesianGrid";var s3e=["type","layout","connectNulls","ref"],o3e=["key"];function oy(t){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(t)}function YB(t,e){if(t==null)return{};var n=a3e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function a3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function b0(){return b0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b0.apply(this,arguments)}function QB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QB(Object(n),!0).forEach(function(r){so(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wf(t){return h3e(t)||u3e(t)||c3e(t)||l3e()}function l3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c3e(t,e){if(t){if(typeof t=="string")return YM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YM(t,e)}}function u3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function h3e(t){if(Array.isArray(t))return YM(t)}function YM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yJ(r.key),r)}}function f3e(t,e,n){return e&&JB(t.prototype,e),n&&JB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function p3e(t,e,n){return e=nT(e),g3e(t,mJ()?Reflect.construct(e,n||[],nT(t).constructor):e.apply(t,n))}function g3e(t,e){if(e&&(oy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m3e(t)}function m3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mJ=function(){return!!t})()}function nT(t){return nT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nT(t)}function y3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QM(t,e)}function QM(t,e){return QM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QM(t,e)}function so(t,e,n){return e=yJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yJ(t){var e=v3e(t,"string");return oy(e)=="symbol"?e:e+""}function v3e(t,e){if(oy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(oy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var O1=function(t){function e(){var n;d3e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=p3e(this,e,[].concat(i)),so(n,"state",{isAnimationFinished:!0,totalLength:0}),so(n,"generateSimpleStrokeDasharray",function(o,a){return"".concat(a,"px ").concat(o-a,"px")}),so(n,"getStrokeDasharray",function(o,a,l){var c=l.reduce(function(b,w){return b+w});if(!c)return n.generateSimpleStrokeDasharray(a,o);for(var u=Math.floor(o/c),h=o%c,d=a-o,p=[],y=0,g=0;y<l.length;g+=l[y],++y)if(g+l[y]>h){p=[].concat(Wf(l.slice(0,y)),[h-g]);break}var v=p.length%2===0?[0,d]:[d];return[].concat(Wf(e.repeat(l,u)),Wf(p),v).map(function(b){return"".concat(b,"px")}).join(", ")}),so(n,"id",ky("recharts-line-")),so(n,"pathRef",function(o){n.mainCurve=o}),so(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),so(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return y3e(e,t),f3e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,a=s.xAxis,l=s.yAxis,c=s.layout,u=s.children,h=Qi(u,I1);if(!h)return null;var d=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:On(g.payload,v)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return U.createElement(at,p,h.map(function(y){return U.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:a,yAxis:l,layout:c,dataPointFormatter:d})}))}},{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,c=a.points,u=a.dataKey,h=Oe(this.props,!1),d=Oe(l,!0),p=c.map(function(g,v){var b=xi(xi(xi({key:"dot-".concat(v),r:3},h),d),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:u,payload:g.payload,points:c});return e.renderDotItem(l,b)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return U.createElement(at,b0({className:"recharts-line-dots",key:"dots"},y),p)}},{key:"renderCurveStatically",value:function(r,i,s,o){var a=this.props,l=a.type,c=a.layout,u=a.connectNulls;a.ref;var h=YB(a,s3e),d=xi(xi(xi({},Oe(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},o),{},{type:l,layout:c,connectNulls:u});return U.createElement($S,b0({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,o=this.props,a=o.points,l=o.strokeDasharray,c=o.isAnimationActive,u=o.animationBegin,h=o.animationDuration,d=o.animationEasing,p=o.animationId,y=o.animateNewValues,g=o.width,v=o.height,b=this.state,w=b.prevPoints,_=b.totalLength;return U.createElement(uf,{begin:u,duration:h,isActive:c,easing:d,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var x=S.t;if(w){var T=w.length/a.length,A=a.map(function($,L){var W=Math.floor(L*T);if(w[W]){var q=w[W],H=Hi(q.x,$.x),G=Hi(q.y,$.y);return xi(xi({},$),{},{x:H(x),y:G(x)})}if(y){var z=Hi(g*2,$.x),X=Hi(v/2,$.y);return xi(xi({},$),{},{x:z(x),y:X(x)})}return xi(xi({},$),{},{x:$.x,y:$.y})});return s.renderCurveStatically(A,r,i)}var E=Hi(0,_),O=E(x),M;if(l){var D="".concat(l).split(/[,\s]+/gim).map(function($){return parseFloat($)});M=s.getStrokeDasharray(O,_,D)}else M=s.generateSimpleStrokeDasharray(_,O);return s.renderCurveStatically(a,r,i,{strokeDasharray:M})})}},{key:"renderCurve",value:function(r,i){var s=this.props,o=s.points,a=s.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return a&&o&&o.length&&(!c&&u>0||!C1(c,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,a=i.points,l=i.className,c=i.xAxis,u=i.yAxis,h=i.top,d=i.left,p=i.width,y=i.height,g=i.isAnimationActive,v=i.id;if(s||!a||!a.length)return null;var b=this.state.isAnimationFinished,w=a.length===1,_=Ue("recharts-line",l),S=c&&c.allowDataOverflow,x=u&&u.allowDataOverflow,T=S||x,A=Be(v)?this.id:v,E=(r=Oe(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},O=E.r,M=O===void 0?3:O,D=E.strokeWidth,$=D===void 0?2:D,L=K0e(o)?o:{},W=L.clipDot,q=W===void 0?!0:W,H=M*2+$;return U.createElement(at,{className:_},S||x?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(A)},U.createElement("rect",{x:S?d:d-p/2,y:x?h:h-y/2,width:S?p:p*2,height:x?y:y*2})),!q&&U.createElement("clipPath",{id:"clipPath-dots-".concat(A)},U.createElement("rect",{x:d-H/2,y:h-H/2,width:p+H,height:y+H}))):null,!w&&this.renderCurve(T,A),this.renderErrorBar(T,A),(w||o)&&this.renderDots(T,q,A),(!g||b)&&bl.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(Wf(r),[0]):r,o=[],a=0;a<i;++a)o=[].concat(Wf(o),Wf(s));return o}},{key:"renderDotItem",value:function(r,i){var s;if(U.isValidElement(r))s=U.cloneElement(r,i);else if(De(r))s=r(i);else{var o=i.key,a=YB(i,o3e),l=Ue("recharts-line-dot",typeof r!="boolean"?r.className:"");s=U.createElement(PI,b0({key:o},a,{className:l}))}return s}}])}(I.PureComponent);so(O1,"displayName","Line");so(O1,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!sa.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});so(O1,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,a=t.bandSize,l=t.displayedData,c=t.offset,u=e.layout,h=l.map(function(d,p){var y=On(d,o);return u==="horizontal"?{x:v8({axis:n,ticks:i,bandSize:a,entry:d,index:p}),y:Be(y)?null:r.scale(y),value:y,payload:d}:{x:Be(y)?null:n.scale(y),y:v8({axis:r,ticks:s,bandSize:a,entry:d,index:p}),value:y,payload:d}});return xi({points:h,layout:u},c)});function ay(t){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(t)}function b3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wJ(r.key),r)}}function w3e(t,e,n){return e&&ZB(t.prototype,e),n&&ZB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _3e(t,e,n){return e=rT(e),x3e(t,vJ()?Reflect.construct(e,n||[],rT(t).constructor):e.apply(t,n))}function x3e(t,e){if(e&&(ay(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A3e(t)}function A3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vJ=function(){return!!t})()}function rT(t){return rT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rT(t)}function E3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JM(t,e)}function JM(t,e){return JM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JM(t,e)}function bJ(t,e,n){return e=wJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wJ(t){var e=S3e(t,"string");return ay(e)=="symbol"?e:e+""}function S3e(t,e){if(ay(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ay(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZM(){return ZM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZM.apply(this,arguments)}function T3e(t){var e=t.xAxisId,n=bj(),r=wj(),i=iJ(e);return i==null?null:U.createElement(jy,ZM({},i,{className:Ue("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return gl(o,!0)}}))}var Ud=function(t){function e(){return b3e(this,e),_3e(this,e,arguments)}return E3e(e,t),w3e(e,[{key:"render",value:function(){return U.createElement(T3e,this.props)}}])}(U.Component);bJ(Ud,"displayName","XAxis");bJ(Ud,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ly(t){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(t)}function P3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AJ(r.key),r)}}function C3e(t,e,n){return e&&e9(t.prototype,e),n&&e9(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function I3e(t,e,n){return e=iT(e),O3e(t,_J()?Reflect.construct(e,n||[],iT(t).constructor):e.apply(t,n))}function O3e(t,e){if(e&&(ly(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k3e(t)}function k3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _J(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_J=function(){return!!t})()}function iT(t){return iT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iT(t)}function R3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eD(t,e)}function eD(t,e){return eD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eD(t,e)}function xJ(t,e,n){return e=AJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AJ(t){var e=N3e(t,"string");return ly(e)=="symbol"?e:e+""}function N3e(t,e){if(ly(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ly(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tD(){return tD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tD.apply(this,arguments)}var M3e=function(e){var n=e.yAxisId,r=bj(),i=wj(),s=sJ(n);return s==null?null:U.createElement(jy,tD({},s,{className:Ue("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return gl(a,!0)}}))},zd=function(t){function e(){return P3e(this,e),I3e(this,e,arguments)}return R3e(e,t),C3e(e,[{key:"render",value:function(){return U.createElement(M3e,this.props)}}])}(U.Component);xJ(zd,"displayName","YAxis");xJ(zd,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function t9(t){return j3e(t)||L3e(t)||$3e(t)||D3e()}function D3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $3e(t,e){if(t){if(typeof t=="string")return nD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nD(t,e)}}function L3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function j3e(t){if(Array.isArray(t))return nD(t)}function nD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rD=function(e,n,r,i,s){var o=Qi(e,xj),a=Qi(e,$I),l=[].concat(t9(o),t9(a)),c=Qi(e,jI),u="".concat(i,"Id"),h=i[0],d=n;if(l.length&&(d=l.reduce(function(g,v){if(v.props[u]===r&&aa(v.props,"extendDomain")&&ge(v.props[h])){var b=v.props[h];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},d)),c.length){var p="".concat(h,"1"),y="".concat(h,"2");d=c.reduce(function(g,v){if(v.props[u]===r&&aa(v.props,"extendDomain")&&ge(v.props[p])&&ge(v.props[y])){var b=v.props[p],w=v.props[y];return[Math.min(g[0],b,w),Math.max(g[1],b,w)]}return g},d)}return s&&s.length&&(d=s.reduce(function(g,v){return ge(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},d)),d},EJ={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,h,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,h||l,d),y=n?n+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],p]:l._events[y].push(p):(l._events[y]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,p=h.length,y=new Array(p);d<p;d++)y[d]=h[d].fn;return y},a.prototype.listenerCount=function(c){var u=n?n+c:c,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,u,h,d,p,y){var g=n?n+c:c;if(!this._events[g])return!1;var v=this._events[g],b=arguments.length,w,_;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,h),!0;case 4:return v.fn.call(v.context,u,h,d),!0;case 5:return v.fn.call(v.context,u,h,d,p),!0;case 6:return v.fn.call(v.context,u,h,d,p,y),!0}for(_=1,w=new Array(b-1);_<b;_++)w[_-1]=arguments[_];v.fn.apply(v.context,w)}else{var S=v.length,x;for(_=0;_<S;_++)switch(v[_].once&&this.removeListener(c,v[_].fn,void 0,!0),b){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,u);break;case 3:v[_].fn.call(v[_].context,u,h);break;case 4:v[_].fn.call(v[_].context,u,h,d);break;default:if(!w)for(x=1,w=new Array(b-1);x<b;x++)w[x-1]=arguments[x];v[_].fn.apply(v[_].context,w)}}return!0},a.prototype.on=function(c,u,h){return s(this,c,u,h,!1)},a.prototype.once=function(c,u,h){return s(this,c,u,h,!0)},a.prototype.removeListener=function(c,u,h,d){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===u&&(!d||y.once)&&(!h||y.context===h)&&o(this,p);else{for(var g=0,v=[],b=y.length;g<b;g++)(y[g].fn!==u||d&&!y[g].once||h&&y[g].context!==h)&&v.push(y[g]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(EJ);var F3e=EJ.exports;const V3e=dt(F3e);var Ik=new V3e,Ok="recharts.syncMouseEvents";function Ob(t){"@babel/helpers - typeof";return Ob=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ob(t)}function B3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SJ(r.key),r)}}function U3e(t,e,n){return e&&n9(t.prototype,e),n&&n9(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kk(t,e,n){return e=SJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SJ(t){var e=z3e(t,"string");return Ob(e)=="symbol"?e:e+""}function z3e(t,e){if(Ob(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ob(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var H3e=function(){function t(){B3e(this,t),kk(this,"activeIndex",0),kk(this,"coordinateList",[]),kk(this,"layout","horizontal")}return U3e(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,o=n.container,a=o===void 0?null:o,l=n.layout,c=l===void 0?null:l,u=n.offset,h=u===void 0?null:u,d=n.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=c??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=s+l+c,d=o+this.offset.top+a/2+u;this.mouseHandlerCallback({pageX:h,pageY:d})}}}])}();function W3e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ge(r)&&ge(i))return!0}return!1}function G3e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function TJ(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,o=Ct(e,n,r,i),a=Ct(e,n,r,s);return{points:[o,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function q3e(t,e,n){var r,i,s,o;if(t==="horizontal")r=e.x,s=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,h=e.angle,d=Ct(a,l,c,h),p=Ct(a,l,u,h);r=d.x,i=d.y,s=p.x,o=p.y}else return TJ(e);return[{x:r,y:i},{x:s,y:o}]}function kb(t){"@babel/helpers - typeof";return kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kb(t)}function r9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r9(Object(n),!0).forEach(function(r){K3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K3e(t,e,n){return e=X3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X3e(t){var e=Y3e(t,"string");return kb(e)=="symbol"?e:e+""}function Y3e(t,e){if(kb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q3e(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,a=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,h=t.layout,d=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!s||!o||d!=="ScatterChart"&&i!=="axis")return null;var y,g=$S;if(d==="ScatterChart")y=o,g=_De;else if(d==="BarChart")y=G3e(h,o,l,u),g=gj;else if(h==="radial"){var v=TJ(o),b=v.cx,w=v.cy,_=v.radius,S=v.startAngle,x=v.endAngle;y={cx:b,cy:w,startAngle:S,endAngle:x,innerRadius:_,outerRadius:_},g=xQ}else y={points:q3e(h,o,l)},g=$S;var T=qx(qx(qx(qx({stroke:"#ccc",pointerEvents:"none"},l),y),Oe(p,!1)),{},{payload:a,payloadIndex:c,className:Ue("recharts-tooltip-cursor",p.className)});return I.isValidElement(p)?I.cloneElement(p,T):I.createElement(g,T)}var J3e=["item"],Z3e=["children","className","width","height","style","compact","title","desc"];function cy(t){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(t)}function xp(){return xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xp.apply(this,arguments)}function i9(t,e){return nFe(t)||tFe(t,e)||CJ(t,e)||eFe()}function eFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tFe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function nFe(t){if(Array.isArray(t))return t}function s9(t,e){if(t==null)return{};var n=rFe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rFe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function iFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IJ(r.key),r)}}function sFe(t,e,n){return e&&o9(t.prototype,e),n&&o9(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oFe(t,e,n){return e=sT(e),aFe(t,PJ()?Reflect.construct(e,n||[],sT(t).constructor):e.apply(t,n))}function aFe(t,e){if(e&&(cy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lFe(t)}function lFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PJ=function(){return!!t})()}function sT(t){return sT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sT(t)}function cFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iD(t,e)}function iD(t,e){return iD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iD(t,e)}function uy(t){return dFe(t)||hFe(t)||CJ(t)||uFe()}function uFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CJ(t,e){if(t){if(typeof t=="string")return sD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sD(t,e)}}function hFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dFe(t){if(Array.isArray(t))return sD(t)}function sD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function te(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a9(Object(n),!0).forEach(function(r){Re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Re(t,e,n){return e=IJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IJ(t){var e=fFe(t,"string");return cy(e)=="symbol"?e:e+""}function fFe(t,e){if(cy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pFe={xAxis:["bottom","top"],yAxis:["left","right"]},gFe={width:"100%",height:"100%"},OJ={x:0,y:0};function Kx(t){return t}var mFe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},yFe=function(e,n,r,i){var s=n.find(function(u){return u&&u.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,a=i.radius;return te(te(te({},i),Ct(i.cx,i.cy,a,o)),{},{angle:o,radius:a})}var l=s.coordinate,c=i.angle;return te(te(te({},i),Ct(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return OJ},FI=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,o=(r??[]).reduce(function(a,l){var c=l.props.data;return c&&c.length?[].concat(uy(a),uy(c)):a},[]);return o.length>0?o:e&&e.length&&ge(i)&&ge(s)?e.slice(i,s+1):[]};function kJ(t){return t==="number"?[0,"auto"]:void 0}var oD=function(e,n,r,i){var s=e.graphicalItems,o=e.tooltipAxis,a=FI(n,e);return r<0||!s||!s.length||r>=a.length?null:s.reduce(function(l,c){var u,h=(u=c.props.data)!==null&&u!==void 0?u:n;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(o.dataKey&&!o.allowDuplicatedCategory){var p=h===void 0?a:h;d=sS(p,o.dataKey,i)}else d=h&&h[r]||a[r];return d?[].concat(uy(l),[mQ(c,d)]):l},[])},l9=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},o=mFe(s,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=G2e(o,a,c,l);if(u>=0&&c){var h=c[u]&&c[u].value,d=oD(e,n,u,h),p=yFe(r,a,u,s);return{activeTooltipIndex:u,activeLabel:h,activePayload:d,activeCoordinate:p}}return null},vFe=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,o=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,h=e.children,d=e.stackOffset,p=uQ(u,s);return r.reduce(function(y,g){var v,b=g.type.defaultProps!==void 0?te(te({},g.type.defaultProps),g.props):g.props,w=b.type,_=b.dataKey,S=b.allowDataOverflow,x=b.allowDuplicatedCategory,T=b.scale,A=b.ticks,E=b.includeHidden,O=b[o];if(y[O])return y;var M=FI(e.data,{graphicalItems:i.filter(function(Z){var ne,Te=o in Z.props?Z.props[o]:(ne=Z.type.defaultProps)===null||ne===void 0?void 0:ne[o];return Te===O}),dataStartIndex:l,dataEndIndex:c}),D=M.length,$,L,W;W3e(b.domain,S,w)&&($=wM(b.domain,null,S),p&&(w==="number"||T!=="auto")&&(W=g0(M,_,"category")));var q=kJ(w);if(!$||$.length===0){var H,G=(H=b.domain)!==null&&H!==void 0?H:q;if(_){if($=g0(M,_,w),w==="category"&&p){var z=j0e($);x&&z?(L=$,$=GS(0,D)):x||($=x8(G,$,g).reduce(function(Z,ne){return Z.indexOf(ne)>=0?Z:[].concat(uy(Z),[ne])},[]))}else if(w==="category")x?$=$.filter(function(Z){return Z!==""&&!Be(Z)}):$=x8(G,$,g).reduce(function(Z,ne){return Z.indexOf(ne)>=0||ne===""||Be(ne)?Z:[].concat(uy(Z),[ne])},[]);else if(w==="number"){var X=Q2e(M,i.filter(function(Z){var ne,Te,Pe=o in Z.props?Z.props[o]:(ne=Z.type.defaultProps)===null||ne===void 0?void 0:ne[o],je="hide"in Z.props?Z.props.hide:(Te=Z.type.defaultProps)===null||Te===void 0?void 0:Te.hide;return Pe===O&&(E||!je)}),_,s,u);X&&($=X)}p&&(w==="number"||T!=="auto")&&(W=g0(M,_,"category"))}else p?$=GS(0,D):a&&a[O]&&a[O].hasStack&&w==="number"?$=d==="expand"?[0,1]:gQ(a[O].stackGroups,l,c):$=cQ(M,i.filter(function(Z){var ne=o in Z.props?Z.props[o]:Z.type.defaultProps[o],Te="hide"in Z.props?Z.props.hide:Z.type.defaultProps.hide;return ne===O&&(E||!Te)}),w,u,!0);if(w==="number")$=rD(h,$,O,s,A),G&&($=wM(G,$,S));else if(w==="category"&&G){var ee=G,ae=$.every(function(Z){return ee.indexOf(Z)>=0});ae&&($=ee)}}return te(te({},y),{},Re({},O,te(te({},b),{},{axisType:s,domain:$,categoricalDomain:W,duplicateDomain:L,originalDomain:(v=b.domain)!==null&&v!==void 0?v:q,isCategorical:p,layout:u})))},{})},bFe=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,o=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,h=e.children,d=FI(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),p=d.length,y=uQ(u,s),g=-1;return r.reduce(function(v,b){var w=b.type.defaultProps!==void 0?te(te({},b.type.defaultProps),b.props):b.props,_=w[o],S=kJ("number");if(!v[_]){g++;var x;return y?x=GS(0,p):a&&a[_]&&a[_].hasStack?(x=gQ(a[_].stackGroups,l,c),x=rD(h,x,_,s)):(x=wM(S,cQ(d,r.filter(function(T){var A,E,O=o in T.props?T.props[o]:(A=T.type.defaultProps)===null||A===void 0?void 0:A[o],M="hide"in T.props?T.props.hide:(E=T.type.defaultProps)===null||E===void 0?void 0:E.hide;return O===_&&!M}),"number",u),i.defaultProps.allowDataOverflow),x=rD(h,x,_,s)),te(te({},v),{},Re({},_,te(te({axisType:s},i.defaultProps),{},{hide:!0,orientation:Yi(pFe,"".concat(s,".").concat(g%2),null),domain:x,originalDomain:S,isCategorical:y,layout:u})))}return v},{})},wFe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,o=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,h="".concat(i,"Id"),d=Qi(u,s),p={};return d&&d.length?p=vFe(e,{axes:d,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:a,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(p=bFe(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:a,dataStartIndex:l,dataEndIndex:c})),p},_Fe=function(e){var n=lc(e),r=gl(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:UL(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:NS(n,r)}},c9=function(e){var n=e.children,r=e.defaultShowTooltip,i=Vi(n,ey),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},xFe=function(e){return!e||!e.length?!1:e.some(function(n){var r=yl(n&&n.type);return r&&r.indexOf("Bar")>=0})},u9=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},AFe=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,a=e.yAxisMap,l=a===void 0?{}:a,c=r.width,u=r.height,h=r.children,d=r.margin||{},p=Vi(h,ey),y=Vi(h,Cr),g=Object.keys(l).reduce(function(x,T){var A=l[T],E=A.orientation;return!A.mirror&&!A.hide?te(te({},x),{},Re({},E,x[E]+A.width)):x},{left:d.left||0,right:d.right||0}),v=Object.keys(o).reduce(function(x,T){var A=o[T],E=A.orientation;return!A.mirror&&!A.hide?te(te({},x),{},Re({},E,Yi(x,"".concat(E))+A.height)):x},{top:d.top||0,bottom:d.bottom||0}),b=te(te({},v),g),w=b.bottom;p&&(b.bottom+=p.props.height||ey.defaultProps.height),y&&n&&(b=X2e(b,i,r,n));var _=c-b.left-b.right,S=u-b.top-b.bottom;return te(te({brushBottom:w},b),{},{width:Math.max(_,0),height:Math.max(S,0)})},EFe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Sj=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,a=o===void 0?["axis"]:o,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,h=e.defaultProps,d=function(b,w){var _=w.graphicalItems,S=w.stackGroups,x=w.offset,T=w.updateId,A=w.dataStartIndex,E=w.dataEndIndex,O=b.barSize,M=b.layout,D=b.barGap,$=b.barCategoryGap,L=b.maxBarSize,W=u9(M),q=W.numericAxisName,H=W.cateAxisName,G=xFe(_),z=[];return _.forEach(function(X,ee){var ae=FI(b.data,{graphicalItems:[X],dataStartIndex:A,dataEndIndex:E}),Z=X.type.defaultProps!==void 0?te(te({},X.type.defaultProps),X.props):X.props,ne=Z.dataKey,Te=Z.maxBarSize,Pe=Z["".concat(q,"Id")],je=Z["".concat(H,"Id")],fe={},Ie=l.reduce(function(wi,ts){var st=w["".concat(ts.axisType,"Map")],xo=Z["".concat(ts.axisType,"Id")];st&&st[xo]||ts.axisType==="zAxis"||cf(!1);var Bl=st[xo];return te(te({},wi),{},Re(Re({},ts.axisType,Bl),"".concat(ts.axisType,"Ticks"),gl(Bl)))},fe),ie=Ie[H],me=Ie["".concat(H,"Ticks")],pe=S&&S[Pe]&&S[Pe].hasStack&&oRe(X,S[Pe].stackGroups),Y=yl(X.type).indexOf("Bar")>=0,Me=NS(ie,me),ce=[],ct=G&&q2e({barSize:O,stackGroups:S,totalSize:EFe(Ie,H)});if(Y){var ft,wt,jr=Be(Te)?L:Te,ti=(ft=(wt=NS(ie,me,!0))!==null&&wt!==void 0?wt:jr)!==null&&ft!==void 0?ft:0;ce=K2e({barGap:D,barCategoryGap:$,bandSize:ti!==Me?ti:Me,sizeList:ct[je],maxBarSize:jr}),ti!==Me&&(ce=ce.map(function(wi){return te(te({},wi),{},{position:te(te({},wi.position),{},{offset:wi.position.offset-ti/2})})}))}var pr=X&&X.type&&X.type.getComposedData;pr&&z.push({props:te(te({},pr(te(te({},Ie),{},{displayedData:ae,props:b,dataKey:ne,item:X,bandSize:Me,barPosition:ce,offset:x,stackedData:pe,layout:M,dataStartIndex:A,dataEndIndex:E}))),{},Re(Re(Re({key:X.key||"item-".concat(ee)},q,Ie[q]),H,Ie[H]),"animationId",T)),childIndex:Q0e(X,b.children),item:X})}),z},p=function(b,w){var _=b.props,S=b.dataStartIndex,x=b.dataEndIndex,T=b.updateId;if(!h5({props:_}))return null;var A=_.children,E=_.layout,O=_.stackOffset,M=_.data,D=_.reverseStackOrder,$=u9(E),L=$.numericAxisName,W=$.cateAxisName,q=Qi(A,r),H=iRe(M,q,"".concat(L,"Id"),"".concat(W,"Id"),O,D),G=l.reduce(function(Z,ne){var Te="".concat(ne.axisType,"Map");return te(te({},Z),{},Re({},Te,wFe(_,te(te({},ne),{},{graphicalItems:q,stackGroups:ne.axisType===L&&H,dataStartIndex:S,dataEndIndex:x}))))},{}),z=AFe(te(te({},G),{},{props:_,graphicalItems:q}),w==null?void 0:w.legendBBox);Object.keys(G).forEach(function(Z){G[Z]=u(_,G[Z],z,Z.replace("Map",""),n)});var X=G["".concat(W,"Map")],ee=_Fe(X),ae=d(_,te(te({},G),{},{dataStartIndex:S,dataEndIndex:x,updateId:T,graphicalItems:q,stackGroups:H,offset:z}));return te(te({formattedGraphicalItems:ae,graphicalItems:q,offset:z,stackGroups:H},ee),G)},y=function(v){function b(w){var _,S,x;return iFe(this,b),x=oFe(this,b,[w]),Re(x,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Re(x,"accessibilityManager",new H3e),Re(x,"handleLegendBBoxUpdate",function(T){if(T){var A=x.state,E=A.dataStartIndex,O=A.dataEndIndex,M=A.updateId;x.setState(te({legendBBox:T},p({props:x.props,dataStartIndex:E,dataEndIndex:O,updateId:M},te(te({},x.state),{},{legendBBox:T}))))}}),Re(x,"handleReceiveSyncEvent",function(T,A,E){if(x.props.syncId===T){if(E===x.eventEmitterSymbol&&typeof x.props.syncMethod!="function")return;x.applySyncEvent(A)}}),Re(x,"handleBrushChange",function(T){var A=T.startIndex,E=T.endIndex;if(A!==x.state.dataStartIndex||E!==x.state.dataEndIndex){var O=x.state.updateId;x.setState(function(){return te({dataStartIndex:A,dataEndIndex:E},p({props:x.props,dataStartIndex:A,dataEndIndex:E,updateId:O},x.state))}),x.triggerSyncEvent({dataStartIndex:A,dataEndIndex:E})}}),Re(x,"handleMouseEnter",function(T){var A=x.getMouseInfo(T);if(A){var E=te(te({},A),{},{isTooltipActive:!0});x.setState(E),x.triggerSyncEvent(E);var O=x.props.onMouseEnter;De(O)&&O(E,T)}}),Re(x,"triggeredAfterMouseMove",function(T){var A=x.getMouseInfo(T),E=A?te(te({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};x.setState(E),x.triggerSyncEvent(E);var O=x.props.onMouseMove;De(O)&&O(E,T)}),Re(x,"handleItemMouseEnter",function(T){x.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),Re(x,"handleItemMouseLeave",function(){x.setState(function(){return{isTooltipActive:!1}})}),Re(x,"handleMouseMove",function(T){T.persist(),x.throttleTriggeredAfterMouseMove(T)}),Re(x,"handleMouseLeave",function(T){x.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};x.setState(A),x.triggerSyncEvent(A);var E=x.props.onMouseLeave;De(E)&&E(A,T)}),Re(x,"handleOuterEvent",function(T){var A=Y0e(T),E=Yi(x.props,"".concat(A));if(A&&De(E)){var O,M;/.*touch.*/i.test(A)?M=x.getMouseInfo(T.changedTouches[0]):M=x.getMouseInfo(T),E((O=M)!==null&&O!==void 0?O:{},T)}}),Re(x,"handleClick",function(T){var A=x.getMouseInfo(T);if(A){var E=te(te({},A),{},{isTooltipActive:!0});x.setState(E),x.triggerSyncEvent(E);var O=x.props.onClick;De(O)&&O(E,T)}}),Re(x,"handleMouseDown",function(T){var A=x.props.onMouseDown;if(De(A)){var E=x.getMouseInfo(T);A(E,T)}}),Re(x,"handleMouseUp",function(T){var A=x.props.onMouseUp;if(De(A)){var E=x.getMouseInfo(T);A(E,T)}}),Re(x,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&x.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),Re(x,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&x.handleMouseDown(T.changedTouches[0])}),Re(x,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&x.handleMouseUp(T.changedTouches[0])}),Re(x,"handleDoubleClick",function(T){var A=x.props.onDoubleClick;if(De(A)){var E=x.getMouseInfo(T);A(E,T)}}),Re(x,"handleContextMenu",function(T){var A=x.props.onContextMenu;if(De(A)){var E=x.getMouseInfo(T);A(E,T)}}),Re(x,"triggerSyncEvent",function(T){x.props.syncId!==void 0&&Ik.emit(Ok,x.props.syncId,T,x.eventEmitterSymbol)}),Re(x,"applySyncEvent",function(T){var A=x.props,E=A.layout,O=A.syncMethod,M=x.state.updateId,D=T.dataStartIndex,$=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)x.setState(te({dataStartIndex:D,dataEndIndex:$},p({props:x.props,dataStartIndex:D,dataEndIndex:$,updateId:M},x.state)));else if(T.activeTooltipIndex!==void 0){var L=T.chartX,W=T.chartY,q=T.activeTooltipIndex,H=x.state,G=H.offset,z=H.tooltipTicks;if(!G)return;if(typeof O=="function")q=O(z,T);else if(O==="value"){q=-1;for(var X=0;X<z.length;X++)if(z[X].value===T.activeLabel){q=X;break}}var ee=te(te({},G),{},{x:G.left,y:G.top}),ae=Math.min(L,ee.x+ee.width),Z=Math.min(W,ee.y+ee.height),ne=z[q]&&z[q].value,Te=oD(x.state,x.props.data,q),Pe=z[q]?{x:E==="horizontal"?z[q].coordinate:ae,y:E==="horizontal"?Z:z[q].coordinate}:OJ;x.setState(te(te({},T),{},{activeLabel:ne,activeCoordinate:Pe,activePayload:Te,activeTooltipIndex:q}))}else x.setState(T)}),Re(x,"renderCursor",function(T){var A,E=x.state,O=E.isTooltipActive,M=E.activeCoordinate,D=E.activePayload,$=E.offset,L=E.activeTooltipIndex,W=E.tooltipAxisBandSize,q=x.getTooltipEventType(),H=(A=T.props.active)!==null&&A!==void 0?A:O,G=x.props.layout,z=T.key||"_recharts-cursor";return U.createElement(Q3e,{key:z,activeCoordinate:M,activePayload:D,activeTooltipIndex:L,chartName:n,element:T,isActive:H,layout:G,offset:$,tooltipAxisBandSize:W,tooltipEventType:q})}),Re(x,"renderPolarAxis",function(T,A,E){var O=Yi(T,"type.axisType"),M=Yi(x.state,"".concat(O,"Map")),D=T.type.defaultProps,$=D!==void 0?te(te({},D),T.props):T.props,L=M&&M[$["".concat(O,"Id")]];return I.cloneElement(T,te(te({},L),{},{className:Ue(O,L.className),key:T.key||"".concat(A,"-").concat(E),ticks:gl(L,!0)}))}),Re(x,"renderPolarGrid",function(T){var A=T.props,E=A.radialLines,O=A.polarAngles,M=A.polarRadius,D=x.state,$=D.radiusAxisMap,L=D.angleAxisMap,W=lc($),q=lc(L),H=q.cx,G=q.cy,z=q.innerRadius,X=q.outerRadius;return I.cloneElement(T,{polarAngles:Array.isArray(O)?O:gl(q,!0).map(function(ee){return ee.coordinate}),polarRadius:Array.isArray(M)?M:gl(W,!0).map(function(ee){return ee.coordinate}),cx:H,cy:G,innerRadius:z,outerRadius:X,key:T.key||"polar-grid",radialLines:E})}),Re(x,"renderLegend",function(){var T=x.state.formattedGraphicalItems,A=x.props,E=A.children,O=A.width,M=A.height,D=x.props.margin||{},$=O-(D.left||0)-(D.right||0),L=aQ({children:E,formattedGraphicalItems:T,legendWidth:$,legendContent:c});if(!L)return null;var W=L.item,q=s9(L,J3e);return I.cloneElement(W,te(te({},q),{},{chartWidth:O,chartHeight:M,margin:D,onBBoxUpdate:x.handleLegendBBoxUpdate}))}),Re(x,"renderTooltip",function(){var T,A=x.props,E=A.children,O=A.accessibilityLayer,M=Vi(E,gn);if(!M)return null;var D=x.state,$=D.isTooltipActive,L=D.activeCoordinate,W=D.activePayload,q=D.activeLabel,H=D.offset,G=(T=M.props.active)!==null&&T!==void 0?T:$;return I.cloneElement(M,{viewBox:te(te({},H),{},{x:H.left,y:H.top}),active:G,label:q,payload:G?W:[],coordinate:L,accessibilityLayer:O})}),Re(x,"renderBrush",function(T){var A=x.props,E=A.margin,O=A.data,M=x.state,D=M.offset,$=M.dataStartIndex,L=M.dataEndIndex,W=M.updateId;return I.cloneElement(T,{key:T.key||"_recharts-brush",onChange:zx(x.handleBrushChange,T.props.onChange),data:O,x:ge(T.props.x)?T.props.x:D.left,y:ge(T.props.y)?T.props.y:D.top+D.height+D.brushBottom-(E.bottom||0),width:ge(T.props.width)?T.props.width:D.width,startIndex:$,endIndex:L,updateId:"brush-".concat(W)})}),Re(x,"renderReferenceElement",function(T,A,E){if(!T)return null;var O=x,M=O.clipPathId,D=x.state,$=D.xAxisMap,L=D.yAxisMap,W=D.offset,q=T.type.defaultProps||{},H=T.props,G=H.xAxisId,z=G===void 0?q.xAxisId:G,X=H.yAxisId,ee=X===void 0?q.yAxisId:X;return I.cloneElement(T,{key:T.key||"".concat(A,"-").concat(E),xAxis:$[z],yAxis:L[ee],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:M})}),Re(x,"renderActivePoints",function(T){var A=T.item,E=T.activePoint,O=T.basePoint,M=T.childIndex,D=T.isRange,$=[],L=A.props.key,W=A.item.type.defaultProps!==void 0?te(te({},A.item.type.defaultProps),A.item.props):A.item.props,q=W.activeDot,H=W.dataKey,G=te(te({index:M,dataKey:H,cx:E.x,cy:E.y,r:4,fill:pj(A.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},Oe(q,!1)),oS(q));return $.push(b.renderActiveDot(q,G,"".concat(L,"-activePoint-").concat(M))),O?$.push(b.renderActiveDot(q,te(te({},G),{},{cx:O.x,cy:O.y}),"".concat(L,"-basePoint-").concat(M))):D&&$.push(null),$}),Re(x,"renderGraphicChild",function(T,A,E){var O=x.filterFormatItem(T,A,E);if(!O)return null;var M=x.getTooltipEventType(),D=x.state,$=D.isTooltipActive,L=D.tooltipAxis,W=D.activeTooltipIndex,q=D.activeLabel,H=x.props.children,G=Vi(H,gn),z=O.props,X=z.points,ee=z.isRange,ae=z.baseLine,Z=O.item.type.defaultProps!==void 0?te(te({},O.item.type.defaultProps),O.item.props):O.item.props,ne=Z.activeDot,Te=Z.hide,Pe=Z.activeBar,je=Z.activeShape,fe=!!(!Te&&$&&G&&(ne||Pe||je)),Ie={};M!=="axis"&&G&&G.props.trigger==="click"?Ie={onClick:zx(x.handleItemMouseEnter,T.props.onClick)}:M!=="axis"&&(Ie={onMouseLeave:zx(x.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:zx(x.handleItemMouseEnter,T.props.onMouseEnter)});var ie=I.cloneElement(T,te(te({},O.props),Ie));function me(ts){return typeof L.dataKey=="function"?L.dataKey(ts.payload):null}if(fe)if(W>=0){var pe,Y;if(L.dataKey&&!L.allowDuplicatedCategory){var Me=typeof L.dataKey=="function"?me:"payload.".concat(L.dataKey.toString());pe=sS(X,Me,q),Y=ee&&ae&&sS(ae,Me,q)}else pe=X==null?void 0:X[W],Y=ee&&ae&&ae[W];if(je||Pe){var ce=T.props.activeIndex!==void 0?T.props.activeIndex:W;return[I.cloneElement(T,te(te(te({},O.props),Ie),{},{activeIndex:ce})),null,null]}if(!Be(pe))return[ie].concat(uy(x.renderActivePoints({item:O,activePoint:pe,basePoint:Y,childIndex:W,isRange:ee})))}else{var ct,ft=(ct=x.getItemByXY(x.state.activeCoordinate))!==null&&ct!==void 0?ct:{graphicalItem:ie},wt=ft.graphicalItem,jr=wt.item,ti=jr===void 0?T:jr,pr=wt.childIndex,wi=te(te(te({},O.props),Ie),{},{activeIndex:pr});return[I.cloneElement(ti,wi),null,null]}return ee?[ie,null,null]:[ie,null]}),Re(x,"renderCustomized",function(T,A,E){return I.cloneElement(T,te(te({key:"recharts-customized-".concat(E)},x.props),x.state))}),Re(x,"renderMap",{CartesianGrid:{handler:Kx,once:!0},ReferenceArea:{handler:x.renderReferenceElement},ReferenceLine:{handler:Kx},ReferenceDot:{handler:x.renderReferenceElement},XAxis:{handler:Kx},YAxis:{handler:Kx},Brush:{handler:x.renderBrush,once:!0},Bar:{handler:x.renderGraphicChild},Line:{handler:x.renderGraphicChild},Area:{handler:x.renderGraphicChild},Radar:{handler:x.renderGraphicChild},RadialBar:{handler:x.renderGraphicChild},Scatter:{handler:x.renderGraphicChild},Pie:{handler:x.renderGraphicChild},Funnel:{handler:x.renderGraphicChild},Tooltip:{handler:x.renderCursor,once:!0},PolarGrid:{handler:x.renderPolarGrid,once:!0},PolarAngleAxis:{handler:x.renderPolarAxis},PolarRadiusAxis:{handler:x.renderPolarAxis},Customized:{handler:x.renderCustomized}}),x.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:ky("recharts"),"-clip"),x.throttleTriggeredAfterMouseMove=oY(x.triggeredAfterMouseMove,(S=w.throttleDelay)!==null&&S!==void 0?S:1e3/60),x.state={},x}return cFe(b,v),sFe(b,[{key:"componentDidMount",value:function(){var _,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,S=_.children,x=_.data,T=_.height,A=_.layout,E=Vi(S,gn);if(E){var O=E.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,D=oD(this.state,x,O,M),$=this.state.tooltipTicks[O].coordinate,L=(this.state.offset.top+T)/2,W=A==="horizontal",q=W?{x:$,y:L}:{y:$,x:L},H=this.state.formattedGraphicalItems.find(function(z){var X=z.item;return X.type.name==="Scatter"});H&&(q=te(te({},q),H.props.points[O].tooltipPosition),D=H.props.points[O].tooltipPayload);var G={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:M,activePayload:D,activeCoordinate:q};this.setState(G),this.renderCursor(E),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var x,T;this.accessibilityManager.setDetails({offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(_){DN([Vi(_.children,gn)],[Vi(this.props.children,gn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Vi(this.props.children,gn);if(_&&typeof _.props.shared=="boolean"){var S=_.props.shared?"axis":"item";return a.indexOf(S)>=0?S:s}return s}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var S=this.container,x=S.getBoundingClientRect(),T=wCe(x),A={chartX:Math.round(_.pageX-T.left),chartY:Math.round(_.pageY-T.top)},E=x.width/S.offsetWidth||1,O=this.inRange(A.chartX,A.chartY,E);if(!O)return null;var M=this.state,D=M.xAxisMap,$=M.yAxisMap,L=this.getTooltipEventType(),W=l9(this.state,this.props.data,this.props.layout,O);if(L!=="axis"&&D&&$){var q=lc(D).scale,H=lc($).scale,G=q&&q.invert?q.invert(A.chartX):null,z=H&&H.invert?H.invert(A.chartY):null;return te(te({},A),{},{xValue:G,yValue:z},W)}return W?te(te({},A),W):null}},{key:"inRange",value:function(_,S){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,A=_/x,E=S/x;if(T==="horizontal"||T==="vertical"){var O=this.state.offset,M=A>=O.left&&A<=O.left+O.width&&E>=O.top&&E<=O.top+O.height;return M?{x:A,y:E}:null}var D=this.state,$=D.angleAxisMap,L=D.radiusAxisMap;if($&&L){var W=lc($);return S8({x:A,y:E},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,S=this.getTooltipEventType(),x=Vi(_,gn),T={};x&&S==="axis"&&(x.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=oS(this.props,this.handleOuterEvent);return te(te({},A),T)}},{key:"addListener",value:function(){Ik.on(Ok,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ik.removeListener(Ok,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,S,x){for(var T=this.state.formattedGraphicalItems,A=0,E=T.length;A<E;A++){var O=T[A];if(O.item===_||O.props.key===_.key||S===yl(O.item.type)&&x===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,S=this.state.offset,x=S.left,T=S.top,A=S.height,E=S.width;return U.createElement("defs",null,U.createElement("clipPath",{id:_},U.createElement("rect",{x,y:T,height:A,width:E})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(S,x){var T=i9(x,2),A=T[0],E=T[1];return te(te({},S),{},Re({},A,E.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(S,x){var T=i9(x,2),A=T[0],E=T[1];return te(te({},S),{},Re({},A,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[_])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(_){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[_])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(_){var S=this.state,x=S.formattedGraphicalItems,T=S.activeItem;if(x&&x.length)for(var A=0,E=x.length;A<E;A++){var O=x[A],M=O.props,D=O.item,$=D.type.defaultProps!==void 0?te(te({},D.type.defaultProps),D.props):D.props,L=yl(D.type);if(L==="Bar"){var W=(M.data||[]).find(function(z){return tDe(_,z)});if(W)return{graphicalItem:O,payload:W}}else if(L==="RadialBar"){var q=(M.data||[]).find(function(z){return S8(_,z)});if(q)return{graphicalItem:O,payload:q}}else if(RI(O,T)||NI(O,T)||Sb(O,T)){var H=z$e({graphicalItem:O,activeTooltipItem:T,itemData:$.data}),G=$.activeIndex===void 0?H:$.activeIndex;return{graphicalItem:te(te({},O),{},{childIndex:G}),payload:Sb(O,T)?$.data[H]:O.props.data[H]}}}return null}},{key:"render",value:function(){var _=this;if(!h5(this))return null;var S=this.props,x=S.children,T=S.className,A=S.width,E=S.height,O=S.style,M=S.compact,D=S.title,$=S.desc,L=s9(S,Z3e),W=Oe(L,!1);if(M)return U.createElement(MB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement(LN,xp({},W,{width:A,height:E,title:D,desc:$}),this.renderClipPath(),f5(x,this.renderMap)));if(this.props.accessibilityLayer){var q,H;W.tabIndex=(q=this.props.tabIndex)!==null&&q!==void 0?q:0,W.role=(H=this.props.role)!==null&&H!==void 0?H:"application",W.onKeyDown=function(z){_.accessibilityManager.keyboardEvent(z)},W.onFocus=function(){_.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return U.createElement(MB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement("div",xp({className:Ue("recharts-wrapper",T),style:te({position:"relative",cursor:"default",width:A,height:E},O)},G,{ref:function(X){_.container=X}}),U.createElement(LN,xp({},W,{width:A,height:E,title:D,desc:$,style:gFe}),this.renderClipPath(),f5(x,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(I.Component);Re(y,"displayName",n),Re(y,"defaultProps",te({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Re(y,"getDerivedStateFromProps",function(v,b){var w=v.dataKey,_=v.data,S=v.children,x=v.width,T=v.height,A=v.layout,E=v.stackOffset,O=v.margin,M=b.dataStartIndex,D=b.dataEndIndex;if(b.updateId===void 0){var $=c9(v);return te(te(te({},$),{},{updateId:0},p(te(te({props:v},$),{},{updateId:0}),b)),{},{prevDataKey:w,prevData:_,prevWidth:x,prevHeight:T,prevLayout:A,prevStackOffset:E,prevMargin:O,prevChildren:S})}if(w!==b.prevDataKey||_!==b.prevData||x!==b.prevWidth||T!==b.prevHeight||A!==b.prevLayout||E!==b.prevStackOffset||!Fp(O,b.prevMargin)){var L=c9(v),W={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},q=te(te({},l9(b,_,A)),{},{updateId:b.updateId+1}),H=te(te(te({},L),W),q);return te(te(te({},H),p(te({props:v},H),b)),{},{prevDataKey:w,prevData:_,prevWidth:x,prevHeight:T,prevLayout:A,prevStackOffset:E,prevMargin:O,prevChildren:S})}if(!DN(S,b.prevChildren)){var G,z,X,ee,ae=Vi(S,ey),Z=ae&&(G=(z=ae.props)===null||z===void 0?void 0:z.startIndex)!==null&&G!==void 0?G:M,ne=ae&&(X=(ee=ae.props)===null||ee===void 0?void 0:ee.endIndex)!==null&&X!==void 0?X:D,Te=Z!==M||ne!==D,Pe=!Be(_),je=Pe&&!Te?b.updateId:b.updateId+1;return te(te({updateId:je},p(te(te({props:v},b),{},{updateId:je,dataStartIndex:Z,dataEndIndex:ne}),b)),{},{prevChildren:S,dataStartIndex:Z,dataEndIndex:ne})}return null}),Re(y,"renderActiveDot",function(v,b,w){var _;return I.isValidElement(v)?_=I.cloneElement(v,b):De(v)?_=v(b):_=U.createElement(PI,b),U.createElement(at,{className:"recharts-active-dot",key:w},_)});var g=I.forwardRef(function(b,w){return U.createElement(y,xp({},b,{ref:w}))});return g.displayName=y.displayName,g},SFe=Sj({chartName:"LineChart",GraphicalChild:O1,axisComponents:[{axisType:"xAxis",AxisComp:Ud},{axisType:"yAxis",AxisComp:zd}],formatAxisMap:YQ}),h9=Sj({chartName:"BarChart",GraphicalChild:wl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ud},{axisType:"yAxis",AxisComp:zd}],formatAxisMap:YQ}),Yl=Sj({chartName:"PieChart",GraphicalChild:kr,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:kI},{axisType:"radiusAxis",AxisComp:II}],formatAxisMap:mRe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const TFe=({user:t})=>{const[e,n]=I.useState([]),[r,i]=I.useState(null),[s,o]=I.useState({name:"",keywords:[]}),[a,l]=I.useState(""),[c,u]=I.useState(!1),[h,d]=I.useState({type:"",message:""}),p="other-account-special",y="Other Account",g=async()=>{if(t){u(!0);try{const E=$m(Ui,"users",t.uid,"categories"),O=await Ole(E);let M=[],D=!1;if(O.forEach($=>{const L={id:$.id,...$.data()};L.isOtherAccount&&(D=!0),M.push(L)}),!D){const $={id:p,name:y,keywords:["other","account","misc"],isOtherAccount:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await d0(eu(E,p),$),M.push($)}n(M)}catch(E){console.error("Error loading categories:",E),d({type:"error",message:"Failed to load categories"})}u(!1)}};I.useEffect(()=>{g()},[t]);const v=async E=>{if(t){u(!0);try{const O=$m(Ui,"users",t.uid,"categories"),M=E.id||Date.now().toString();await d0(eu(O,M),{name:E.name,keywords:E.keywords,isOtherAccount:E.isOtherAccount||!1,createdAt:E.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString()}),d({type:"success",message:"Category saved successfully!"}),g(),A()}catch(O){console.error("Error saving category:",O),d({type:"error",message:"Failed to save category"})}u(!1)}},b=async E=>{const O=e.find(M=>M.id===E);if(O&&O.isOtherAccount){d({type:"error",message:"Cannot delete the Other Account category."});return}if(!(!t||!window.confirm("Are you sure you want to delete this category?"))){u(!0);try{const M=eu(Ui,"users",t.uid,"categories",E);await lW(M),d({type:"success",message:"Category deleted successfully!"}),g()}catch(M){console.error("Error deleting category:",M),d({type:"error",message:"Failed to delete category"})}u(!1)}},w=E=>{if(E.preventDefault(),!s.name.trim()){d({type:"error",message:"Category name is required"});return}if(s.keywords.length===0){d({type:"error",message:"At least one keyword is required"});return}const O=r?{...r,name:s.name,keywords:s.keywords}:s;v(O)},_=()=>{if(a.trim()){if(s.keywords.includes(a.trim().toLowerCase())){d({type:"error",message:"Keyword already exists"});return}o(E=>({...E,keywords:[...E.keywords,a.trim().toLowerCase()]})),l("")}},S=E=>{o(O=>({...O,keywords:O.keywords.filter(M=>M!==E)}))},x=E=>{i(E),o({name:E.name,keywords:[...E.keywords]})},T=()=>{i(null),A()},A=()=>{o({name:"",keywords:[]}),l(""),i(null)};return I.useEffect(()=>{if(h.message){const E=setTimeout(()=>d({type:"",message:""}),3e3);return()=>clearTimeout(E)}},[h]),C.jsxs(nn,{className:"bg-white dark:bg-gray-900 xl:col-span-2 mt-6",children:[C.jsxs(rn,{children:[C.jsxs(sn,{className:"flex items-center gap-2 dark:text-gray-100",children:[C.jsx(wx,{className:"h-5 w-5 text-indigo-600 dark:text-indigo-400"}),"Category & Keyword Manager"]}),C.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Create custom categories and keywords to automatically categorize your transactions"})]}),C.jsxs(on,{children:[h.message&&C.jsx("div",{className:`mb-4 p-3 rounded-md ${h.type==="success"?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-200":"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-200"}`,children:h.message}),C.jsxs("form",{onSubmit:w,className:"mb-6 p-4 border rounded-lg bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[C.jsx(wx,{className:"h-4 w-4 text-indigo-600 dark:text-indigo-400"}),C.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:r?"Edit Category":"Add New Category"})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category Name"}),C.jsx(ao,{type:"text",value:s.name,onChange:E=>o(O=>({...O,name:E.target.value})),placeholder:"e.g., Coffee Shops, Online Shopping",className:"w-full bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-900 dark:text-gray-100"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Add Keyword"}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx(ao,{type:"text",value:a,onChange:E=>l(E.target.value),placeholder:"e.g., starbucks, coffee",className:"flex-1 bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-900 dark:text-gray-100",onKeyPress:E=>E.key==="Enter"&&(E.preventDefault(),_())}),C.jsx(mn,{type:"button",onClick:_,className:"bg-indigo-600 hover:bg-indigo-700 dark:bg-indigo-800 dark:hover:bg-indigo-900",children:C.jsx(Lce,{className:"h-4 w-4"})})]})]})]}),s.keywords.length>0&&C.jsxs("div",{className:"mb-4",children:[C.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Keywords (",s.keywords.length,")"]}),C.jsx("div",{className:"flex flex-wrap gap-2",children:s.keywords.map((E,O)=>C.jsxs(Iv,{variant:"secondary",className:"bg-blue-100 text-blue-800 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-200 dark:hover:bg-blue-800",children:[C.jsx(ZF,{className:"h-3 w-3 mr-1"}),E,C.jsx("button",{type:"button",onClick:()=>S(E),className:"ml-2 bg-white text-gray-800 rounded-full p-1 hover:bg-gray-100 dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700 hover:text-red-600",children:C.jsx(eR,{className:"h-3 w-3"})})]},O))})]}),C.jsxs("div",{className:"flex gap-2",children:[C.jsxs(mn,{type:"submit",disabled:c||!s.name.trim()||s.keywords.length===0,className:"bg-white border border-gray-300 text-gray-800 hover:bg-gray-50 dark:bg-gray-900 dark:border-gray-700 dark:text-gray-200 dark:hover:bg-gray-800",children:[C.jsx(jce,{className:"h-4 w-4 mr-2"}),c?"Saving...":r?"Update Category":"Add Category"]}),r&&C.jsxs(mn,{type:"button",onClick:T,variant:"outline",className:"border-gray-300 text-gray-700 hover:bg-gray-50 dark:text-gray-200 dark:hover:bg-gray-800",children:[C.jsx(eR,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]}),C.jsxs("div",{children:[C.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Your Categories"}),c?C.jsx("div",{className:"text-center py-8",children:C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading categories..."})}):e.length===0?C.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg",children:[C.jsx(wx,{className:"h-12 w-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No custom categories yet"}),C.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"Create your first category above"})]}):C.jsx("div",{className:"space-y-4",children:e.map(E=>C.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors border-gray-200 dark:border-gray-700",children:[C.jsxs("div",{className:"flex items-center justify-between mb-3",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(wx,{className:"h-4 w-4 text-indigo-600 dark:text-indigo-400"}),C.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:E.name}),C.jsxs(Iv,{variant:"outline",className:"text-xs border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300",children:[E.keywords.length," keywords"]}),E.isOtherAccount&&C.jsx(Iv,{variant:"secondary",className:"ml-2 bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",children:"Special"})]}),C.jsxs("div",{className:"flex gap-2",children:[C.jsxs(mn,{size:"sm",variant:"outline",onClick:()=>x(E),className:"bg-white border border-gray-300 text-gray-800 hover:bg-gray-50 dark:bg-gray-900 dark:border-gray-700 dark:text-gray-200 dark:hover:bg-gray-800",children:[C.jsx(Rce,{className:"h-3 w-3 mr-1"}),"Edit"]}),C.jsxs(mn,{size:"sm",variant:"outline",onClick:()=>b(E.id),className:`border-red-200 text-red-600 hover:bg-red-50 dark:border-red-700 dark:text-red-400 dark:hover:bg-red-900 ${E.isOtherAccount?"opacity-50 cursor-not-allowed":""}`,disabled:E.isOtherAccount,children:[C.jsx(Uce,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]}),C.jsx("div",{className:"flex flex-wrap gap-2",children:E.keywords.map((O,M)=>C.jsxs(Iv,{variant:"secondary",className:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-200",children:[C.jsx(ZF,{className:"h-3 w-3 mr-1"}),O]},M))})]},E.id))})]})]})]})},_r=["#8b5cf6","#06b6d4","#10b981","#f59e0b","#ef4444","#ec4899","#6366f1","#14b8a6","#f43f5e","#fbbf24","#22d3ee","#a3e635","#f472b6","#facc15","#38bdf8","#f87171","#34d399","#818cf8","#fcd34d","#fca5a5"],d9=[{id:"1",name:"Personal",type:"Personal",currency:"USD",balance:5e3,description:"Main personal account",createdAt:new Date().toISOString()},{id:"2",name:"Business",type:"Business",currency:"USD",balance:15e3,description:"Business operations account",createdAt:new Date().toISOString()}],f9=["income","got","received","sell","support"];function Xx(t){if(!t)return"";const e=new Date(t);return Yv[e.getMonth()]}const Yv=["January","February","March","April","May","June","July","August","September","October","November","December"];Qo.workerSrc=hge;const PFe={Food:["food","meal","eat out","pad thai","groceries","restaurant","Burger King","coffee","probiotic drink","baill pork rice","sushi","gill fish","thai noodle"],Grocery:["grocery","pork","banana","veggie","vegetable","vegetables","orange","garlic","tomatoes","veggies","chicken","beef","fish","milk","yogurt","cheese","butter","egg","chocolate","green tea","rice","noodle","bread","cake","cookie","chips","herb thai","thai herb","chinese herb","pineapple","fruit","watermelon","mango","coconut","pineapple","banana","orange","apple","pear","peach","plum","cherry","strawberry","blueberry","raspberry","blackberry","pineapple","watermelon","mango","coconut","pineapple","banana","orange","apple","pear","peach","plum","cherry","strawberry","blueberry","raspberry","blackberry"],Rent:["rent"],Utilities:["utilities","kitchen equipment","electric","water","internet","phone"],Transportation:["transportation","gas","bus","train","taxi","grab"],"Motorbike petrol":["petrol","gasoline","bike","bike petrol"],Laundry:["laundry","dryer"],Gym:["gym","utcc app tapup","muaythai","jujitsu","fitness"],iCloud:["icloud"],Entertainment:["entertainment","movie","concert","game","hangout","hang out","Drink","drink"],Shopping:["shopping","clothes","electronics"],Healthcare:["healthcare","pill","medicine","doctor","pharmacy"],Education:["education","book","course"],Insurance:["insurance","life insurance","health insurance","car insurance","home insurance","travel insurance"],"Personal interest":["interest income","bank interest","interest"],"Shipping cost":["shipping","delivery","kerry","flash","bolt","Grab"],"Family support":["mom","dad","family","brother","sister","parents"],Job:["part-time","salary","job","freelance"],Dividend:["dividend"],"Other income":["other income"],"Passive income":["passive income"],Business:["business","store","shop","client"],"Business utility":["business utility","business electric","shop water","store internet","store phone"],"Employee salary":["employee","salary","payroll","staff salary"],"Business shipping cost":["business delivery","company shipping"],"Bank loan":["loan","bank loan"],"Business Bank loan":["business loan","store loan"],"Healthcare employee":["medical staff","clinic staff","hospital payroll","healthcare staff","Pill staff"],"Transportation fee employee":["employee transport","staff bus"],ETF:["etf"],Stock:["stock"],"Global Stock":["us stock","global stock"],Bond:["bond"],crypto:["bitcoin","ethereum","solana","dogecoin","shiba inu","ripple"],"Emergency Fund":["emergency"],"Long-Term saving":["long term","future saving"],"Personal income Tax":["personal income tax","PIT","personal income","individual tax"],"Withholding tax (individual)":["withholding tax","WHT","withholding"],"Value Added Tax (individual)":["VAT","value added tax","vat"],"Stamp Duty (individual)":["stamp duty","stamp"],"Business tax":["business tax","company tax","corporate tax","store tax","shop tax","business tax"],"Business income Tax":["business income tax","BIT","business income"],"Business interest":["business interest","business interest income"],"Withholding tax (business)":["withholding tax","WHT","withholding","shop withholding","company withholding","store withholding","business withholding"],"Value Added Tax (business)":["VAT","value added tax","vat","shop vat","company vat","store vat","business vat"],"Stamp Duty (business)":["stamp duty","stamp"],Dating:["dating","date"],"sex worker":["escort","red light","sex worker"],"Other expense":["other expense"]},CFe=t=>$m(Ui,"users",t,"accounts"),IFe=t=>$m(Ui,"users",t,"transactions");function Rk(t){return t>=1e9?(t/1e9).toFixed(1).replace(/\.0$/,"")+"B":t>=1e6?(t/1e6).toFixed(1).replace(/\.0$/,"")+"M":t>=1e5?(t/1e3).toFixed(0)+"K":t.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}const OFe=()=>{const[t,e]=I.useState(!1),n=I.useRef();return I.useEffect(()=>{if(!t)return;function r(i){n.current&&!n.current.contains(i.target)&&e(!1)}return document.addEventListener("mousedown",r),()=>document.removeEventListener("mousedown",r)},[t]),{open:t,setOpen:e,ref:n}};function kFe(t){return t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}const p9={Turemoney:X$,cash:Mce};function RFe(t,e){const[n,r]=I.useState(t);return I.useEffect(()=>{const i=setTimeout(()=>r(t),e);return()=>clearTimeout(i)},[t,e]),n}function NFe(t){return t.find(e=>e.isOtherAccount)}const MFe=()=>{var Mf;const{user:t,signOut:e}=OC(),[n,r]=I.useState(d9),[i,s]=I.useState(((Mf=n[0])==null?void 0:Mf.id)||null),[o,a]=I.useState(Yv[new Date().getMonth()]),[l,c]=I.useState(null),[u,h]=I.useState(!0);I.useState("Food"),I.useState("");const[d,p]=I.useState({type:"",message:""}),[y,g]=I.useState(!1),[v,b]=I.useState(""),[w,_]=I.useState(null);I.useState(""),I.useState(null),I.useState(!1),I.useState(!1);const[S,x]=I.useState("All"),[T,A]=I.useState(null),[E,O]=I.useState(null),[M,D]=I.useState(null),[$,L]=I.useState({amount:"",description:"",category:"",date:"",time:""}),[W,q]=I.useState(!1),[H,G]=I.useState(""),[z,X]=I.useState([]),[ee,ae]=I.useState(""),Z=RFe(ee,250),[ne,Te]=I.useState(1),[Pe,je]=I.useState(navigator.onLine),[fe,Ie]=I.useState(()=>localStorage.getItem("xpen-dark-mode")==="true");I.useState(-1),I.useRef(),I.useEffect(()=>{fe?(document.documentElement.classList.add("dark"),localStorage.setItem("xpen-dark-mode","true")):(document.documentElement.classList.remove("dark"),localStorage.setItem("xpen-dark-mode","false"))},[fe]),I.useEffect(()=>{if(!t)return;h(!0);const F=$O(CFe(t.uid),he=>{const oe=he.docs.map(se=>({id:se.id,...se.data()}));r(oe.length?oe:d9)}),B=$O(IFe(t.uid),he=>{const oe=he.docs.map(Ke=>({id:Ke.id,...Ke.data()})),se={};oe.forEach(Ke=>{const Xe=Xx(Ke.date);se[Xe]||(se[Xe]=[]),se[Xe].push(Ke)}),c(se),h(!1)}),Q=$O($m(Ui,"users",t.uid,"categories"),he=>{const oe=he.docs.map(se=>({id:se.id,...se.data()}));X(oe)});return()=>{F(),B(),Q()}},[t]),I.useEffect(()=>{t&&n.forEach(async F=>{F.id&&await d0(eu(Ui,"users",t.uid,"accounts",F.id),F)})},[n,t]),I.useEffect(()=>{if(!t||!l)return;Object.values(l).flat().forEach(async B=>{B.id?await d0(eu(Ui,"users",t.uid,"transactions",B.id),B):await kle($m(Ui,"users",t.uid,"transactions"),B)})},[l,t]);const ie=I.useMemo(()=>l?Object.values(l).flat():[],[l]);function me(F){if(!F)return"";const B=new Date(F);return`${Yv[B.getMonth()]} ${B.getFullYear()}`}const pe=I.useMemo(()=>{const F=new Set;return ie.forEach(B=>{B.date&&F.add(me(B.date))}),Array.from(F).sort((B,Q)=>{const[he,oe]=B.split(" "),[se,Ke]=Q.split(" "),Xe=new Date(`${he} 1, ${oe}`),zl=new Date(`${se} 1, ${Ke}`);return Xe-zl})},[ie]),[Y,Me]=I.useState(()=>me(new Date().toISOString()));I.useEffect(()=>{!pe.includes(Y)&&pe.length>0&&Me(pe[pe.length-1])},[pe,Y]),I.useEffect(()=>{const F=()=>je(!0),B=()=>je(!1);return window.addEventListener("online",F),window.addEventListener("offline",B),()=>{window.removeEventListener("online",F),window.removeEventListener("offline",B)}},[]);const ce=I.useMemo(()=>ie?ie.filter(F=>{const B=me(F.date),Q=!F.account||F.account===i;return Y===B&&Q}):[],[ie,i,Y]),ct=F=>{const B=NFe(z);return F==="cash"||F==="Turemoney"||B&&F===B.name},wt=I.useMemo(()=>{const F={};ie.forEach(oe=>{if(ct(oe.category))return;const se=me(oe.date);F[se]||(F[se]={income:0,expenses:0,net:0}),oe.amount>0?F[se].income+=oe.amount:F[se].expenses+=Math.abs(oe.amount),F[se].net+=oe.amount});let B=0;const Q=pe,he={};return Q.forEach(oe=>{const{income:se=0,expenses:Ke=0,net:Xe=0}=F[oe]||{};B+=Xe,he[oe]={income:se,expenses:Ke,net:Xe,cumulativeNet:B}}),he},[ie,pe])[Y]||{income:0,expenses:0,net:0,cumulativeNet:0},jr=wt.income,ti=wt.expenses,pr=wt.cumulativeNet,wi=I.useMemo(()=>{const F={};return ie.forEach(B=>{const Q=Xx(B.date);F[Q]||(F[Q]={income:0,expense:0}),B.amount>0?F[Q].income+=B.amount:F[Q].expense+=Math.abs(B.amount)}),Yv.map(B=>{var Q,he;return{month:B,Income:((Q=F[B])==null?void 0:Q.income)||0,Expense:((he=F[B])==null?void 0:he.expense)||0}})},[ie]),ts=["Healthcare employee","Employee salary","Transportation fee employee","Business","Business utility","Business tax","Business tax withholding","Business shipping cost","Business interest","Business Bank loan"],st=[{label:"Personal",subcategories:["Food","Grocery","Rent","Utilities","Transportation","Motorbike petrol","Laundry","Gym","iCloud","Entertainment","Shopping","Healthcare","Education","Family support","Insurance","Personal interest","Shipping cost","family support","Job","Dividend","Other income","Passive income"]},{label:"Business ",subcategories:["Business","Business utility","Employee salary","Business shipping cost","Bank loan","Healthcare employee","Transportation fee employee"]},{label:"Investment",subcategories:["ETF","Stock","Global Stock","Bond","crypto"]},{label:"Saving & Goals",subcategories:["Emergency Fund","Long-Term saving"]},{label:"Tax: Individual",subcategories:["Personal income Tax","Personal interest","Withholding tax (individual)","Value Added Tax (individual)","Stamp Duty (individual)"]},{label:"Tax: Business",subcategories:["Business income Tax","Business interest","Withholding tax (business)","Value Added Tax (business)","Stamp Duty (business)"]},{label:"Other / Special",subcategories:["Dating","sex worker","Other expense","Other income"]}],xo=Po(["Personal","Other / Special"],st,z),Bl=I.useMemo(()=>{const F={};return ce.forEach(B=>{B.amount<0&&xo.includes(B.category)&&(F[B.category]||(F[B.category]=0),F[B.category]+=Math.abs(B.amount))}),Object.entries(F).map(([B,Q])=>({name:B,value:Q}))},[ce,st,z]),$u=Po(["Personal","Other / Special","Tax: Individual","Investment & Income","Investment","Saving & Goals"],st,z);I.useMemo(()=>{const F={};return ce.forEach(B=>{B.amount>0&&$u.includes(B.category)&&(F[B.category]||(F[B.category]=0),F[B.category]+=Math.abs(B.amount))}),Object.entries(F).map(([B,Q])=>({name:B,value:Q}))},[ce,st,z]);const $t=I.useMemo(()=>{const F=Po(["Investment & Income","Investment"],st,z),B={};return ce.forEach(Q=>{Q.amount<0&&F.includes(Q.category)&&(B[Q.category]||(B[Q.category]=0),B[Q.category]+=Math.abs(Q.amount))}),Object.entries(B).map(([Q,he])=>({name:Q,value:he}))},[ce,st,z]),Ut=I.useMemo(()=>{const F=Po(["Saving & Goals"],st,z),B={};return ce.forEach(Q=>{Q.amount<0&&F.includes(Q.category)&&(B[Q.category]||(B[Q.category]=0),B[Q.category]+=Math.abs(Q.amount))}),Object.entries(B).map(([Q,he])=>({name:Q,value:he}))},[ce,st,z]),ns=I.useMemo(()=>{const F=Po(["Tax: Individual"],st,z),B={};return ce.forEach(Q=>{Q.amount<0&&F.includes(Q.category)&&(B[Q.category]||(B[Q.category]=0),B[Q.category]+=Math.abs(Q.amount))}),Object.entries(B).map(([Q,he])=>({name:Q,value:he}))},[ce,st,z]),Ao=I.useMemo(()=>{const F=Po(["Tax: Business"],st,z),B={};return ce.forEach(Q=>{Q.amount<0&&F.includes(Q.category)&&(B[Q.category]||(B[Q.category]=0),B[Q.category]+=Math.abs(Q.amount))}),Object.entries(B).map(([Q,he])=>({name:Q,value:he}))},[ce,st,z]);I.useMemo(()=>{const F={};return ce.forEach(B=>{B.category&&B.amount>0&&ts.includes(B.category)&&B.category!=="Business tax"&&B.category!=="Business tax withholding"&&(F[B.category]||(F[B.category]=0),F[B.category]+=Math.abs(B.amount))}),Object.entries(F).map(([B,Q])=>({name:B,value:Q}))},[ce,st,z]);const k1=I.useMemo(()=>{if(!o)return[];const F=new Date().getFullYear(),B=Yv.indexOf(o),Q=new Date(F,B+1,0).getDate(),he={};return ce.forEach(oe=>{const se=new Date(oe.date).getDate();he[se]||(he[se]=0),he[se]+=Math.abs(oe.amount)}),Array.from({length:Q},(oe,se)=>({day:se+1,value:he[se+1]||0}))},[ce,o]),R1=I.useMemo(()=>{const F=Array.from(new Set(st.flatMap(Q=>Q.subcategories))),B=z.map(Q=>Q.name);return Array.from(new Set([...F,...B])).sort()},[z]),Lu=I.useMemo(()=>{const F=new Set([...R1]);return F.delete("cash"),F.delete("Turemoney"),[...F,"cash","Turemoney"]},[R1]),Cf=I.useMemo(()=>{if(S==="All")return ce;const F=st.find(B=>B.label===S);return F?ce.filter(B=>F.subcategories.includes(B.category)):ce.filter(B=>B.category===S)},[ce,S]),N1=I.useMemo(()=>{const F=new Date,B=F.getFullYear()-(ne-1),Q={};ie.forEach(se=>{if(!se.date)return;const Ke=new Date(se.date),Xe=Ke.getFullYear(),zl=Ke.getMonth();if(Xe<B||Xe>F.getFullYear())return;const ri=`${Xe}-${String(zl+1).padStart(2,"0")}`;Q[ri]||(Q[ri]=0),Q[ri]+=se.amount});const he=Object.keys(Q).sort();let oe=0;return he.map(se=>(oe+=Q[se],{month:se,value:oe}))},[ie,ne]);I.useMemo(()=>{const F=new Set;return ie.forEach(B=>{B.category&&F.add(B.category)}),Array.from(F).sort()},[ie]),I.useMemo(()=>{const F=new Set;return ie.forEach(B=>{B.date&&F.add(Xx(B.date))}),Array.from(F)},[ie]);const If=F=>{F&&(F.type.startsWith("image/")||F.type==="application/pdf")?(console.log("File attached:",F.name),_(F)):p({type:"error",message:"Please select a valid image or PDF file."})},VI=F=>{F.preventDefault(),F.stopPropagation(),g(!0)},BI=F=>{F.preventDefault(),F.stopPropagation(),g(!1)},Fy=F=>{F.preventDefault(),F.stopPropagation()},M1=F=>{F.preventDefault(),F.stopPropagation(),g(!1);const B=F.dataTransfer.files[0];If(B)},Vy=F=>{if(F instanceof File){const B=URL.createObjectURL(F);window.open(B,"_blank"),setTimeout(()=>URL.revokeObjectURL(B),100)}},ju=F=>{const B=F.target.files[0];If(B)},By=F=>{const B=F.toLowerCase(),Q=B.match(/(\d+(\.\d+)?)/),he=Q?parseFloat(Q[1]):null;if(!he)return{error:"Could not find an amount in the text."};const oe=f9.some(ks=>B.includes(ks));let se=F.replace(Q[0],"");["baht","thb","$","usd","expen",...f9].forEach(ks=>{se=se.replace(new RegExp(`\\b${ks}\\b`,"ig"),"")}),se=se.replace(/\(|\)/g,"").trim(),se=se.charAt(0).toUpperCase()+se.slice(1);let Xe=null,zl=!1;const ri=se.trim();if(/tapup/i.test(ri.split(" ")[0])||(/cash$/i.test(ri)||/turemoney$/i.test(ri))&&(/cash$/i.test(ri)&&(Xe="cash"),/turemoney$/i.test(ri)&&(Xe="Turemoney"),zl=!0),!Xe){let ks=0;for(const Hl of z)for(const Rs of Hl.keywords)B.includes(Rs.toLowerCase())&&Rs.length>ks&&(ks=Rs.length,Xe=Hl.name);if(!Xe)for(const[Hl,Rs]of Object.entries(PFe))for(const Ns of Rs)B.includes(Ns)&&Ns.length>ks&&(ks=Ns.length,Xe=Hl)}return Xe||(Xe=oe?"Other income":"Other expense"),{amount:oe?he:-he,category:Xe,date:new Date().toISOString(),description:se||Xe,excludeFromSummary:zl}},Of=()=>{if(!v.trim())return;const F=By(v);if(F.error){p({type:"error",message:F.error});return}F.account=i,w&&(F.file=w);const B=Xx(F.date);c(Q=>{const he={...Q},oe=he[B]?[...he[B]]:[];return he[B]=[F,...oe],he}),a(B),p({type:"success",message:`Added: ${F.description} (${F.category})`}),b(""),_(null)},ya=async()=>{try{await e()}catch(F){console.error("Logout error:",F)}},qe=F=>typeof F!="number"?"N/A":F.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});I.useEffect(()=>{const F=_z();window.recaptchaVerifier||(window.recaptchaVerifier=new Sie(F,"recaptcha-container",{}))},[]);const kf=F=>{O(F.id),D(F);const B=F.date?new Date(F.date).toISOString().split("T")[0]:"",Q=F.date?new Date(F.date).toLocaleTimeString("en-CA",{hour12:!1}).substring(0,5):"";L({amount:Math.abs(F.amount),description:F.description||"",category:F.category||"",date:B,time:Q})},D1=async()=>{q(!0),G("");try{if(!M)throw new Error("Transaction not found");let F=M.date;if($.date){const Q=$.time||"00:00",he=`${$.date}T${Q}:00`;F=new Date(he).toISOString()}const B={...M,amount:M.amount>0?Number($.amount):-Number($.amount),description:$.description,category:$.category,date:F};try{await d0(eu(Ui,"users",t.uid,"transactions",M.id),B),G("Saved successfully!")}catch(Q){console.error("Firestore save error:",Q),G("Saved locally (offline mode)")}setTimeout(()=>{O(null),D(null),G("")},1500)}catch(F){console.error("Edit transaction error:",F),G("Error saving. Please try again."),setTimeout(()=>{O(null),D(null),G("")},2e3)}finally{q(!1)}},Fu=()=>{O(null),D(null)},$1=async F=>{window.confirm("Delete this transaction?")&&await lW(eu(Ui,"users",t.uid,"transactions",F.id))};function $n(F){return[...F].sort((B,Q)=>new Date(Q.date)-new Date(B.date))}const rs=I.useMemo(()=>{const F=Po(["Personal","Other / Special","Tax: Individual","Investment & Income","Investment","Saving & Goals"],st,z),B={};return ce.filter(Q=>!Q.excludeFromSummary).forEach(Q=>{Q.amount>0&&F.includes(Q.category)&&(B[Q.category]||(B[Q.category]=0),B[Q.category]+=Math.abs(Q.amount))}),Object.entries(B).map(([Q,he])=>({name:Q,value:he}))},[ce,st,z]),gr=I.useMemo(()=>{const F=Po(["Personal","Other / Special"],st,z),B={};return ce.filter(Q=>!Q.excludeFromSummary).forEach(Q=>{Q.amount<0&&F.includes(Q.category)&&(B[Q.category]||(B[Q.category]=0),B[Q.category]+=Math.abs(Q.amount))}),Object.entries(B).map(([Q,he])=>({name:Q,value:he}))},[ce,st,z]),Ul=Po(["Business","Tax: Business"],st,z),Vu=I.useMemo(()=>{const F={};return ce.filter(B=>!B.excludeFromSummary).forEach(B=>{B.amount>0&&Ul.includes(B.category)&&(F[B.category]||(F[B.category]=0),F[B.category]+=Math.abs(B.amount))}),Object.entries(F).map(([B,Q])=>({name:B,value:Q}))},[ce,st,z]),UI=Po(["Business"],st,z),ni=I.useMemo(()=>{const F={};return ce.filter(B=>!B.excludeFromSummary).forEach(B=>{B.amount<0&&UI.includes(B.category)&&(F[B.category]||(F[B.category]=0),F[B.category]+=Math.abs(B.amount))}),Object.entries(F).map(([B,Q])=>({name:B,value:Q}))},[ce,st,z]),Uy=I.useMemo(()=>{const F=Array.from(new Set(st.flatMap(Q=>Q.subcategories))),B=z.map(Q=>Q.name);return Array.from(new Set([...F,...B])).sort()},[st,z]),[Rf,Nf]=I.useState(""),zy=I.useMemo(()=>Rf.trim()?Uy.filter(F=>F.toLowerCase().includes(Rf.toLowerCase())):Uy,[Uy,Rf]);return C.jsxs("div",{className:"min-h-screen bg-gray-50/50 dark:bg-gray-900",children:[C.jsx("div",{id:"recaptcha-container"}),C.jsx("header",{className:"bg-white dark:bg-gray-900 shadow-sm border-b border-gray-200 dark:border-gray-800 transition-colors",children:C.jsxs("div",{className:"container mx-auto px-4 py-3 flex flex-col sm:flex-row items-center justify-between gap-3",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("button",{onClick:()=>Ie(F=>!F),className:"mr-2 p-2 rounded-full border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Toggle dark mode",children:fe?C.jsx(Bce,{className:"w-5 h-5 text-yellow-400"}):C.jsx(Dce,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),C.jsx($ce,{className:"w-6 h-6 sm:w-8 sm:h-8 text-indigo-600 dark:text-indigo-400"}),C.jsx("h1",{className:"text-lg sm:text-xl font-bold tracking-tight text-gray-800 dark:text-gray-100",children:"Xpen"})]}),C.jsx("div",{className:"flex items-center gap-2 sm:gap-4",children:t?C.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[C.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${Pe?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"}`,children:[C.jsx("div",{className:`w-2 h-2 rounded-full ${Pe?"bg-green-500 dark:bg-green-400":"bg-red-500 dark:bg-red-400"}`}),C.jsx("span",{className:"hidden sm:inline",children:Pe?"Online":"Offline"})]}),C.jsx("img",{src:t.photoURL||`https://avatar.vercel.sh/${t.uid}.png`,alt:t.displayName||"User",className:"w-8 h-8 sm:w-9 sm:h-9 rounded-full border-2 border-gray-200 dark:border-gray-700"}),C.jsxs("div",{className:"hidden sm:block",children:[C.jsx("p",{className:"text-sm font-semibold text-gray-700 dark:text-gray-100",children:t.displayName}),C.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:t.email})]}),C.jsx(mn,{variant:"ghost",size:"icon",onClick:ya,className:"p-2 bg-transparent dark:bg-transparent",children:C.jsx(Fce,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-500 dark:text-gray-300 hover:text-red-500 dark:hover:text-red-400"})})]}):C.jsx(mn,{className:"bg-indigo-600 text-white dark:bg-indigo-800 dark:text-gray-100",children:"Sign In"})})]})}),C.jsxs("main",{className:"container mx-auto p-3 sm:p-4 md:p-6 lg:p-8",children:[!Pe&&C.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),C.jsx("span",{className:"text-sm text-yellow-800",children:"You're currently offline. Changes will be saved locally and synced when you're back online."})]})}),C.jsx("div",{className:"mb-4 sm:mb-6 flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3 sm:gap-4",children:C.jsx("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4",children:C.jsxs(gp,{value:Y,onValueChange:Me,children:[C.jsx(uh,{className:"w-full sm:w-[180px] bg-white dark:bg-gray-800 text-black dark:text-gray-100 border-gray-200 dark:border-gray-700 h-10 sm:h-9 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-indigo-500 dark:focus:border-indigo-400 transition-colors",children:C.jsx(mp,{placeholder:"Select Month"})}),C.jsx(hh,{children:pe.length===0?C.jsx(ko,{value:me(new Date().toISOString()),children:me(new Date().toISOString())}):pe.map(F=>C.jsx(ko,{value:F,children:F},F))})]})})}),C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[C.jsxs("div",{className:"lg:col-span-1 flex flex-col gap-4 sm:gap-6",children:[C.jsxs(nn,{className:`bg-white dark:bg-gray-900 transition-all duration-200 ${y?"border-2 border-dashed border-indigo-600 bg-indigo-50 dark:bg-indigo-900/20":"border dark:border-gray-700"}`,onDragEnter:VI,onDragLeave:BI,onDragOver:Fy,onDrop:M1,style:{marginBottom:"1rem"},children:[C.jsx(rn,{className:"pb-3",children:C.jsx(sn,{className:"text-lg sm:text-xl dark:text-gray-100",children:"Quick Add"})}),C.jsxs(on,{className:"space-y-3 sm:space-y-4",children:[d.message&&C.jsx("div",{className:`p-3 rounded-lg text-sm ${d.type==="success"?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200"}`,children:d.message}),C.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[C.jsxs("div",{className:"relative flex-grow",children:[C.jsx(ao,{type:"text",placeholder:"e.g., Pad Thai 100 baht",value:v,onChange:F=>b(F.target.value),onKeyDown:F=>{F.key==="Enter"&&(F.preventDefault(),Of())},className:"w-full rounded-lg border-2 border-blue-200 dark:border-blue-700 focus:border-indigo-500 dark:focus:border-indigo-400 focus:ring-indigo-500 dark:focus:ring-indigo-400 pr-10 h-10 sm:h-9 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"}),C.jsx(mn,{as:"label",htmlFor:"attach-file",variant:"ghost",size:"icon",className:"absolute inset-y-0 right-0 flex items-center pr-3 cursor-pointer",children:C.jsx(LO,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 dark:text-gray-500"})}),C.jsx("input",{id:"attach-file",type:"file",accept:"image/*,application/pdf",className:"hidden",onChange:ju})]}),C.jsx(mn,{onClick:Of,className:"bg-indigo-600 text-white hover:bg-indigo-700 dark:bg-indigo-800 dark:hover:bg-indigo-900 rounded-lg px-4 sm:px-6 py-2 h-10 sm:h-9",children:"Add"})]}),w&&C.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300 flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded-md",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(Nce,{className:"text-gray-400 dark:text-gray-500"}),C.jsx("span",{className:"truncate max-w-[150px] sm:max-w-[200px]",children:w.name})]}),C.jsx(mn,{variant:"ghost",size:"icon",onClick:()=>_(null),className:"h-6 w-6",children:C.jsx(eR,{className:"h-4 w-4 text-red-500 dark:text-red-400"})})]})]})]}),C.jsxs(nn,{className:"bg-white dark:bg-gray-900 flex-1",children:[C.jsx(rn,{className:"pb-3",children:C.jsx(sn,{className:"text-lg sm:text-xl dark:text-gray-100",children:"Recent Transactions"})}),C.jsx(on,{children:C.jsx("ul",{className:"space-y-2 sm:space-y-3",children:$n(ce).slice(0,5).map((F,B)=>C.jsxs("li",{className:`flex flex-col sm:flex-row sm:items-center justify-between rounded-lg p-3 transition-colors ${F.file?"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800":""}`,onClick:()=>Vy(F.file),children:[C.jsxs("div",{className:"flex-1 min-w-0",children:[C.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[C.jsx("p",{className:"font-semibold text-sm sm:text-base lg:text-lg truncate max-w-[80vw] sm:max-w-xs dark:text-gray-100",children:F.description||F.category}),F.file&&C.jsx(LO,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 dark:text-gray-500"})]}),C.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs sm:text-sm text-gray-500 dark:text-gray-400 mt-1",children:[C.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${F.amount>0?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200"}`,children:F.category}),C.jsx("span",{children:""}),C.jsxs("span",{className:"truncate",children:[new Date(F.date).toLocaleDateString()," ",new Date(F.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),C.jsxs("span",{className:`font-bold text-sm sm:text-base lg:text-lg mt-2 sm:mt-0 sm:ml-4 ${F.amount>0?"text-green-600 dark:text-green-400":"text-gray-800 dark:text-gray-200"} overflow-x-auto`,children:[F.amount>0?"+":"","$",Math.abs(F.amount).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]},B))})})]})]}),C.jsx("div",{className:"lg:col-span-2 flex flex-col gap-4 sm:gap-6",children:C.jsxs(ime,{defaultValue:"overview",children:[C.jsxs(WK,{className:"w-full h-12 sm:h-10 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-full overflow-hidden",children:[C.jsx(kN,{value:"overview",className:"flex-1 text-sm sm:text-base px-3 sm:px-4 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100 data-[state=active]:bg-indigo-600 data-[state=active]:text-white dark:data-[state=active]:bg-indigo-500 dark:data-[state=active]:text-white transition-colors",children:"Overview"}),C.jsx(kN,{value:"all_transactions",className:"flex-1 text-sm sm:text-base px-3 sm:px-4 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100 data-[state=active]:bg-indigo-600 data-[state=active]:text-white dark:data-[state=active]:bg-indigo-500 dark:data-[state=active]:text-white transition-colors",children:"All Transactions"})]}),C.jsxs(RN,{value:"overview",className:"mt-4",children:[C.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6 mb-4 sm:mb-6 w-full",children:[C.jsxs(nn,{className:"bg-gradient-to-br from-green-50 to-white dark:from-green-900/20 dark:to-gray-800 shadow-md border-0 dark:border-gray-700",children:[C.jsxs(rn,{className:"flex flex-row items-center justify-between pb-2",children:[C.jsx(sn,{className:"text-sm sm:text-base md:text-lg font-semibold text-green-700 dark:text-green-400 flex items-center gap-2",children:C.jsx("span",{className:"text-base sm:text-lg md:text-xl",children:"Total Income"})}),C.jsx("span",{className:"text-green-500 dark:text-green-400 text-base sm:text-lg md:text-xl",children:""})]}),C.jsxs(on,{children:[C.jsxs("div",{className:"relative flex items-center min-h-[3rem] sm:min-h-[3.5rem]",onMouseEnter:()=>A("income"),onMouseLeave:()=>A(null),onTouchStart:()=>A("income"),onTouchEnd:()=>A(null),children:[C.jsxs("span",{className:"text-2xl sm:text-3xl font-bold text-green-700 dark:text-green-400 truncate cursor-pointer select-none",children:["$",Rk(jr)]}),T==="income"&&C.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 -top-12 z-50 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 shadow-lg rounded px-4 py-2 text-lg font-semibold text-green-700 dark:text-green-400 whitespace-nowrap pointer-events-none",children:["$",jr.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),C.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["from ",ce.filter(F=>F.amount>0).length," transactions"]}),C.jsx("div",{className:"flex justify-end",children:(()=>{const F=new Date(Y.split(" ")[0]+" 1, "+Y.split(" ")[1]),B=F.getFullYear(),Q=F.getMonth(),he=ce.filter(oe=>{const se=new Date(oe.date);return oe.amount>0&&$u.includes(oe.category)&&se.getFullYear()===B&&se.getMonth()<Q}).reduce((oe,se)=>oe+se.amount,0);return C.jsxs("span",{className:`font-bold text-gray-400 dark:text-gray-300 mb-1 ${he>=0?"text-green-400":"text-red-300"}`,children:["Carry Over: $",he>=0?"":"-","$",qe(Math.abs(he))]})})()})]})]}),C.jsxs(nn,{className:"bg-gradient-to-br from-red-50 to-white dark:from-red-900/20 dark:to-gray-800 shadow-md border-0 dark:border-gray-700",children:[C.jsxs(rn,{className:"flex flex-row items-center justify-between pb-2",children:[C.jsx(sn,{className:"text-sm sm:text-base md:text-lg font-semibold text-red-700 dark:text-red-400 flex items-center gap-2",children:C.jsx("span",{className:"text-base sm:text-lg md:text-xl",children:"Total Expenses"})}),C.jsx("span",{className:"text-red-500 dark:text-red-400 text-base sm:text-lg md:text-xl",children:""})]}),C.jsxs(on,{children:[C.jsxs("div",{className:"relative flex items-center min-h-[3rem] sm:min-h-[3.5rem]",onMouseEnter:()=>A("expense"),onMouseLeave:()=>A(null),onTouchStart:()=>A("expense"),onTouchEnd:()=>A(null),children:[C.jsxs("span",{className:"text-2xl sm:text-3xl font-bold text-red-700 dark:text-red-400 truncate cursor-pointer select-none",children:["$",Rk(ti)]}),T==="expense"&&C.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 -top-12 z-50 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 shadow-lg rounded px-4 py-2 text-lg font-semibold text-red-700 dark:text-red-400 whitespace-nowrap pointer-events-none",children:["$",ti.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),C.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["across ",Bl.length," categories"]}),C.jsx("div",{className:"flex justify-end",children:(()=>{const F=new Date(Y.split(" ")[0]+" 1, "+Y.split(" ")[1]);let B=F.getMonth()-1,Q=F.getFullYear();B<0&&(B=11,Q-=1);const he=ce.filter(oe=>{const se=new Date(oe.date);return oe.amount<0&&xo.includes(oe.category)&&se.getFullYear()===Q&&se.getMonth()===B}).reduce((oe,se)=>oe+Math.abs(se.amount),0);return C.jsxs("span",{className:"font-bold text-red-300 dark:text-red-400 ml-2",children:["Previous month spending: $",qe(he)]})})()})]})]}),C.jsxs(nn,{className:"bg-gradient-to-br from-blue-50 to-white dark:from-blue-900/20 dark:to-gray-800 shadow-md border-0 dark:border-gray-700",children:[C.jsxs(rn,{className:"flex flex-row items-center justify-between pb-2",children:[C.jsx(sn,{className:"text-sm sm:text-base md:text-lg font-semibold text-blue-700 dark:text-blue-400 flex items-center gap-2",children:C.jsx("span",{className:"text-base sm:text-lg md:text-xl",children:"Net Balance"})}),C.jsx("span",{className:"text-blue-500 dark:text-blue-400 text-base sm:text-lg md:text-xl",children:""})]}),C.jsxs(on,{children:[C.jsxs("div",{className:"relative flex items-center min-h-[3rem] sm:min-h-[3.5rem]",onMouseEnter:()=>A("net"),onMouseLeave:()=>A(null),onTouchStart:()=>A("net"),onTouchEnd:()=>A(null),children:[C.jsxs("span",{className:`text-2xl sm:text-3xl font-bold ${pr>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"} truncate cursor-pointer select-none`,children:["$",Rk(pr)]}),T==="net"&&C.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 -top-12 z-50 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 shadow-lg rounded px-4 py-2 text-lg font-semibold text-green-700 dark:text-green-400 whitespace-nowrap pointer-events-none",children:["$",pr.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),C.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"this month"})]})]})]}),C.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6 mb-6 w-full",children:[C.jsxs(nn,{className:"bg-green-50 dark:bg-green-900/20 dark:border-gray-700",children:[C.jsx(rn,{children:C.jsx(sn,{className:"dark:text-gray-100",children:"Personal Income & Net "})}),C.jsxs(on,{children:[C.jsx("div",{className:"flex justify-end",children:C.jsxs("span",{className:"font-bold text-gray-500 dark:text-gray-300 mb-1",children:["Total Income: $",qe(rs.reduce((F,B)=>F+(B.value||0),0))]})}),C.jsx("div",{className:"flex justify-end",children:C.jsxs("span",{className:"font-bold text-gray-500 dark:text-gray-300 mb-1",children:["Total Expense: $",qe(gr.reduce((F,B)=>F+(B.value||0),0)+$t.reduce((F,B)=>F+(B.value||0),0)+Ut.reduce((F,B)=>F+(B.value||0),0)+ns.reduce((F,B)=>F+(B.value||0),0))]})}),C.jsx("div",{className:"flex justify-end",children:(()=>{const F=rs.reduce((Ke,Xe)=>Ke+(Xe.value||0),0),B=gr.reduce((Ke,Xe)=>Ke+(Xe.value||0),0),Q=$t.reduce((Ke,Xe)=>Ke+(Xe.value||0),0),he=Ut.reduce((Ke,Xe)=>Ke+(Xe.value||0),0),oe=ns.reduce((Ke,Xe)=>Ke+(Xe.value||0),0),se=F-(B+Q+he+oe);return C.jsxs("span",{className:`font-bold text-gray-500 dark:text-gray-300 mb-1 ${se>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:["Net Amount: $",se>=0?"":"-","$",qe(Math.abs(se))]})})()}),C.jsx("div",{className:"flex justify-end",children:(()=>{const F=new Date(Y.split(" ")[0]+" 1, "+Y.split(" ")[1]),B=F.getFullYear(),Q=F.getMonth(),he=ce.filter(oe=>{const se=new Date(oe.date);return oe.amount>0&&$u.includes(oe.category)&&se.getFullYear()===B&&se.getMonth()<Q}).reduce((oe,se)=>oe+se.amount,0);return C.jsxs("span",{className:`font-bold text-gray-400 dark:text-gray-300 mb-1 ${he>=0?"text-green-400":"text-red-300"}`,children:["Carry Over: $",he>=0?"":"-","$",qe(Math.abs(he))]})})()}),rs.length>0?C.jsxs("div",{className:"relative",children:[C.jsx(Ls,{width:"100%",height:250,children:C.jsxs(Yl,{children:[C.jsx(kr,{data:rs,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:rs.length<=6,children:rs.map((F,B)=>C.jsx(Bs,{fill:_r[B%_r.length]},`cell-${B}`))}),C.jsx(gn,{formatter:(F,B)=>[`$${qe(F)}`,B]}),rs.length<=6&&C.jsx(Cr,{})]})}),rs.length>6&&C.jsx("div",{className:"flex justify-center mt-4",children:C.jsx(g9,{categories:rs,buttonLabel:"Show all Categories"})})]}):C.jsx("p",{className:"text-center text-gray-500",children:"No income data for this period."})]})]}),C.jsxs(nn,{className:"bg-red-50 dark:bg-red-900/20 dark:border-gray-700",children:[C.jsx(rn,{children:C.jsx(sn,{className:"dark:text-gray-100",children:"Personal Expense "})}),C.jsxs(on,{children:[C.jsx("div",{className:"flex justify-end",children:C.jsxs("span",{className:"font-bold text-gray-500 dark:text-gray-300 mb-1",children:["Total: $",qe(gr.reduce((F,B)=>F+(B.value||0),0))]})}),C.jsx("div",{className:"flex justify-end",children:(()=>{const F=new Date(Y.split(" ")[0]+" 1, "+Y.split(" ")[1]),B=F.getFullYear(),Q=F.getMonth(),he=ce.filter(oe=>{const se=new Date(oe.date);return oe.amount<0&&xo.includes(oe.category)&&se.getFullYear()===B&&se.getMonth()<Q}).reduce((oe,se)=>oe+Math.abs(se.amount),0);return C.jsxs("span",{className:`font-bold text-gray-500 dark:text-gray-300 mb-1 ${he>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:["Carry Over: $",he>=0?"":"-","$",qe(Math.abs(he))]})})()}),gr.length>0?C.jsxs("div",{className:"relative",children:[C.jsx(Ls,{width:"100%",height:250,children:C.jsxs(Yl,{children:[C.jsx(kr,{data:gr,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:gr.length<=6,children:gr.map((F,B)=>C.jsx(Bs,{fill:_r[B%_r.length]},`cell-${B}`))}),C.jsx(gn,{formatter:(F,B)=>[`$${qe(F)}`,B]}),gr.length<=6&&C.jsx(Cr,{})]})}),gr.length>6&&C.jsx("div",{className:"flex justify-center mt-4",children:C.jsx(g9,{categories:gr,buttonLabel:"Show all Categories"})})]}):C.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400",children:"No expense data for this period."})]})]}),C.jsxs(nn,{className:"bg-white dark:bg-gray-900",children:[C.jsx(rn,{children:C.jsx(sn,{className:"dark:text-gray-100",children:"Investment expense"})}),C.jsxs(on,{children:[C.jsx("div",{className:"flex justify-end",children:C.jsxs("span",{className:"font-bold text-gray-500 dark:text-gray-300 mb-1",children:["Total: $",qe($t.reduce((F,B)=>F+(B.value||0),0))]})}),C.jsx("div",{className:"flex justify-end",children:(()=>{const F=new Date(Y.split(" ")[0]+" 1, "+Y.split(" ")[1]),B=F.getFullYear(),Q=F.getMonth(),he=ie.filter(oe=>{const se=new Date(oe.date);return oe.amount<0&&$t.map(Ke=>Ke.name).includes(oe.category)&&se.getFullYear()===B&&se.getMonth()<Q}).reduce((oe,se)=>oe+Math.abs(se.amount),0);return C.jsxs("span",{className:`font-bold text-gray-500 dark:text-gray-300 mb-1 ${he>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:["Carry Over: $",he>=0?"":"-","$",qe(Math.abs(he))]})})()}),$t.length>0?C.jsx(Ls,{width:"100%",height:250,children:C.jsxs(Yl,{children:[C.jsx(kr,{data:$t,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:!0,children:$t.map((F,B)=>C.jsx(Bs,{fill:_r[B%_r.length]},`cell-${B}`))}),C.jsx(gn,{formatter:F=>`$${qe(F)}`}),C.jsx(Cr,{})]})}):C.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400",children:"No investment data for this period."})]})]}),C.jsxs(nn,{className:"bg-white dark:bg-gray-900",children:[C.jsx(rn,{children:C.jsx(sn,{className:"dark:text-gray-100",children:"Emergency Expense"})}),C.jsxs(on,{children:[C.jsx("div",{className:"flex justify-end",children:C.jsxs("span",{className:"font-bold text-gray-500 dark:text-gray-300 mb-1",children:["Total: $",qe(Ut.reduce((F,B)=>F+(B.value||0),0))]})}),C.jsx("div",{className:"flex justify-end",children:(()=>{const F=new Date(Y.split(" ")[0]+" 1, "+Y.split(" ")[1]),B=F.getFullYear(),Q=F.getMonth(),he=ie.filter(oe=>{const se=new Date(oe.date);return oe.amount<0&&Ut.map(Ke=>Ke.name).includes(oe.category)&&se.getFullYear()===B&&se.getMonth()<Q}).reduce((oe,se)=>oe+Math.abs(se.amount),0);return C.jsxs("span",{className:`font-bold text-gray-500 dark:text-gray-300 mb-1 ${he>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:["Carry Over: $",he>=0?"":"-","$",qe(Math.abs(he))]})})()}),Ut.length>0?C.jsx(Ls,{width:"100%",height:250,children:C.jsxs(Yl,{children:[C.jsx(kr,{data:Ut,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:!0,children:Ut.map((F,B)=>C.jsx(Bs,{fill:_r[B%_r.length]},`cell-${B}`))}),C.jsx(gn,{formatter:F=>`$${qe(F)}`}),C.jsx(Cr,{})]})}):C.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400",children:"No emergency data for this period."})]})]}),C.jsxs(nn,{className:"bg-green-50 dark:bg-green-900/20 dark:border-gray-700",children:[C.jsx(rn,{children:C.jsx(sn,{className:"dark:text-gray-100",children:"Business Income & Net "})}),C.jsxs(on,{children:[C.jsx("div",{className:"flex justify-end",children:C.jsxs("span",{className:"font-bold text-gray-500 dark:text-gray-300 mb-1",children:["Total Income: $",qe(Vu.reduce((F,B)=>F+(B.value||0),0))]})}),C.jsx("div",{className:"flex justify-end",children:C.jsxs("span",{className:"font-bold text-gray-500 dark:text-gray-300 mb-1",children:["Total Expense: $",qe(ni.reduce((F,B)=>F+(B.value||0),0)+Ao.reduce((F,B)=>F+(B.value||0),0))]})}),C.jsx("div",{className:"flex justify-end",children:(()=>{const F=Vu.reduce((oe,se)=>oe+(se.value||0),0),B=ni.reduce((oe,se)=>oe+(se.value||0),0),Q=Ao.reduce((oe,se)=>oe+(se.value||0),0),he=F-(B+Q);return C.jsxs("span",{className:`font-bold text-gray-500 dark:text-gray-300 mb-1 ${he>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:["Net Amount: $",he>=0?"":"-","$",qe(Math.abs(he))]})})()}),C.jsx("div",{className:"flex justify-end",children:(()=>{const F=new Date(Y.split(" ")[0]+" 1, "+Y.split(" ")[1]),B=F.getFullYear(),Q=F.getMonth(),he=ce.filter(oe=>{const se=new Date(oe.date);return oe.amount>0&&Ul.includes(oe.category)&&se.getFullYear()===B&&se.getMonth()<Q}).reduce((oe,se)=>oe+se.amount,0);return C.jsxs("span",{className:`font-bold text-gray-500 dark:text-gray-300 mb-1 ${he>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:["Carry Over: $",he>=0?"":"-","$",qe(Math.abs(he))]})})()}),Vu.length>0?C.jsx(Ls,{width:"100%",height:250,children:C.jsxs(Yl,{children:[C.jsx(kr,{data:Vu,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:!0,children:Vu.map((F,B)=>C.jsx(Bs,{fill:_r[B%_r.length]},`cell-inc-${B}`))}),C.jsx(gn,{formatter:F=>`$${qe(F)}`}),C.jsx(Cr,{})]})}):C.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400",children:"No business income data for this period."})]})]}),C.jsxs(nn,{className:"bg-red-50 dark:bg-red-900/20 dark:border-gray-700",children:[C.jsx(rn,{children:C.jsx(sn,{className:"dark:text-gray-100",children:"Business Expense"})}),C.jsxs(on,{children:[C.jsx("div",{className:"flex justify-end",children:C.jsxs("span",{className:"font-bold text-gray-500 dark:text-gray-300 mb-1",children:["Total: $",qe(ni.reduce((F,B)=>F+(B.value||0),0))]})}),C.jsx("div",{className:"flex justify-end",children:(()=>{const F=new Date(Y.split(" ")[0]+" 1, "+Y.split(" ")[1]),B=F.getFullYear(),Q=F.getMonth(),he=ce.filter(oe=>{const se=new Date(oe.date);return oe.amount<0&&ni.map(Ke=>Ke.name).includes(oe.category)&&se.getFullYear()===B&&se.getMonth()<Q}).reduce((oe,se)=>oe+Math.abs(se.amount),0);return C.jsxs("span",{className:`font-bold text-gray-500 dark:text-gray-300 mb-1 ${he>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:["Carry Over: $",he>=0?"":"-","$",qe(Math.abs(he))]})})()}),ni.length>0?C.jsx(Ls,{width:"100%",height:250,children:C.jsxs(Yl,{children:[C.jsx(kr,{data:ni,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:!0,children:ni.map((F,B)=>C.jsx(Bs,{fill:_r[B%_r.length]},`cell-exp-${B}`))}),C.jsx(gn,{formatter:F=>`$${qe(F)}`}),C.jsx(Cr,{})]})}):C.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400",children:"No business expense data for this period."})]})]}),C.jsxs(nn,{className:"bg-yellow-50 dark:bg-yellow-900/20 dark:border-gray-700",children:[C.jsx(rn,{children:C.jsx(sn,{className:"dark:text-gray-100",children:"Personal Tax Expense"})}),C.jsxs(on,{children:[C.jsx("div",{className:"flex justify-end",children:C.jsxs("span",{className:"font-bold text-gray-500 dark:text-gray-300 mb-1",children:["Total: $",qe(ns.reduce((F,B)=>F+(B.value||0),0))]})}),C.jsx("div",{className:"flex justify-end",children:(()=>{const F=new Date(Y.split(" ")[0]+" 1, "+Y.split(" ")[1]),B=F.getFullYear(),Q=F.getMonth(),he=ce.filter(oe=>{const se=new Date(oe.date);return oe.amount<0&&ns.map(Ke=>Ke.name).includes(oe.category)&&se.getFullYear()===B&&se.getMonth()<Q}).reduce((oe,se)=>oe+Math.abs(se.amount),0);return C.jsxs("span",{className:`font-bold text-gray-500 dark:text-gray-300 mb-1 ${he>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:["Carry Over: $",he>=0?"":"-","$",qe(Math.abs(he))]})})()}),ns.length>0?C.jsx(Ls,{width:"100%",height:250,children:C.jsxs(Yl,{children:[C.jsx(kr,{data:ns,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:!0,children:ns.map((F,B)=>C.jsx(Bs,{fill:_r[B%_r.length]},`cell-${B}`))}),C.jsx(gn,{formatter:F=>`$${qe(F)}`}),C.jsx(Cr,{})]})}):C.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400",children:"No tax data for this period."})]})]}),C.jsxs(nn,{className:"bg-orange-50 dark:bg-orange-900/20 dark:border-gray-700",children:[C.jsx(rn,{children:C.jsx(sn,{className:"dark:text-gray-100",children:"Business Tax Expense"})}),C.jsxs(on,{children:[C.jsx("div",{className:"flex justify-end",children:C.jsxs("span",{className:"font-bold text-gray-500 dark:text-gray-300 mb-1",children:["Total: $",qe(Ao.reduce((F,B)=>F+(B.value||0),0))]})}),C.jsx("div",{className:"flex justify-end",children:(()=>{const F=new Date(Y.split(" ")[0]+" 1, "+Y.split(" ")[1]),B=F.getFullYear(),Q=F.getMonth(),he=ce.filter(oe=>{const se=new Date(oe.date);return oe.amount<0&&Ao.map(Ke=>Ke.name).includes(oe.category)&&se.getFullYear()===B&&se.getMonth()<Q}).reduce((oe,se)=>oe+Math.abs(se.amount),0);return C.jsxs("span",{className:`font-bold text-gray-500 dark:text-gray-300 mb-1 ${he>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:["Carry Over: $",he>=0?"":"-","$",qe(Math.abs(he))]})})()}),Ao.length>0?C.jsx(Ls,{width:"100%",height:250,children:C.jsxs(Yl,{children:[C.jsx(kr,{data:Ao,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:!0,children:Ao.map((F,B)=>C.jsx(Bs,{fill:_r[B%_r.length]},`cell-tax-${B}`))}),C.jsx(gn,{formatter:F=>`$${qe(F)}`}),C.jsx(Cr,{})]})}):C.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400",children:"No business tax data for this period."})]})]})]}),C.jsxs(nn,{className:"bg-white dark:bg-gray-900 xl:col-span-2 mt-6",children:[C.jsx(rn,{children:C.jsx(sn,{className:"dark:text-gray-100",children:"Daily Transaction Volume"})}),C.jsx(on,{children:C.jsx(Ls,{width:"100%",height:250,children:C.jsxs(h9,{data:k1,children:[C.jsx(ZA,{strokeDasharray:"3 3"}),C.jsx(Ud,{dataKey:"day"}),C.jsx(zd,{}),C.jsx(gn,{formatter:F=>`$${qe(F)}`}),C.jsx(wl,{dataKey:"value",fill:"#8b5cf6"})]})})})]}),C.jsxs(nn,{className:"bg-white dark:bg-gray-900 xl:col-span-2 mt-6",children:[C.jsx(rn,{children:C.jsx(sn,{className:"dark:text-gray-100",children:"Monthly Transaction Volume"})}),C.jsx(on,{children:C.jsx(Ls,{width:"100%",height:250,children:C.jsxs(h9,{data:wi,children:[C.jsx(ZA,{strokeDasharray:"3 3"}),C.jsx(Ud,{dataKey:"month"}),C.jsx(zd,{}),C.jsx(gn,{formatter:F=>`$${qe(F)}`}),C.jsx(Cr,{}),C.jsx(wl,{dataKey:"Income",stackId:"a",fill:"#10b981"}),C.jsx(wl,{dataKey:"Expense",stackId:"a",fill:"#f43f5e"})]})})})]}),C.jsxs(nn,{className:"bg-white dark:bg-gray-900 xl:col-span-2 mt-6",children:[C.jsxs(rn,{children:[C.jsx(sn,{className:"dark:text-gray-100",children:"Transaction Volume (S-curve)"}),C.jsx("div",{className:"flex gap-2 mt-2",children:[1,3,5,10].map(F=>C.jsxs(mn,{size:"sm",variant:"outline",className:ne===F?"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600 shadow":"bg-gray-900 dark:bg-gray-700 text-white dark:text-gray-200 border-gray-900 dark:border-gray-600 hover:bg-gray-800 dark:hover:bg-gray-600 hover:text-white dark:hover:text-gray-100",onClick:()=>Te(F),children:[F," year",F>1?"s":""]},F))})]}),C.jsx(on,{children:C.jsx(Ls,{width:"100%",height:250,children:C.jsxs(SFe,{data:N1,children:[C.jsx(ZA,{strokeDasharray:"3 3"}),C.jsx(Ud,{dataKey:"month"}),C.jsx(zd,{label:{value:"Net Balance ($)",angle:-90,position:"insideLeft"}}),C.jsx(gn,{formatter:F=>`$${qe(F)}`}),C.jsx(Cr,{formatter:()=>"Cumulative Net Balance"}),C.jsx(O1,{type:"monotone",dataKey:"value",stroke:"#6366f1",strokeWidth:3,dot:!1})]})})})]}),C.jsx(TFe,{user:t})]}),C.jsxs(RN,{value:"all_transactions",className:"mt-4",children:[C.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 mb-4 sm:mb-6",children:[C.jsxs("div",{className:"flex-1",children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Month & Year"}),C.jsxs(gp,{value:Y,onValueChange:Me,children:[C.jsx(uh,{className:"h-10 sm:h-9 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-900 dark:text-gray-100",children:C.jsx(mp,{placeholder:"Select month"})}),C.jsx(hh,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:pe.map(F=>C.jsx(ko,{value:F,className:"text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700",children:F},F))})]})]}),C.jsxs("div",{className:"flex-1",children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category Filter"}),C.jsxs(gp,{value:S,onValueChange:x,children:[C.jsx(uh,{className:"h-10 sm:h-9 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-900 dark:text-gray-100",children:C.jsx(mp,{placeholder:"All categories"})}),C.jsxs(hh,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[C.jsx("div",{className:"px-2 py-2 sticky top-0 bg-white dark:bg-gray-800 z-10",children:C.jsx(ao,{type:"text",value:ee,onChange:F=>ae(F.target.value),placeholder:"Search categories...",className:"w-full mb-2 bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-900 dark:text-gray-100",onKeyDown:F=>F.stopPropagation(),onClick:F=>F.stopPropagation()})}),C.jsx(ko,{value:"All",className:"text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700",children:"All Categories"}),st.filter(F=>Z.trim()===""||F.label.toLowerCase().includes(Z.toLowerCase())).map(F=>C.jsx(ko,{value:F.label,className:"font-semibold text-gray-900 dark:text-gray-100 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600",children:F.label},F.label)),Lu.filter(F=>Z.trim()===""||F.toLowerCase().includes(Z.toLowerCase())).map(F=>C.jsx(ko,{value:F,className:"pl-6 text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700",children:F},F))]})]})]})]}),C.jsxs(nn,{className:"bg-white dark:bg-gray-900",children:[C.jsxs(rn,{className:"pb-3",children:[C.jsx(sn,{className:"text-lg sm:text-xl dark:text-gray-100",children:"All Transactions"}),C.jsxs(vW,{className:"dark:text-gray-400",children:[Cf.length," transactions for ",Y]})]}),C.jsx(on,{children:Cf.length>0?C.jsx("div",{className:"space-y-2 sm:space-y-3",children:$n(Cf).map((F,B)=>C.jsxs("div",{className:`flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 rounded-lg border transition-colors bg-white dark:bg-gray-800 ${F.file?"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700":"hover:bg-gray-50 dark:hover:bg-gray-700"}`,onClick:()=>Vy(F.file),children:[C.jsxs("div",{className:"flex-1 min-w-0",children:[C.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[C.jsx("p",{className:"font-semibold text-sm sm:text-base lg:text-lg truncate max-w-[80vw] sm:max-w-xs dark:text-gray-100",children:F.description||F.category}),F.file&&C.jsx(LO,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 dark:text-gray-500"})]}),C.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs sm:text-sm text-gray-500 dark:text-gray-400 mt-1",children:[C.jsxs("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium flex items-center gap-1 ${F.amount>0?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200"}`,children:[p9[F.category]&&U.createElement(p9[F.category],{className:"inline-block mr-1"}),F.category]}),C.jsx("span",{children:""}),C.jsxs("span",{className:"truncate",children:[new Date(F.date).toLocaleDateString()," ",new Date(F.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),C.jsxs("div",{className:"flex flex-row flex-wrap items-center gap-2 mt-3 sm:mt-0 sm:ml-4 min-w-fit overflow-x-auto",children:[C.jsxs("span",{className:`font-bold text-sm sm:text-base lg:text-lg ${F.amount>0?"text-green-600 dark:text-green-400":"text-gray-800 dark:text-gray-200"}`,children:[F.amount>0?"+":"","$",Math.abs(F.amount).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),C.jsx(mn,{size:"sm",variant:"outline",onClick:Q=>{Q.stopPropagation(),kf(F)},className:"bg-white dark:bg-gray-800 text-blue-600 dark:text-blue-400 border border-gray-300 dark:border-gray-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 px-3 sm:px-4 py-2 text-xs sm:text-sm h-8 sm:h-9",children:"Edit"}),C.jsx(mn,{size:"sm",variant:"outline",onClick:Q=>{Q.stopPropagation(),$1(F)},className:"bg-white dark:bg-gray-800 text-red-600 dark:text-red-400 border-red-200 dark:border-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 px-3 sm:px-4 py-2 text-xs sm:text-sm h-8 sm:h-9",children:"Delete"})]})]},F.id||B))}):C.jsx("div",{className:"text-center py-8",children:C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No transactions found for the selected criteria."})})})]}),E&&C.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:C.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 sm:p-6 w-full max-w-md mx-auto max-h-[90vh] overflow-y-auto",children:[C.jsx("h3",{className:"text-lg font-semibold mb-4 dark:text-gray-100",children:"Edit Transaction"}),C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),C.jsx(ao,{type:"text",value:$.description||"",onChange:F=>L({...$,description:F.target.value}),className:"w-full bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-900 dark:text-gray-100"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Amount"}),C.jsx(ao,{type:"number",step:"0.01",value:$.amount,onChange:F=>L({...$,amount:parseFloat(F.target.value)||0}),className:"w-full bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-900 dark:text-gray-100"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category"}),C.jsxs(gp,{value:$.category,onValueChange:F=>L({...$,category:F}),children:[C.jsx(uh,{className:"w-full bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-900 dark:text-gray-100",children:C.jsx(mp,{placeholder:"Select category"})}),C.jsxs(hh,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 max-h-60 overflow-y-auto",children:[C.jsx("div",{className:"sticky top-0 z-10 bg-white dark:bg-gray-800 p-2 border-b border-gray-200 dark:border-gray-700",children:C.jsx("input",{type:"text",value:Rf,onChange:F=>Nf(F.target.value),placeholder:"Type to search categories...",className:"w-full px-2 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100 border border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-indigo-500",autoFocus:!0,onKeyDown:F=>F.stopPropagation(),onClick:F=>F.stopPropagation(),onFocus:F=>F.stopPropagation()})}),zy.length===0?C.jsx("div",{className:"px-4 py-2 text-gray-500 dark:text-gray-400",children:"No categories found"}):zy.map(F=>C.jsx(ko,{value:F,className:"text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700",children:F},F))]})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Date"}),C.jsx(ao,{type:"date",value:$.date,onChange:F=>L({...$,date:F.target.value}),className:"w-full bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-900 dark:text-gray-100"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Time"}),C.jsx(ao,{type:"time",value:$.time,onChange:F=>L({...$,time:F.target.value}),className:"w-full bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-900 dark:text-gray-100"})]}),C.jsxs("div",{className:"flex gap-2 pt-4",children:[C.jsx(mn,{onClick:D1,className:"flex-1 bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 border border-gray-300 dark:border-gray-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 h-10 sm:h-9",children:"Save"}),C.jsx(mn,{onClick:Fu,className:"flex-1 bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-400 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 h-10 sm:h-9",children:"Cancel"})]})]})]})})]})]})})]})]})]})};function g9({categories:t,buttonLabel:e}){const{open:n,setOpen:r,ref:i}=OFe();return C.jsxs("div",{className:"mt-2 relative",ref:i,children:[C.jsx(mn,{variant:"outline",size:"sm",onClick:()=>r(s=>!s),className:"bg-white",children:e}),n&&C.jsx("div",{className:"absolute left-0 mt-2 w-64 max-h-72 overflow-auto rounded-lg border bg-white shadow-lg z-50",children:C.jsx("ul",{className:"divide-y divide-gray-100",children:t.map((s,o)=>C.jsxs("li",{className:"flex justify-between items-center px-4 py-2 hover:bg-gray-50",children:[C.jsx("span",{className:"truncate font-medium text-gray-700",children:s.name}),C.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["$",kFe(s.value)]})]},s.name+o))})})]})}function Po(t,e,n){const r=e.filter(s=>t.includes(s.label.trim())).flatMap(s=>s.subcategories),i=n.map(s=>s.name);return Array.from(new Set([...r,...i.filter(s=>r.includes(s))]))}function DFe(){return C.jsx(Lle,{children:C.jsx(mfe,{children:C.jsx(MFe,{})})})}Nk.createRoot(document.getElementById("root")).render(C.jsx(U.StrictMode,{children:C.jsx(DFe,{})}));
